import{a as I,r as n,u as K,l as M,j as e,L as y,y as v}from"./index-D3qpkmvJ.js";import{a as O,i as U}from"./validators-Cu7k6NCT.js";function J(){const[S]=I();S.get("role");const[o,C]=n.useState({name:"",email:"",password:"",role:"Artist"}),[p,P]=n.useState(!1),[k,W]=n.useState(!1),[g,E]=n.useState(!0),[u,$]=n.useState(!1),[b,c]=n.useState(""),[t,d]=n.useState({name:"",email:"",password:"",terms:"",privacy:""}),[A,f]=n.useState({}),w=K(),{register:q,isAuthenticated:Y,loading:N,clearError:L}=M(),[l,j]=n.useState({minLength:!1,hasNumber:!1,hasSpecialChar:!1});n.useEffect(()=>{L()},[]);const m=(r,s)=>{switch(r){case"name":return s.trim()===""?"Name is required":"";case"email":return s.trim()===""?"Email is required":U(s)?"":"Please enter a valid email address";case"password":if(s.trim()==="")return"Password is required";const a={minLength:s.length>=6,hasNumber:/\d/.test(s),hasSpecialChar:/[!@#$%^&*(),.?":{}|<>]/.test(s)};return j(a),O(s)?"":"Password does not meet all requirements";default:return""}},h=r=>{const{name:s,value:a}=r.target;if(C({...o,[s]:a}),c(""),s==="password"){const i={minLength:a.length>=6,hasNumber:/\d/.test(a),hasSpecialChar:/[!@#$%^&*(),.?":{}|<>]/.test(a)};j(i)}t[s]&&d({...t,[s]:""})},x=r=>{const{name:s,value:a}=r.target;f({...A,[s]:!0});const i=m(s,a);d({...t,[s]:i})},T=(r,s)=>{P(s),t.terms&&d({...t,terms:""})},R=()=>{const{name:r,email:s,password:a}=o,i={name:m("name",r),email:m("email",s),password:m("password",a),terms:p?"":"You must agree to the Terms of Service to proceed",privacy:k?"":"You must agree to the Privacy Policy to proceed"};return d(i),f({name:!0,email:!0,password:!0,terms:!0,privacy:!0}),!Object.values(i).some(B=>B!=="")},F=async r=>{if(r.preventDefault(),c(""),!R()){c("Please fix the errors below before submitting.");return}const s={...o,emailNotifications:{enabled:u,followNotifications:u,likeNotifications:!1,artworkNotifications:!1}},a=await q(s,g);a.success?(v.success("Account created successfully! Welcome to KalaSangam!"),w("/user-profile")):(c(a.error),v.error(a.error))};return e.jsx("div",{className:"min-h-screen bg-cover bg-center flex items-center justify-center px-4",style:{backgroundImage:"url('/assets/parallaximg.png')"},children:e.jsxs("form",{onSubmit:F,className:`bg-[rgba(82,200,180,0.8)] 
                  p-10 rounded-3xl max-w-md w-full shadow-xl border border-white/20 font-lora`,children:[e.jsx("h2",{className:"text-4xl font-bold text-center mb-3 text-slate-800",children:"Join as Artist"}),e.jsx("p",{className:"text-center mb-6 text-base text-gray-200",children:"Start your artistic journey with us!"}),b&&e.jsx("p",{className:"text-red-600 text-sm mb-4 text-center",children:b}),e.jsxs("div",{className:"mb-4",children:[e.jsx("input",{type:"text",name:"name",placeholder:t.name?t.name:"Full Name",value:o.name,onChange:h,onBlur:x,className:`w-full px-4 py-3 rounded-xl bg-white/70 border ${t.name?"border-coral-red border-2 placeholder-coral-red":"border-coral-red/30"} text-[#284139] focus:ring-2 focus:ring-deep-teal outline-none transition-all duration-200`}),t.name&&e.jsx("p",{className:"text-coral-red text-xs mt-1 ml-2 font-medium",children:t.name})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("input",{type:"email",name:"email",placeholder:t.email?t.email:"Email",value:o.email,onChange:h,onBlur:x,className:`w-full px-4 py-3 rounded-xl bg-white/70 border ${t.email?"border-coral-red border-2 placeholder-coral-red":"border-coral-red/30"} text-[#284139] focus:ring-2 focus:ring-deep-teal outline-none transition-all duration-200`}),t.email&&e.jsx("p",{className:"text-coral-red text-xs mt-1 ml-2 font-medium",children:t.email})]}),o.password&&(!l.minLength||!l.hasNumber||!l.hasSpecialChar)&&e.jsxs("div",{className:"mb-3 transition-all duration-300 ease-in-out",children:[e.jsx("p",{className:"text-base font-semibold text-slate-800 mb-2",children:"Password Requirements:"}),e.jsxs("ul",{className:"text-sm text-gray-200 space-y-1 ml-4",children:[e.jsxs("li",{className:`flex items-center ${l.minLength?"text-green-300":"text-gray-200"}`,children:[e.jsx("span",{className:`w-1 h-1 rounded-full mr-2 ${l.minLength?"bg-green-300":"bg-gray-200"}`}),"At least 6 characters long"]}),e.jsxs("li",{className:`flex items-center ${l.hasNumber?"text-green-300":"text-gray-200"}`,children:[e.jsx("span",{className:`w-1 h-1 rounded-full mr-2 ${l.hasNumber?"bg-green-300":"bg-gray-200"}`}),"Contains at least one number"]}),e.jsxs("li",{className:`flex items-center ${l.hasSpecialChar?"text-green-300":"text-gray-200"}`,children:[e.jsx("span",{className:`w-1 h-1 rounded-full mr-2 ${l.hasSpecialChar?"bg-green-300":"bg-gray-200"}`}),"Contains at least one special character"]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("input",{type:"password",name:"password",placeholder:t.password?t.password:"Password",value:o.password,onChange:h,onBlur:x,className:`w-full px-4 py-3 rounded-xl bg-white/70 border ${t.password?"border-coral-red border-2 placeholder-coral-red":"border-coral-red/30"} text-[#284139] focus:ring-2 focus:ring-deep-teal outline-none transition-all duration-200`}),t.password&&e.jsx("p",{className:"text-coral-red text-xs mt-1 ml-2 font-medium",children:t.password})]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-start gap-3 text-base cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:p,onChange:r=>T("terms",r.target.checked),className:`mt-1 w-4 h-4 text-deep-teal border ${t.terms?"border-coral-red border-2":"border-gray-300"} rounded focus:ring-2 focus:ring-deep-teal transition-all duration-200`}),e.jsxs("span",{className:"text-slate-800 leading-relaxed",children:["I agree to KalaSangam's"," ",e.jsx(y,{to:"/terms-of-service",target:"_blank",className:"text-white hover:underline font-semibold hover:text-gray-200",children:"TOS and Privacy Policy"})]})]}),t.terms&&e.jsx("p",{className:"text-coral-red text-xs mt-1 ml-7 font-medium",children:t.terms})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-start gap-3 text-base cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:u,onChange:r=>$(r.target.checked),className:"mt-1 w-4 h-4 text-deep-teal border border-gray-300 rounded focus:ring-2 focus:ring-deep-teal transition-all duration-200"}),e.jsxs("span",{className:"text-slate-800 leading-relaxed",children:[e.jsx("strong",{children:" Email Updates"})," - Get notified when someone follows you"]})]})}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-start gap-3 text-base cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:g,onChange:r=>E(r.target.checked),className:"mt-1 w-4 h-4 text-deep-teal border border-gray-300 rounded focus:ring-2 focus:ring-deep-teal transition-all duration-200"}),e.jsxs("span",{className:"text-slate-800 leading-relaxed",children:[e.jsx("strong",{children:"Remember me"})," - Stay logged in even after closing the browser"]})]})})]}),e.jsx("button",{type:"submit",disabled:N,className:"w-full bg-deep-teal hover:bg-coral-red text-off-white font-bold py-3 rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:N?"Creating Account...":"Sign Up"}),e.jsx("div",{className:"text-center mt-4",children:e.jsx("button",{type:"button",onClick:()=>w("/phone-signup"),className:"text-sm bg-white/20 hover:bg-white/30 text-deep-teal font-semibold py-2 px-4 rounded-lg border border-deep-teal/30 transition-all",children:"ðŸ“± Continue with Phone Number Instead"})}),e.jsxs("p",{className:"text-center mt-6 text-base text-white font-medium",children:["Already have an account? ",e.jsx(y,{to:"/login",className:"underline font-semibold hover:text-coral-red",children:"Login"})]})]})})}export{J as default};
