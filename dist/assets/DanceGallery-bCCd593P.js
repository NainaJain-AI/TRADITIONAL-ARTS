import{r as u,h as C,j as i,m as d}from"./index-D3qpkmvJ.js";import{u as D}from"./use-animation-5Ub6R6LF.js";var j=new Map,g=new WeakMap,E=0,S=void 0;function A(t){return t?(g.has(t)||(E+=1,g.set(t,E.toString())),g.get(t)):"0"}function F(t){return Object.keys(t).sort().filter(e=>t[e]!==void 0).map(e=>`${e}_${e==="root"?A(t.root):t[e]}`).toString()}function L(t){const e=F(t);let a=j.get(e);if(!a){const r=new Map;let s;const o=new IntersectionObserver(l=>{l.forEach(n=>{var c;const p=n.isIntersecting&&s.some(m=>n.intersectionRatio>=m);t.trackVisibility&&typeof n.isVisible>"u"&&(n.isVisible=p),(c=r.get(n.target))==null||c.forEach(m=>{m(p,n)})})},t);s=o.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),a={id:e,observer:o,elements:r},j.set(e,a)}return a}function O(t,e,a={},r=S){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const c=t.getBoundingClientRect();return e(r,{isIntersecting:r,target:t,intersectionRatio:typeof a.threshold=="number"?a.threshold:0,time:0,boundingClientRect:c,intersectionRect:c,rootBounds:c}),()=>{}}const{id:s,observer:o,elements:l}=L(a),n=l.get(t)||[];return l.has(t)||l.set(t,n),n.push(e),o.observe(t),function(){n.splice(n.indexOf(e),1),n.length===0&&(l.delete(t),o.unobserve(t)),l.size===0&&(o.disconnect(),j.delete(s))}}function V({threshold:t,delay:e,trackVisibility:a,rootMargin:r,root:s,triggerOnce:o,skip:l,initialInView:n,fallbackInView:c,onChange:p}={}){var m;const[x,R]=u.useState(null),b=u.useRef(p),[y,N]=u.useState({inView:!!n,entry:void 0});b.current=p,u.useEffect(()=>{if(l||!x)return;let h;return h=O(x,(I,w)=>{N({inView:I,entry:w}),b.current&&b.current(I,w),w.isIntersecting&&o&&h&&(h(),h=void 0)},{root:s,rootMargin:r,threshold:t,trackVisibility:a,delay:e},c),()=>{h&&h()}},[Array.isArray(t)?t.toString():t,x,s,r,o,l,a,c,e]);const v=(m=y.entry)==null?void 0:m.target,z=u.useRef(void 0);!x&&v&&!o&&!l&&z.current!==v&&(z.current=v,N({inView:!!n,entry:void 0}));const f=[R,y.inView,y.entry];return f.ref=f[0],f.inView=f[1],f.entry=f[2],f}const M=[{id:1,src:"/assets/traditional/1.png",size:"w-48 h-auto"},{id:2,src:"/assets/traditional/2.png",size:"w-40 h-auto"},{id:3,src:"/assets/traditional/3.png",size:"w-40 h-auto"},{id:4,src:"/assets/traditional/4.png",size:"w-40 h-auto"},{id:5,src:"/assets/traditional/5.png",size:"w-40 h-auto"},{id:6,src:"/assets/traditional/6.png",size:"w-40 h-auto"},{id:7,src:"/assets/traditional/7.png",size:"w-40 h-auto"},{id:7,src:"/assets/traditional/8.png",size:"w-40 h-auto"}],T=({src:t,size:e,side:a})=>{const r=a==="left"?{left:"-2rem",top:"10%",translateY:"-40%"}:{right:"-2rem",top:"10%",translateY:"-40%"};return i.jsx(d.img,{src:t,alt:"floating visual",className:`${e} absolute opacity-100 select-none pointer-events-none`,style:{position:"absolute",top:r.top,[a]:r[a],transform:`translateY(${r.translateY})`},animate:{y:[0,-15,0]},transition:{duration:5+Math.random()*3,repeat:1/0,ease:"easeInOut"},draggable:!1,loading:"lazy"})},$=({dance:t,index:e})=>{var n;const a=D(),[r,s]=V({threshold:.4,triggerOnce:!0}),o=e%2===0,l=M[e%M.length];return u.useEffect(()=>{s&&a.start("visible")},[a,s]),i.jsxs(d.div,{ref:r,initial:{opacity:0,x:o?-100:100},animate:a,variants:{visible:{opacity:1,x:0,transition:{duration:.8,ease:"easeOut"}}},className:"relative w-full flex justify-center mb-20",style:{minHeight:"200px"},children:[i.jsx(d.img,{src:"/assets/traditional/diya.png",alt:"diya",className:"w-12 h-auto absolute top-6 left-1/2 -translate-x-1/2 select-none pointer-events-none drop-shadow-md",animate:{scale:s?[1,1.3,1]:1,filter:s?"drop-shadow(0 0 10px rgba(255, 215, 0, 0.7))":"none"},transition:{repeat:1/0,duration:2}}),i.jsx(T,{src:l.src,size:l.size,side:o?"right":"left"}),i.jsxs(d.div,{className:`max-w-4xl bg-[#fff3f1] rounded-2xl p-12 shadow-lg font-lora text-[#134856] cursor-pointer ${o?"mr-auto text-left":"ml-auto text-right"}`,style:{flex:"1 1 70%",boxShadow:"0 8px 24px rgba(244, 140, 140, 0.3), 0 0 12px rgba(244, 140, 140, 0.3)",filter:"drop-shadow(0 0 6px rgba(244, 140, 140, 0.3))"},whileHover:{scale:1.05,y:-8,boxShadow:"0 0 40px rgba(244, 140, 140, 0.6), 0 20px 40px rgba(244, 140, 140, 0.3)",filter:"drop-shadow(0 0 10px rgba(244, 140, 140, 0.4))"},transition:{duration:.4},children:[i.jsx("h2",{className:"text-[2rem] font-lora font-bold text-deep-teal mb-8",children:t.name}),i.jsx("p",{className:"text-[1.25rem] font-lora font-medium text-coral-pink leading-relaxed",children:((n=t.description)==null?void 0:n.slice(0,300))||"This classical dance form is celebrated for its rich heritage and traditional significance across Indian culture."})]})]})},Y={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.25}}},_=()=>{const t=Array.from({length:15},(e,a)=>({id:a,size:Math.random()*4+2,color:["rgba(19, 72, 86, 0.6)","rgba(224, 82, 100, 0.6)","rgba(244, 140, 140, 0.6)","rgba(29, 124, 111, 0.6)","rgba(255, 215, 0, 0.6)"][Math.floor(Math.random()*5)],initialX:Math.random()*100,initialY:Math.random()*100,animationDelay:Math.random()*5,animationDuration:8+Math.random()*6,symbol:["●","◆","▲","■","♦","★"][Math.floor(Math.random()*6)]}));return i.jsx("div",{className:"fixed inset-0 pointer-events-none z-0",children:t.map(e=>i.jsx(d.div,{className:"absolute text-2xl opacity-40",style:{left:`${e.initialX}%`,top:`${e.initialY}%`,color:e.color,filter:"blur(0.5px)"},animate:{y:[0,-80,0],x:[0,25,-25,0],opacity:[.4,.7,.4],scale:[1,1.3,1],rotate:[0,360]},transition:{duration:e.animationDuration,repeat:1/0,delay:e.animationDelay,ease:"easeInOut"},children:e.symbol},e.id))})},P=()=>{const[t,e]=u.useState([]),[a,r]=u.useState(!1);return u.useEffect(()=>{window.scrollTo(0,0);const s=setTimeout(()=>{r(!0)},150);return()=>clearTimeout(s)},[]),u.useEffect(()=>{C.get("/api/danceforms").then(s=>{Array.isArray(s.data)?e(s.data):console.error("Unexpected response format:",s.data)}).catch(s=>{console.error("Error fetching dance forms:",s)})},[]),i.jsxs("div",{className:"min-h-screen bg-[#F8E6DA] overflow-hidden font-body text-[#134856]",children:[i.jsx(_,{}),i.jsxs("div",{className:"w-full h-20 relative overflow-hidden",style:{background:"linear-gradient(180deg, #134856 0%, #E05264 40%, #fbd1c6 70%, #fce3d8 100%)"},children:[i.jsxs("svg",{className:"absolute bottom-0 w-full h-full",viewBox:"0 0 1200 120",preserveAspectRatio:"none",children:[i.jsx("path",{d:"M0,0L50,10C100,20,200,40,300,45C400,50,500,40,600,35C700,30,800,30,900,35C1000,40,1100,50,1150,55L1200,60L1200,120L0,120Z",fill:"#fbd1c6",opacity:"0.5"}),i.jsx("path",{d:"M0,20L50,25C100,30,200,40,300,42C400,45,500,40,600,38C700,35,800,35,900,40C1000,45,1100,55,1150,60L1200,65L1200,120L0,120Z",fill:"#fce3d8",opacity:"0"})]}),i.jsx("div",{className:"absolute bottom-0 w-full h-4 bg-[#fce3d8] z-[-1]"})]}),i.jsxs(d.section,{className:"relative overflow-hidden pb-8 pt-12",initial:{opacity:0},animate:{opacity:a?1:0},transition:{duration:1,delay:.2},children:[i.jsx(d.div,{className:"absolute w-96 h-96 bg-gradient-to-r from-[#E05264]/20 to-[#F48C8C]/20 rounded-full blur-3xl opacity-30 top-0 left-0",animate:{scale:[1,1.2,1],rotate:[0,90,0],opacity:[.3,.5,.3]},transition:{duration:10,repeat:1/0,ease:"easeInOut"}}),i.jsx(d.div,{className:"absolute w-80 h-80 bg-gradient-to-r from-[#1D7C6F]/20 to-[#FFD700]/20 rounded-full blur-3xl opacity-25 bottom-0 right-0",animate:{scale:[1,1.1,1],rotate:[0,-90,0],opacity:[.25,.4,.25]},transition:{duration:8,repeat:1/0,ease:"easeInOut",delay:1}}),i.jsxs("div",{className:"relative container mx-auto px-4 text-center z-10",children:[i.jsx(d.h1,{className:"inline-block text-6xl font-dm-serif-display mb-4 drop-shadow-lg bg-gradient-to-r from-[#134856] to-[#e05264] bg-clip-text text-transparent",initial:{y:50,opacity:0},animate:{y:a?0:50,opacity:a?1:0},transition:{duration:.8,delay:.4},children:"Explore Dance Forms"}),i.jsx(d.p,{className:"text-xl font-lora text-coral-pink font-semibold max-w-3xl mx-auto leading-relaxed mb-6",initial:{y:30,opacity:0},animate:{y:a?0:30,opacity:a?1:0},transition:{duration:.8,delay:.6},children:"Discover the graceful movements and rich traditions of classical Indian dance forms. Each dance tells a story of devotion, celebration, and cultural heritage that has been passed down through generations."})]})]}),i.jsx("div",{className:"container mx-auto px-4 relative z-10",children:i.jsxs(d.section,{className:"mb-16",initial:{opacity:0,y:20},animate:{opacity:a?1:0,y:a?0:20},transition:{duration:.8,delay:1},children:[i.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-1 bg-gradient-to-b from-[#134856] to-[#e05264] h-full rounded-full z-0"}),i.jsx(d.div,{className:"relative z-10",variants:Y,initial:"hidden",animate:"visible",children:t.map((s,o)=>i.jsx($,{dance:s,index:o},s._id||o))})]})})]})};export{P as default};
