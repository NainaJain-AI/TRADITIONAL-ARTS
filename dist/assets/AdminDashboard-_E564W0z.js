import{h as fe,r as n,l as be,j as e,z as ve,a2 as Ne,m as I,aa as ye,ab as F,a3 as ne,o as we,a8 as Ae,a0 as ie,ac as Ce,ad as Se,u as ke,a9 as b,F as Ee,x as De,v as V,ae as Re,af as le,B as Ue,C as Fe,A as $e}from"./index-D3qpkmvJ.js";import Me from"./AdminPanel-CMI4mqEO.js";import{A as ze}from"./index-5xPmm2RN.js";const Le="https://your-production-api-url.com",E=fe.create({baseURL:Le});E.interceptors.request.use(a=>{const m=localStorage.getItem("token");return m&&(a.headers.Authorization=`Bearer ${m}`),a});const J={submitVerificationRequest:async a=>(await E.post("/verification/submit",a)).data,getVerificationStatus:async()=>(await E.get("/verification/status")).data,getVerifiedArtists:async(a={})=>(await E.get("/verification/verified-artists",{params:a})).data,getPendingVerifications:async(a={})=>(await E.get("/verification/pending",{params:a})).data,reviewVerification:async(a,m,c)=>(await E.post(`/verification/review/${a}`,{action:m,notes:c})).data,getVerificationStats:async()=>(await E.get("/verification/stats")).data},Pe=()=>{const[a,m]=n.useState([]),[c,d]=n.useState(!0),[x,h]=n.useState("pending"),[A,C]=n.useState(null),[i,l]=n.useState({total:0,pending:0,approved:0,rejected:0}),{user:y}=be();n.useEffect(()=>{(y==null?void 0:y.role)==="Admin"&&(D(),v())},[y,x]);const D=async()=>{try{d(!0);const t=await J.getPendingVerifications();t.success&&m(t.pendingRequests||[])}catch(t){console.error("Error fetching verification requests:",t)}finally{d(!1)}},v=async()=>{try{const t=await J.getVerificationStats();t.success&&l(t.stats)}catch(t){console.error("Error fetching stats:",t)}},S=async(t,g,j="")=>{try{const p=g?"approve":"reject",N=await J.reviewVerification(t,p,j);N.success?(D(),v(),C(null),alert(`Request ${g?"approved":"rejected"} successfully!`)):alert(N.message||"Failed to process request")}catch(p){console.error("Error processing request:",p),alert("Failed to process request")}},$=({request:t})=>{var g,j;return e.jsx(I.div,{className:"bg-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden",whileHover:{y:-2},initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:t.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(t.name||"User")}&background=134856&color=fff`,alt:t.name,className:"w-12 h-12 rounded-full object-cover"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:t.name}),e.jsx("p",{className:"text-sm text-gray-600",children:t.email})]})]}),e.jsx("span",{className:`
            px-3 py-1 rounded-full text-xs font-medium
            ${t.verificationStatus==="pending"?"bg-yellow-100 text-yellow-800":""}
            ${t.verificationStatus==="approved"?"bg-green-100 text-green-800":""}
            ${t.verificationStatus==="rejected"?"bg-red-100 text-red-800":""}
          `,children:((g=t.verificationStatus)==null?void 0:g.charAt(0).toUpperCase())+((j=t.verificationStatus)==null?void 0:j.slice(1))})]}),e.jsxs("div",{className:"space-y-3 mb-4",children:[t.artistName&&e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Artist Name:"}),e.jsx("p",{className:"text-sm text-gray-900",children:t.artistName})]}),t.specialization&&e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Specialization:"}),e.jsx("p",{className:"text-sm text-gray-900",children:t.specialization})]}),t.experience&&e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Experience:"}),e.jsxs("p",{className:"text-sm text-gray-900",children:[t.experience," years"]})]}),t.portfolio&&e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Portfolio:"}),e.jsxs("a",{href:t.portfolio,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center gap-1",children:["View Portfolio ",e.jsx(ye,{size:10})]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Documents:"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:t.documents&&t.documents.map((p,N)=>e.jsxs("a",{href:p,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-50 text-blue-700 rounded text-xs hover:bg-blue-100",children:[e.jsx(F,{size:10}),"Document ",N+1,e.jsx(ne,{size:10})]},N))})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-4",children:[e.jsxs("span",{children:["Submitted: ",new Date(t.createdAt).toLocaleDateString()]}),t.reviewedAt&&e.jsxs("span",{children:["Reviewed: ",new Date(t.reviewedAt).toLocaleDateString()]})]}),t.adminReason&&e.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Admin Note:"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1",children:t.adminReason})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>C(t),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(we,{size:14}),"View Details"]}),t.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>S(t._id,!0),className:"flex items-center justify-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(Ae,{size:14}),"Approve"]}),e.jsxs("button",{onClick:()=>C(t),className:"flex items-center justify-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[e.jsx(ie,{size:14}),"Reject"]})]})]})]})})},_=({request:t,onClose:g})=>{var k,R,U,f,z;const[j,p]=n.useState(""),[N,T]=n.useState(null),M=o=>{if(!o&&!j.trim()){alert("Please provide a reason for rejection");return}S(t._id,o,j)};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx(I.div,{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Verification Request Details"}),e.jsx("button",{onClick:g,className:"text-gray-400 hover:text-gray-600",children:e.jsx(ie,{size:20})})]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg",children:[e.jsx("img",{src:((k=t.userId)==null?void 0:k.avatar)||`https://ui-avatars.com/api/?name=${encodeURIComponent(((R=t.userId)==null?void 0:R.name)||"User")}&background=134856&color=fff`,alt:(U=t.userId)==null?void 0:U.name,className:"w-16 h-16 rounded-full object-cover"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:(f=t.userId)==null?void 0:f.name}),e.jsx("p",{className:"text-gray-600",children:(z=t.userId)==null?void 0:z.email}),e.jsx("span",{className:`
                    inline-block px-2 py-1 rounded-full text-xs font-medium mt-1
                    ${t.status==="pending"?"bg-yellow-100 text-yellow-800":""}
                    ${t.status==="approved"?"bg-green-100 text-green-800":""}
                    ${t.status==="rejected"?"bg-red-100 text-red-800":""}
                  `,children:t.status.charAt(0).toUpperCase()+t.status.slice(1)})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries({"Artist Name":t.artistName,Specialization:t.specialization,Experience:t.experience?`${t.experience} years`:null,Portfolio:t.portfolio,"Social Media":t.socialMedia,Bio:t.bio}).map(([o,w])=>w&&e.jsxs("div",{className:"p-3 border rounded-lg",children:[e.jsxs("span",{className:"font-medium text-gray-700",children:[o,":"]}),o==="Portfolio"?e.jsx("a",{href:w,target:"_blank",rel:"noopener noreferrer",className:"block text-blue-600 hover:text-blue-800 break-all",children:w}):e.jsx("p",{className:"text-gray-900 mt-1",children:w})]},o))}),t.documents&&t.documents.length>0&&e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Documents:"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:t.documents.map((o,w)=>e.jsxs("a",{href:o,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-2 bg-blue-50 text-blue-700 rounded hover:bg-blue-100",children:[e.jsx(F,{}),e.jsxs("span",{className:"text-sm",children:["Document ",w+1]}),e.jsx(ne,{size:12})]},w))})]})]}),t.status==="pending"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Note (optional for approval, required for rejection):"}),e.jsx("textarea",{value:j,onChange:o=>p(o.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Add a note about your decision..."})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>M(!0),className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(Ce,{}),"Approve Request"]}),e.jsxs("button",{onClick:()=>M(!1),className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[e.jsx(Se,{}),"Reject Request"]})]})]})]})})})};return(y==null?void 0:y.role)!=="Admin"?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ve,{className:"mx-auto text-gray-400 mb-4",size:48}),e.jsx("p",{className:"text-gray-600",children:"Access denied. Admin privileges required."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Verification Management"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:i.total}),e.jsx("div",{className:"text-sm text-blue-700",children:"Total Requests"})]}),e.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:i.pending}),e.jsx("div",{className:"text-sm text-yellow-700",children:"Pending"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:i.approved}),e.jsx("div",{className:"text-sm text-green-700",children:"Approved"})]}),e.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:i.rejected}),e.jsx("div",{className:"text-sm text-red-700",children:"Rejected"})]})]})]}),e.jsx("div",{className:"flex bg-gray-100 rounded-lg p-1",children:["pending","approved","rejected","all"].map(t=>e.jsxs("button",{onClick:()=>h(t),className:`
              flex-1 py-2 px-4 rounded-md transition-all duration-200 capitalize
              ${x===t?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}
            `,children:[t," (",t==="all"?i.total:t==="pending"?i.pending:t==="approved"?i.approved:i.rejected,")"]},t))}),c?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading verification requests..."})]}):a.length===0?e.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[e.jsx(Ne,{className:"mx-auto text-gray-400 mb-4",size:48}),e.jsxs("p",{className:"text-gray-600",children:["No ",x!=="all"?x:""," verification requests found."]})]}):e.jsx("div",{className:"grid gap-6 md:grid-cols-1 lg:grid-cols-2",children:a.map(t=>e.jsx($,{request:t},t._id))}),A&&e.jsx(_,{request:A,onClose:()=>C(null)})]})},Oe=()=>{var q;const[a,m]=n.useState(null),[c,d]=n.useState("dashboard"),[x,h]=n.useState([]),[A,C]=n.useState(!1),[i,l]=n.useState(""),[y,D]=n.useState(!1),[v,S]=n.useState({page:1,limit:10,search:"",role:"all"}),[$,_]=n.useState({}),[t,g]=n.useState(""),[j,p]=n.useState([]),[N,T]=n.useState([]),[M,k]=n.useState(!1),[R,U]=n.useState(!1),[f,z]=n.useState({totalUsers:0,totalArtworks:0,totalEvents:0,recentUsers:[],systemStatus:"operational"}),o=ke();n.useEffect(()=>{const s=JSON.parse(localStorage.getItem("user"));if(s){if(m(s),C(!1),s.role!=="Admin"){o("/");return}ce()}else o("/")},[o]);const w=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("userRole"),o("/")},ce=async()=>{var s,r,u,L,ee;try{const[P,B,Y,H]=await Promise.all([b.getAllUsers({limit:100}),b.getAllUsers({limit:5,sortBy:"createdAt",sortOrder:"desc"}),b.getAllArtworks(),b.getAllEvents()]),se=((s=P.pagination)==null?void 0:s.totalCount)||((r=P.users)==null?void 0:r.length)||0,te=Array.isArray(Y)?Y.length:((u=Y.data)==null?void 0:u.length)||0,ae=Array.isArray(H)?H.length:((L=H.data)==null?void 0:L.length)||0,re=((ee=B.users)==null?void 0:ee.slice(0,5))||[];console.log("Dashboard Stats:",{totalUsers:se,totalArtworks:te,totalEvents:ae,recentUsersCount:re.length}),z({totalUsers:se,totalArtworks:te,totalEvents:ae,recentUsers:re,systemStatus:"operational"})}catch(P){console.error("Error fetching dashboard stats:",P),z(B=>({...B,systemStatus:"error"}))}},O=async()=>{try{l("");const s=await b.getAllUsers(v);h(s.users||[]),_(s.pagination||{})}catch(s){console.error("Error fetching users:",s),l(`Error fetching users: ${s.message}`),h([])}},oe=async s=>{try{l(""),await b.createUser(s),D(!1),O()}catch(r){l(`Error creating user: ${r.message}`)}},de=async s=>{if(window.confirm("Are you sure you want to delete this user?"))try{l(""),await b.deleteUser(s),O()}catch(r){l(`Error deleting user: ${r.message}`)}},X=async()=>{try{k(!0),l("");const s=await b.getAllArtworks();console.log("Artworks data received:",s),Array.isArray(s)?p(s):s&&Array.isArray(s.data)?p(s.data):(console.warn("Unexpected artworks data format:",s),p([]))}catch(s){console.error("Error fetching artworks:",s),l(`Error fetching artworks: ${s.message}`),p([])}finally{k(!1)}},Q=async()=>{try{k(!0),l(""),console.log("Fetching artist-created events...");const s=await b.getAllEvents({creatorRole:"Artist",upcoming:"false"});console.log("Artist events fetched:",s),T(Array.isArray(s)?s:[])}catch(s){console.error("Error fetching events:",s),l(`Error fetching events: ${s.message}`),T([])}finally{k(!1)}},me=async s=>{if(window.confirm("Are you sure you want to delete this artwork?"))try{l(""),await b.deleteArtwork(s),X()}catch(r){l(`Error deleting artwork: ${r.message}`)}},xe=async s=>{if(window.confirm("Are you sure you want to delete this event?"))try{l(""),await b.deleteEvent(s),Q()}catch(r){l(`Error deleting event: ${r.message}`)}};n.useEffect(()=>{c==="users"&&a&&O()},[c,v,a]),n.useEffect(()=>{t==="artworks"?X():t==="events"&&Q()},[t]);const he=()=>{const s=Array.from({length:20},(r,u)=>({id:u,size:Math.random()*4+2,color:["rgba(19, 72, 86, 0.6)","rgba(224, 82, 100, 0.6)","rgba(244, 140, 140, 0.6)","rgba(29, 124, 111, 0.6)","rgba(255, 215, 0, 0.6)"][Math.floor(Math.random()*5)],initialX:Math.random()*100,initialY:Math.random()*100,animationDelay:Math.random()*5,animationDuration:8+Math.random()*6}));return e.jsx("div",{className:"fixed inset-0 pointer-events-none z-0",children:s.map(r=>e.jsx(I.div,{className:"absolute rounded-full opacity-40",style:{width:`${r.size}px`,height:`${r.size}px`,backgroundColor:r.color,left:`${r.initialX}%`,top:`${r.initialY}%`,filter:"blur(0.5px)",boxShadow:`0 0 ${r.size*2}px ${r.color}`},animate:{y:[0,-80,0],x:[0,25,-25,0],opacity:[.4,.7,.4],scale:[1,1.3,1]},transition:{duration:r.animationDuration,repeat:1/0,delay:r.animationDelay,ease:"easeInOut"}},r.id))})};if(A||!a)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#F48C8C]/10 via-white to-[#134856]/10 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-[#E05264] mx-auto mb-4"}),e.jsx("p",{className:"text-2xl font-dm-serif text-transparent bg-clip-text bg-gradient-to-r from-[#E05264] to-[#134856]",children:"Loading admin dashboard..."})]})});const W=[{id:"dashboard",label:"Dashboard",icon:Re},{id:"reports",label:"Reports",icon:le},{id:"users",label:"User Management",icon:V},{id:"content",label:"Content Management",icon:F},{id:"verification-admin",label:"Verification",icon:F}],G=[{id:"settings",label:"Settings",icon:Ue},{id:"logout",label:"Logout",icon:Fe,isAction:!0}],K=s=>{s==="logout"?w():(d(s),g("")),U(!1)},ge=()=>{switch(c){case"dashboard":return Z();case"reports":return e.jsx(Me,{});case"users":return ue();case"content":return je();case"settings":return pe();case"verification-admin":return e.jsx(Pe,{});default:return Z()}},Z=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-[#134856] to-[#E05264] rounded-xl p-6 text-white",children:[e.jsxs("h2",{className:"text-3xl font-bold font-dm-serif mb-2",children:["Welcome, ",(a==null?void 0:a.name)||"Admin","!"]}),e.jsxs("p",{className:"font-lora opacity-90",children:["Role: ",e.jsx("span",{className:"bg-white/20 px-3 py-1 rounded-full text-sm font-medium",children:a==null?void 0:a.role})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),e.jsx("p",{className:"text-3xl font-bold text-[#134856]",children:f.totalUsers})]}),e.jsx("div",{className:"w-12 h-12 bg-[#134856]/10 rounded-lg flex items-center justify-center",children:e.jsx(V,{className:"w-6 h-6 text-[#134856]"})})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Registered platform users"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Artworks"}),e.jsx("p",{className:"text-3xl font-bold text-[#F48C8C]",children:f.totalArtworks})]}),e.jsx("div",{className:"w-12 h-12 bg-[#F48C8C]/10 rounded-lg flex items-center justify-center",children:e.jsx(F,{className:"w-6 h-6 text-[#F48C8C]"})})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Submitted artworks"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Events"}),e.jsx("p",{className:"text-3xl font-bold text-[#1D7C6F]",children:f.totalEvents})]}),e.jsx("div",{className:"w-12 h-12 bg-[#1D7C6F]/10 rounded-lg flex items-center justify-center",children:e.jsx($e,{className:"w-6 h-6 text-[#1D7C6F]"})})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Scheduled cultural events"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 font-dm-serif",children:"System Status"}),e.jsx("div",{className:`w-3 h-3 rounded-full ${f.systemStatus==="operational"?"bg-green-500":"bg-red-500"}`})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Platform Status"}),e.jsx("span",{className:`text-sm font-medium ${f.systemStatus==="operational"?"text-green-600":"text-red-600"}`,children:f.systemStatus==="operational"?"Operational":"Issues Detected"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Database"}),e.jsx("span",{className:"text-sm font-medium text-green-600",children:"Connected"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"API Services"}),e.jsx("span",{className:"text-sm font-medium text-green-600",children:"Running"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 font-dm-serif mb-4",children:"Recent Activity"}),e.jsx("div",{className:"space-y-3",children:f.recentUsers&&f.recentUsers.length>0?f.recentUsers.map((s,r)=>{var u;return e.jsxs("div",{className:"flex items-center space-x-3 p-2 hover:bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-[#134856] to-[#E05264] rounded-full flex items-center justify-center text-white text-sm font-medium",children:s.name?s.name.charAt(0).toUpperCase():"?"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:s.name||"Unknown User"}),e.jsxs("p",{className:"text-xs text-gray-500 truncate",children:["New ",((u=s.role)==null?void 0:u.toLowerCase())||"user"," • ",s.createdAt?new Date(s.createdAt).toLocaleDateString():"Recently"]})]}),e.jsx("div",{className:`w-2 h-2 rounded-full ${s.role==="Artist"?"bg-[#E05264]":"bg-[#134856]"}`})]},s._id||r)}):e.jsx("div",{className:"text-center py-4",children:e.jsx("p",{className:"text-sm text-gray-500",children:"No recent activity"})})})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 font-dm-serif mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("button",{onClick:()=>d("users"),className:"flex items-center space-x-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(V,{className:"w-5 h-5 text-[#134856]"}),e.jsx("span",{className:"font-medium text-gray-700",children:"Manage Users"})]}),e.jsxs("button",{onClick:()=>d("content"),className:"flex items-center space-x-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(F,{className:"w-5 h-5 text-[#E05264]"}),e.jsx("span",{className:"font-medium text-gray-700",children:"Manage Content"})]}),e.jsxs("button",{onClick:()=>d("reports"),className:"flex items-center space-x-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(le,{className:"w-5 h-5 text-[#F48C8C]"}),e.jsx("span",{className:"font-medium text-gray-700",children:"View Reports"})]})]})]})]}),ue=()=>a.role!=="Admin"?e.jsx("div",{className:"access-limited",children:e.jsx("p",{children:"Limited access: You can only view your own profile."})}):e.jsxs("div",{className:"user-management",children:[e.jsxs("div",{className:"admin-header",children:[e.jsx("h2",{children:"User Management"}),e.jsx("button",{className:"btn btn-primary",onClick:()=>D(!0),children:"Create New User"})]}),i&&e.jsx("div",{className:"error-message",children:i}),e.jsxs("div",{className:"user-controls",children:[e.jsx("input",{type:"text",placeholder:"Search users by name or email...",value:v.search,onChange:s=>S(r=>({...r,search:s.target.value,page:1})),className:"search-input"}),e.jsxs("select",{value:v.role,onChange:s=>S(r=>({...r,role:s.target.value,page:1})),className:"role-filter",children:[e.jsx("option",{value:"all",children:"All Roles"}),e.jsx("option",{value:"Admin",children:"Admin"}),e.jsx("option",{value:"Artist",children:"Artist"})]})]}),A?e.jsx("div",{className:"loading",children:"Loading users..."}):e.jsx("div",{className:"users-table-container",children:e.jsxs("table",{className:"users-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Email"}),e.jsx("th",{children:"Role"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Joined"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:x.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",style:{textAlign:"center",padding:"20px"},children:"No users found"})}):x.map(s=>e.jsxs("tr",{children:[e.jsx("td",{children:s.name}),e.jsx("td",{children:s.email}),e.jsx("td",{children:e.jsx("span",{className:`role-badge ${s.role.toLowerCase()}`,children:s.role})}),e.jsx("td",{children:e.jsx("span",{className:`status-badge ${s.isEmailVerified?"verified":"unverified"}`,children:s.isEmailVerified?"Verified":"Unverified"})}),e.jsx("td",{children:new Date(s.createdAt).toLocaleDateString()}),e.jsx("td",{children:e.jsxs("div",{className:"user-actions",children:[s.role!=="Admin"&&e.jsx("button",{className:"btn btn-sm btn-danger",onClick:()=>de(s._id),disabled:s._id===a.id,children:"Delete"}),s.role==="Admin"&&e.jsx("span",{className:"text-sm text-gray-500 italic",children:"Protected Account"})]})})]},s._id))})]})}),$.totalPages>1&&e.jsxs("div",{className:"pagination",children:[e.jsx("button",{onClick:()=>S(s=>({...s,page:s.page-1})),disabled:v.page===1,className:"btn btn-sm",children:"Previous"}),e.jsxs("span",{children:["Page ",v.page," of ",$.totalPages]}),e.jsx("button",{onClick:()=>S(s=>({...s,page:s.page+1})),disabled:v.page>=$.totalPages,className:"btn btn-sm",children:"Next"})]}),y&&e.jsx(Ve,{onClose:()=>D(!1),onSubmit:oe,error:i})]}),je=()=>a.role!=="Admin"?e.jsx("div",{className:"access-limited",children:e.jsx("p",{children:"Only admins can manage content."})}):t?t==="artworks"?e.jsxs("div",{className:"content-management",children:[e.jsx("div",{className:"content-header",children:e.jsx("h2",{children:"Manage Artworks"})}),i&&e.jsx("div",{className:"error-message",children:i}),M?e.jsx("div",{className:"loading",children:"Loading artworks..."}):e.jsxs("div",{className:"content-list",children:[e.jsxs("p",{className:"content-count",children:["Total Artworks: ",j.length]}),j.length===0?e.jsx("div",{className:"no-content",children:e.jsx("p",{children:"No artworks found."})}):e.jsx("div",{className:"artworks-grid",children:j.map(s=>{var r;return e.jsxs("div",{className:"artwork-card",children:[s.imageUrl&&e.jsx("img",{src:s.imageUrl,alt:s.title,className:"artwork-image",onError:u=>{u.target.style.display="none"}}),e.jsxs("div",{className:"artwork-info",children:[e.jsx("h4",{children:s.title}),e.jsxs("p",{children:[e.jsx("strong",{children:"Artist:"})," ",((r=s.artist)==null?void 0:r.name)||"Unknown"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Category:"})," ",s.category]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Medium:"})," ",s.medium]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Price:"})," $",s.price||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Uploaded:"})," ",new Date(s.createdAt).toLocaleDateString()]}),e.jsx("div",{className:"artwork-actions",children:e.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>me(s._id),children:"Delete"})})]})]},s._id)})})]}),e.jsx("div",{className:"content-footer",style:{marginTop:"20px",textAlign:"center"},children:e.jsx("button",{className:"btn btn-secondary",onClick:()=>g(""),children:"Back to Content Management"})})]}):t==="events"?e.jsxs("div",{className:"content-management",children:[e.jsx("div",{className:"content-header",children:e.jsx("h2",{children:"Manage Events"})}),i&&e.jsx("div",{className:"error-message",children:i}),M?e.jsx("div",{className:"loading",children:"Loading events..."}):e.jsxs("div",{className:"content-list",children:[e.jsxs("p",{className:"content-count",children:["Total Events: ",N.length]}),N.length===0?e.jsxs("div",{className:"no-content",children:[e.jsx("p",{children:"No events created by artists found."}),e.jsx("p",{children:e.jsx("small",{children:"Only events created by artists (not admins) are shown here."})})]}):e.jsx("div",{className:"events-list",children:N.map(s=>e.jsx("div",{className:"event-card",children:e.jsxs("div",{className:"event-info",children:[e.jsx("h4",{children:s.title}),e.jsxs("p",{children:[e.jsx("strong",{children:"Date:"})," ",new Date(s.date).toLocaleDateString()]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Location:"})," ",s.location.venue,", ",s.location.city,", ",s.location.state]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Price:"})," ",s.price?`$${s.price}`:"Free"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Description:"})," ",s.description]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Created:"})," ",new Date(s.createdAt).toLocaleDateString()]}),e.jsx("div",{className:"event-actions",children:e.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>xe(s._id),children:"Delete"})})]})},s._id))})]}),e.jsx("div",{className:"content-footer",style:{marginTop:"20px",textAlign:"center"},children:e.jsx("button",{className:"btn btn-secondary",onClick:()=>g(""),children:"Back to Content Management"})})]}):null:e.jsxs("div",{className:"content-management",children:[e.jsx("h2",{children:"Content Management"}),e.jsx("p",{children:"Select what you'd like to manage:"}),e.jsxs("div",{className:"content-actions",children:[e.jsx("button",{className:"btn btn-primary",onClick:()=>g("artworks"),children:"Manage Artworks"}),e.jsx("button",{className:"btn btn-secondary",onClick:()=>g("events"),children:"Manage Events"})]})]}),pe=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Account Settings"}),e.jsx("p",{className:"text-gray-600",children:"Manage your admin account preferences and settings."}),e.jsx("div",{className:"mt-4",children:e.jsx("button",{className:"px-4 py-2 bg-[#E05264] text-white rounded-lg hover:bg-[#E05264]/90 transition-colors",children:"Coming Soon"})})]})});return e.jsxs("div",{className:"min-h-screen bg-blush-peach",children:[e.jsx(he,{}),e.jsx(Ee,{}),e.jsx("button",{onClick:()=>U(!R),className:"md:hidden fixed top-4 left-4 z-50 p-3 bg-white rounded-2xl shadow-lg text-[#134856] hover:text-[#E05264] transition-all duration-200",children:e.jsx(De,{className:"w-5 h-5"})}),R&&e.jsx("div",{className:"fixed inset-0 z-30 bg-gray-600 bg-opacity-50 md:hidden",onClick:()=>U(!1)}),e.jsx("div",{className:"px-10 mt-10 mx-auto pb-10",children:e.jsx("div",{className:"rounded-3xl shadow-lg border border-gray-100 overflow-hidden",children:e.jsxs("div",{className:"flex",children:[e.jsx("aside",{className:`${R?"translate-x-0":"-translate-x-full"} fixed inset-y-0 left-0 z-40 w-80 transform transition-transform duration-300 ease-in-out md:translate-x-0 md:static md:w-80 md:flex-shrink-0 bg-gradient-to-b from-[#134856] to-[#E05264]`,children:e.jsxs("div",{className:"h-full px-6 py-8 overflow-y-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-3xl font-bold font-dm-serif text-white",children:"Admin Panel"}),e.jsx("p",{className:"text-white text-sm mt-1 font-lora",children:"Manage platform operations"}),e.jsx("div",{className:"mt-4 h-px bg-white/20"}),e.jsxs("div",{className:"mt-4 flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 flex items-center justify-center",children:e.jsx(V,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-white truncate font-dm-serif",children:a==null?void 0:a.name}),e.jsxs("p",{className:"text-xs text-white/70 truncate font-lora",children:[a==null?void 0:a.role," Account"]})]})]}),e.jsx("div",{className:"mt-4 h-px bg-white/20"})]}),e.jsxs("nav",{className:"space-y-2",children:[W.map(s=>{const r=s.icon,u=c===s.id;return e.jsxs("button",{onClick:()=>K(s.id),className:`w-full flex items-center px-4 py-3 text-left rounded-2xl transition-all duration-200 font-lora ${u?"bg-gradient-to-r from-[#E05264] to-[#E05264]/90 text-white shadow-md transform scale-[1.02]":"text-white hover:bg-white/10 hover:shadow-sm"}`,children:[e.jsx(r,{className:"w-5 h-5 mr-3"}),e.jsx("span",{className:"font-medium",children:s.label})]},s.id)}),e.jsx("div",{className:"mt-6 mb-4 h-px bg-white/20"}),G.map(s=>{const r=s.icon,u=c===s.id,L=s.id==="logout";return e.jsxs("button",{onClick:()=>K(s.id),className:`w-full flex items-center px-4 py-3 text-left rounded-2xl transition-all duration-200 font-lora ${L?"text-white hover:bg-red-500/20 hover:text-red-200":u?"bg-gradient-to-r from-[#E05264] to-[#E05264]/90 text-white shadow-md transform scale-[1.02]":"text-white hover:bg-white/10 hover:shadow-sm"}`,children:[e.jsx(r,{className:"w-5 h-5 mr-3"}),e.jsx("span",{className:"font-medium",children:s.label})]},s.id)})]})]})}),e.jsx("div",{className:"hidden md:block w-px bg-gray-200"}),e.jsx("main",{className:"flex-1 flex flex-col min-w-0 bg-white",children:e.jsx(ze,{mode:"wait",children:e.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"flex-1 flex flex-col min-h-0",children:[e.jsxs("div",{className:"bg-gradient-to-r from-[#134856] to-[#E05264] px-8 py-6 border-b border-gray-100",children:[e.jsx("h2",{className:"text-4xl font-bold text-white capitalize font-dm-serif",children:(q=[...W,...G].find(s=>s.id===c&&!s.isAction))==null?void 0:q.label}),e.jsxs("p",{className:"text-white text-sm mt-1 font-lora",children:[c==="dashboard"&&"Overview of your admin operations and system status",c==="reports"&&"Review and manage user reports and platform moderation",c==="users"&&"Manage user accounts, roles, and permissions",c==="content"&&"Oversee artworks and events submitted by users",c==="settings"&&"Configure your admin account preferences"]})]}),e.jsx("div",{className:"flex-1 p-8",children:ge()})]},c)})})]})})})]})},Ve=({onClose:a,onSubmit:m,error:c})=>{const[d,x]=n.useState({name:"",email:"",password:"",role:"Artist"}),[h,A]=n.useState(!1),C=async i=>{if(i.preventDefault(),!h){A(!0);try{await m(d),x({name:"",email:"",password:"",role:"Artist"})}finally{A(!1)}}};return e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h3",{children:"Create New User"}),e.jsx("button",{className:"close-btn",onClick:a,children:"×"})]}),e.jsxs("form",{onSubmit:C,className:"modal-body",children:[c&&e.jsx("div",{className:"error-message",children:c}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Name:"}),e.jsx("input",{type:"text",value:d.name,onChange:i=>x(l=>({...l,name:i.target.value})),required:!0,disabled:h})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email:"}),e.jsx("input",{type:"email",value:d.email,onChange:i=>x(l=>({...l,email:i.target.value})),required:!0,disabled:h})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password:"}),e.jsx("input",{type:"password",value:d.password,onChange:i=>x(l=>({...l,password:i.target.value})),required:!0,minLength:"6",disabled:h})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Role:"}),e.jsxs("select",{value:d.role,onChange:i=>x(l=>({...l,role:i.target.value})),disabled:h,children:[e.jsx("option",{value:"Artist",children:"Artist"}),e.jsx("option",{value:"Admin",children:"Admin"})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:a,disabled:h,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:h,children:h?"Creating...":"Create User"})]})]})]})})};export{Oe as default};
