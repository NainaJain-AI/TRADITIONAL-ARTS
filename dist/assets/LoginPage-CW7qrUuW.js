import{r as s,u as k,l as S,j as e,n as E,o as C,L as b,p as L,y as h}from"./index-LJXkA3a7.js";import{i as P}from"./validators-Cu7k6NCT.js";function I(){const[a,g]=s.useState({email:"",password:""}),[d,f]=s.useState(!0),[m,r]=s.useState(""),[n,w]=s.useState(!1),[o,u]=s.useState(!1),l=k(),{login:j,isAuthenticated:F,loading:i,clearError:N}=S();s.useEffect(()=>{N()},[]);const x=t=>{g({...a,[t.target.name]:t.target.value}),r("")},y=async t=>{t.preventDefault();const{email:p,password:v}=a;if(!p||!v){r("All fields are required.");return}if(!P(p)){r("Enter a valid email.");return}u(!0);try{const c=await j(a,d);c.success?(h.success("Login successful! Welcome back!"),l("/home")):(r(c.error),h.error(c.error))}finally{u(!1)}};return e.jsx("div",{className:"min-h-screen bg-cover bg-center flex items-center justify-center px-4",style:{backgroundImage:"url('/assets/parallaximg.png')"},children:e.jsxs("form",{onSubmit:y,className:"bg-[rgba(82,200,180,0.8)] p-10 rounded-3xl max-w-md w-full shadow-xl border border-white/20 font-lora",children:[e.jsx("h2",{className:"text-4xl font-bold text-center mb-3 text-slate-800",children:"Welcome Back!"}),e.jsx("p",{className:"text-center mb-4 text-base text-gray-200",children:"Login to continue"}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("p",{className:"text-base text-white font-medium mb-2",children:"Need admin access?"}),e.jsx("button",{type:"button",onClick:()=>l("/admin/login"),className:"text-sm bg-white/20 hover:bg-white/30 text-slate-800 font-semibold py-2 px-4 rounded-lg border border-slate-800/30 transition-all",children:"🔐 Login as Admin"})]}),m&&e.jsx("p",{className:"text-red-600 text-sm mb-4 text-center",children:m}),e.jsx("input",{type:"email",name:"email",placeholder:"Email",value:a.email,onChange:x,className:"w-full mb-4 px-4 py-3 rounded-xl bg-white/70 border border-coral-pink/30 placeholder-[#284139] text-[#284139] focus:ring-2 focus:ring-deep-teal outline-none"}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx("input",{type:n?"text":"password",name:"password",placeholder:"Password",value:a.password,onChange:x,className:"w-full px-4 py-3 pr-12 rounded-xl bg-white/70 border border-coral-pink/30 placeholder-[#284139] text-[#284139] focus:ring-2 focus:ring-deep-teal outline-none transition-all duration-200"}),e.jsx("button",{type:"button",onClick:()=>w(!n),className:"absolute right-4 top-1/2 -translate-y-1/2 text-[#284139] hover:text-deep-teal transition-colors duration-200","aria-label":n?"Hide password":"Show password",children:n?e.jsx(E,{size:18}):e.jsx(C,{size:18})})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("label",{className:"flex items-center gap-3 text-base cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:d,onChange:t=>f(t.target.checked),className:"w-4 h-4 text-deep-teal border border-gray-300 rounded focus:ring-2 focus:ring-deep-teal transition-all duration-200"}),e.jsxs("span",{className:"text-slate-800 leading-relaxed",children:[e.jsx("strong",{children:"Remember me"})," - Stay logged in after closing browser"]})]})}),e.jsx("div",{className:"text-right text-base text-white font-medium mb-6",children:e.jsx(b,{to:"/forgot-password",className:"hover:underline hover:text-coral-pink",children:"Forgot Password?"})}),e.jsxs("button",{type:"submit",disabled:i||o,className:"w-full bg-deep-teal hover:bg-coral-pink text-off-white font-bold py-3 rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[(i||o)&&e.jsx(L,{className:"animate-spin",size:16}),i||o?"Logging in...":"Login"]}),e.jsx("div",{className:"text-center mt-4",children:e.jsx("button",{type:"button",onClick:()=>l("/phone-login"),className:"text-sm bg-white/20 hover:bg-white/30 text-deep-teal font-semibold py-2 px-4 rounded-lg border border-deep-teal/30 transition-all",children:"📱 Continue with Phone Number Instead"})}),e.jsxs("p",{className:"text-center mt-6 text-base text-white font-medium",children:["Don't have an account? ",e.jsx(b,{to:"/signup",className:"underline font-semibold hover:text-coral-pink",children:"Sign Up"})]})]})})}export{I as default};
