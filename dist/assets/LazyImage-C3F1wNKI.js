import{r as t,j as e,m as n}from"./index-D3qpkmvJ.js";const j=({src:l,alt:d,className:u="",placeholder:m="üé®",aspectRatio:f="aspect-video",...x})=>{const[s,o]=t.useState(!1),[c,p]=t.useState(!1),[a,y]=t.useState(!1),r=t.useRef(null);t.useEffect(()=>{const i=new IntersectionObserver(([g])=>{g.isIntersecting&&(p(!0),i.disconnect())},{rootMargin:"100px",threshold:.1});return r.current&&i.observe(r.current),()=>i.disconnect()},[]);const b=()=>{o(!0)},h=()=>{y(!0),o(!0)};return e.jsxs("div",{ref:r,className:`relative overflow-hidden ${f} ${u}`,...x,children:[e.jsx(n.div,{className:"absolute inset-0 bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center",initial:{opacity:1},animate:{opacity:s?0:1},transition:{duration:.3},children:a?e.jsx("div",{className:"text-red-400 text-2xl",children:"‚ùå"}):e.jsx("div",{className:"text-gray-400 text-2xl animate-pulse",children:m})}),c&&!a&&e.jsx(n.img,{src:l,alt:d,className:"absolute inset-0 w-full h-full object-cover",onLoad:b,onError:h,initial:{opacity:0,scale:1.05},animate:{opacity:s?1:0,scale:s?1:1.05},transition:{duration:.4,ease:"easeOut"},loading:"lazy",decoding:"async",fetchpriority:"low"}),c&&!s&&!a&&e.jsx(n.div,{className:"absolute inset-0 flex items-center justify-center bg-white/50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:e.jsx("div",{className:"w-6 h-6 border-2 border-amber-600 border-t-transparent rounded-full animate-spin"})})]})};export{j as L};
