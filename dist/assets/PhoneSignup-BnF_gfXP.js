import{r as c,u as q,l as I,j as e,L as h,y as w}from"./index-LJXkA3a7.js";import{g as y,a as v}from"./validators-Cu7k6NCT.js";function Y(){const[n,P]=c.useState({name:"",phoneNumber:"",password:""}),[p,S]=c.useState(!1),[b,k]=c.useState(!1),[g,o]=c.useState(""),[r,A]=c.useState({name:"",phoneNumber:"",password:"",terms:"",privacy:""}),[C,E]=c.useState({name:!1,phoneNumber:!1,password:!1}),f=q(),{registerWithPhone:B,isAuthenticated:M,loading:N,clearError:F}=I();c.useEffect(()=>{F()},[]);const d=(t,s,l=!1)=>{let a="";switch(t){case"name":!l&&!s.trim()?a="Full name is required":s.trim()&&s.trim().length<2&&(a="Name must be at least 2 characters long");break;case"phoneNumber":if(!l&&!s.trim())a="Phone number is required";else if(s.trim()){const i=y(s);i&&(a=i)}break;case"password":!l&&!s.trim()?a="Password is required":s.trim()&&!v(s)&&(a="Password must be at least 6 characters long");break;case"terms":s||(a="You must agree to the Terms of Service");break;case"privacy":s||(a="You must agree to the Privacy Policy");break}return A(i=>({...i,[t]:a})),a===""},m=t=>{const{name:s,value:l}=t.target;P({...n,[s]:l}),o(""),C[s]&&d(s,l,!0)},u=t=>{const{name:s,value:l}=t.target;E(a=>({...a,[s]:!0})),d(s,l,!1)},j=(t,s)=>{t==="terms"?(S(s),d("terms",s,!1)):t==="privacy"&&(k(s),d("privacy",s,!1))},T=async t=>{t.preventDefault();const{name:s,phoneNumber:l,password:a}=n;if(!s||!l||!a){o("All fields are required.");return}const i=y(l);if(i){o(i);return}if(!v(a)){o("Password must be at least 6 characters.");return}if(!p){o("You must agree to the Terms of Service.");return}if(!b){o("You must agree to the Privacy Policy.");return}const x=await B(n);x.success?(w.success("Account created successfully! Welcome to KalaSangam!"),f("/home")):(o(x.error),w.error(x.error))};return e.jsx("div",{className:"min-h-screen bg-cover bg-center flex items-center justify-center px-4",style:{backgroundImage:"url('/assets/parallaximg.png')"},children:e.jsxs("form",{onSubmit:T,className:`bg-[linear-gradient(to_bottom,rgba(255,190,152,0.8),rgba(255,187,233,0.7),rgba(44,165,141,0.7))] 
                  p-10 rounded-3xl max-w-md w-full shadow-xl border border-white/20 font-lora`,children:[e.jsx("h2",{className:"text-4xl font-bold text-center mb-3 text-deep-teal",children:"Create Account"}),e.jsx("p",{className:"text-center mb-6 text-sm text-teal-200",children:"Join KalaSangam with your phone!"}),g&&e.jsx("p",{className:"text-red-600 text-sm mb-4 text-center",children:g}),e.jsxs("div",{className:"mb-4",children:[e.jsx("input",{type:"text",name:"name",placeholder:r.name||!n.name?"Full Name":"",value:n.name,onChange:m,onBlur:u,className:`w-full px-4 py-3 rounded-xl bg-white/70 border-2 ${r.name?"border-coral-red":"border-coral-red/30"} placeholder-[#284139] text-[#284139] focus:ring-2 focus:ring-deep-teal outline-none transition-all duration-200`}),r.name&&e.jsx("p",{className:"text-coral-red text-xs mt-1 font-medium",children:r.name})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("input",{type:"tel",name:"phoneNumber",placeholder:r.phoneNumber||!n.phoneNumber?"Phone Number (e.g., +1234567890)":"",value:n.phoneNumber,onChange:m,onBlur:u,className:`w-full px-4 py-3 rounded-xl bg-white/70 border-2 ${r.phoneNumber?"border-coral-red":"border-coral-red/30"} placeholder-[#284139] text-[#284139] focus:ring-2 focus:ring-deep-teal outline-none transition-all duration-200`}),r.phoneNumber&&e.jsx("p",{className:"text-coral-red text-xs mt-1 font-medium",children:r.phoneNumber})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-sm font-semibold text-[#284139] mb-2",children:"Phone Number Format:"}),e.jsxs("ul",{className:"text-xs text-teal-200 space-y-1 ml-4",children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-1 h-1 bg-teal-200 rounded-full mr-2"}),"International: +1234567890 (10-18 digits after +)"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-1 h-1 bg-teal-200 rounded-full mr-2"}),"Domestic: 1234567890 (10-15 digits)"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-1 h-1 bg-teal-200 rounded-full mr-2"}),"Allowed: +, -, (), spaces (automatically removed)"]})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-sm font-semibold text-[#284139] mb-2",children:"Password Requirements:"}),e.jsxs("ul",{className:"text-xs text-teal-200 space-y-1 ml-4",children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-1 h-1 bg-teal-200 rounded-full mr-2"}),"At least 6 characters long"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-1 h-1 bg-teal-200 rounded-full mr-2"}),"Mix of letters and numbers recommended"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-1 h-1 bg-teal-200 rounded-full mr-2"}),"Avoid common passwords"]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("input",{type:"password",name:"password",placeholder:r.password||!n.password?"Password":"",value:n.password,onChange:m,onBlur:u,className:`w-full px-4 py-3 rounded-xl bg-white/70 border-2 ${r.password?"border-coral-red":"border-coral-red/30"} placeholder-[#284139] text-[#284139] focus:ring-2 focus:ring-deep-teal outline-none transition-all duration-200`}),r.password&&e.jsx("p",{className:"text-coral-red text-xs mt-1 font-medium",children:r.password})]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-start gap-3 text-sm cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:p,onChange:t=>j("terms",t.target.checked),className:`mt-1 w-4 h-4 text-deep-teal border ${r.terms?"border-coral-red border-2":"border-gray-300"} rounded focus:ring-2 focus:ring-deep-teal transition-all duration-200`}),e.jsxs("span",{className:"text-[#284139] leading-relaxed",children:["I agree to KalaSangam's"," ",e.jsx(h,{to:"/terms-of-service",target:"_blank",className:"text-coral-red hover:underline font-semibold",children:"Terms of Service"})]})]}),r.terms&&e.jsx("p",{className:"text-coral-red text-xs mt-1 ml-7 font-medium",children:r.terms})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-start gap-3 text-sm cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:b,onChange:t=>j("privacy",t.target.checked),className:`mt-1 w-4 h-4 text-deep-teal border ${r.privacy?"border-coral-red border-2":"border-gray-300"} rounded focus:ring-2 focus:ring-deep-teal transition-all duration-200`}),e.jsxs("span",{className:"text-[#284139] leading-relaxed",children:["I agree to KalaSangam's"," ",e.jsx(h,{to:"/privacy-policy",target:"_blank",className:"text-coral-red hover:underline font-semibold",children:"Privacy Policy"})]})]}),r.privacy&&e.jsx("p",{className:"text-coral-red text-xs mt-1 ml-7 font-medium",children:r.privacy})]})]}),e.jsx("button",{type:"submit",disabled:N,className:"w-full bg-deep-teal hover:bg-coral-red text-off-white font-bold py-3 rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:N?"Creating Account...":"Sign Up"}),e.jsx("div",{className:"text-center mt-4",children:e.jsx("button",{type:"button",onClick:()=>f("/signup"),className:"text-sm bg-white/20 hover:bg-white/30 text-deep-teal font-semibold py-2 px-4 rounded-lg border border-deep-teal/30 transition-all",children:"ðŸ“§ Continue with Email Instead"})}),e.jsxs("p",{className:"text-center mt-6 text-sm text-teal-200",children:["Already have an account? ",e.jsx(h,{to:"/phone-login",className:"underline font-semibold hover:text-coral-red",children:"Login with Phone"})]})]})})}export{Y as default};
