import{r as s,j as e,u as te,a as ae,F as se,m as u,b as re,c as oe,d as ne,e as le,f as ie,g as ce,h as de}from"./index-LJXkA3a7.js";import{u as me,a as ue}from"./use-transform-DTS0UH17.js";function ge({name:w,origin:j,photoUrl:L=[],onImageClick:c}){const[g,N]=s.useState({}),[p,y]=s.useState({}),v=i=>{N(r=>({...r,[i]:!0}))},h=i=>{y(r=>({...r,[i]:!0}))},C=L.slice(0,4);return e.jsxs("div",{className:`bg-white rounded-xl shadow-md p-6 w-full
      transition-all duration-300 ease-out
      hover:scale-105 hover:-translate-y-2 hover:shadow-xl
      border border-[#E05264] shadow-[0_0_15px_rgba(224,82,100,0.2)]
      hover:shadow-[0_0_25px_rgba(224,82,100,0.4)]
      transform-gpu will-change-transform`,children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[C.map((i,r)=>e.jsxs("div",{className:"relative overflow-hidden rounded-md bg-gray-100",children:[!p[r]&&!g[r]&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-200 animate-pulse",children:e.jsx("div",{className:"w-8 h-8 border-2 border-rose-300 border-t-rose-600 rounded-full animate-spin"})}),g[r]?e.jsx("div",{className:"w-full h-60 bg-gray-200 flex items-center justify-center text-gray-500",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl mb-2",children:"🖼️"}),e.jsx("div",{className:"text-sm",children:"Image not available"})]})}):e.jsx("img",{src:i,alt:`${w} ${r+1}`,className:`w-full h-60 object-cover cursor-zoom-in transition-opacity duration-300 ${p[r]?"opacity-100":"opacity-0"}`,onClick:()=>c&&c(i),onLoad:()=>h(r),onError:()=>v(r),loading:"lazy"})]},r)),Array.from({length:Math.max(0,4-C.length)},(i,r)=>e.jsx("div",{className:"w-full h-60 bg-gray-100 rounded-md flex items-center justify-center text-gray-400",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl mb-2",children:"🎨"}),e.jsx("div",{className:"text-sm",children:"No image"})]})},`empty-${r}`))]}),e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-semibold font-lora text-[#134856] mb-2 line-clamp-2 leading-tight",children:w||"Unknown Art Form"}),e.jsx("p",{className:"text-[#E05264] text-lg font-semibold font-lora italic",children:j||"Unknown Origin"})]})]})}function ye(){const w=te(),j=s.useRef(null),{scrollYProgress:L}=me({target:j});ue(L,[0,1],[0,-100]);const[c,g]=s.useState([]),[N,p]=s.useState(!0),[y,v]=s.useState(null),[h]=ae(),C=h.get("state"),i=h.get("category"),r=window.location.pathname==="/explore/art",[d,$]=s.useState(r?"":C||""),[f,J]=s.useState(""),[m,P]=s.useState(r?"all":i||"all"),[F,K]=s.useState("name"),[M,E]=s.useState(null),[he,z]=s.useState(!1),[n,A]=s.useState(1),k=12,[D,V]=s.useState(!1);s.useEffect(()=>{const t=setTimeout(()=>{V(!0)},150);return()=>clearTimeout(t)},[]),s.useEffect(()=>{if(!r){const t=h.get("state");t&&$(t);const a=h.get("category");a&&P(a)}},[h,r]),s.useEffect(()=>{(async()=>{try{p(!0),v(null);const o=await de.get("https://traditional-arts-backend.onrender.com/api/artforms?limit=200");o.data&&o.data.success&&Array.isArray(o.data.data)?(g(o.data.data),console.log("Artforms loaded successfully:",o.data.data.length)):Array.isArray(o.data)?(g(o.data),console.log("Artforms loaded successfully:",o.data.length)):(console.error("Expected array but got:",o.data),v("Invalid data format received"),g([]))}catch(a){console.error("Error fetching artforms:",a),v("Failed to load art forms. Please try refreshing the page."),g([])}finally{p(!1)}})()},[]);const b=c.filter(t=>{var R,T,B,U,H,O,G,Y,Q,X,Z,q;const a=f===""||((R=t.name)==null?void 0:R.toLowerCase().includes(f.toLowerCase()))||((T=t.title)==null?void 0:T.toLowerCase().includes(f.toLowerCase()))||((B=t.origin)==null?void 0:B.toLowerCase().includes(f.toLowerCase())),o=d===""||t.origin===d,x=m==="all"||((U=t.category)==null?void 0:U.toLowerCase())===m.toLowerCase()||m==="painting"&&(((H=t.name)==null?void 0:H.toLowerCase().includes("painting"))||((O=t.title)==null?void 0:O.toLowerCase().includes("painting")))||m==="craft"&&(((G=t.name)==null?void 0:G.toLowerCase().includes("craft"))||((Y=t.name)==null?void 0:Y.toLowerCase().includes("work")))||m==="sculpture"&&((Q=t.name)==null?void 0:Q.toLowerCase().includes("carving"))||m==="textile"&&(((X=t.name)==null?void 0:X.toLowerCase().includes("embroidery"))||((Z=t.name)==null?void 0:Z.toLowerCase().includes("shawl"))||((q=t.name)==null?void 0:q.toLowerCase().includes("phulkari")));return a&&o&&x}).sort((t,a)=>{switch(F){case"name":return(t.name||t.title||"").localeCompare(a.name||a.title||"");case"state":return(t.origin||"").localeCompare(a.origin||"");case"newest":return new Date(a.createdAt||0)-new Date(t.createdAt||0);case"oldest":return new Date(t.createdAt||0)-new Date(a.createdAt||0);default:return 0}}),l=Math.ceil(b.length/k),I=(n-1)*k,_=I+k,S=b.slice(I,_);s.useEffect(()=>{A(1)},[f,d,m,F]),s.useEffect(()=>{c.length>0&&console.log(`Art Gallery: Loaded ${c.length} artforms, showing ${S.length} filtered results`)},[c,S]),s.useEffect(()=>{const t=a=>{a.key==="Escape"&&(E(null),z(!1))};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[]);const W=t=>{E(t),z(!1)},ee=()=>{const t=Array.from({length:25},(a,o)=>({id:o,size:Math.random()*4+2,color:["rgba(19, 72, 86, 0.6)","rgba(224, 82, 100, 0.6)","rgba(248, 230, 218, 0.8)","rgba(255, 193, 7, 0.6)","rgba(139, 69, 19, 0.5)"][Math.floor(Math.random()*5)],initialX:Math.random()*100,initialY:Math.random()*100,animationDelay:Math.random()*5,animationDuration:8+Math.random()*6}));return e.jsx("div",{className:"fixed inset-0 pointer-events-none z-0",children:t.map(a=>e.jsx(u.div,{className:"absolute rounded-full opacity-40",style:{width:`${a.size}px`,height:`${a.size}px`,backgroundColor:a.color,left:`${a.initialX}%`,top:`${a.initialY}%`,filter:"blur(0.5px)",boxShadow:`0 0 ${a.size*2}px ${a.color}`},animate:{y:[0,-80,0],x:[0,25,-25,0],opacity:[.4,.7,.4],scale:[1,1.3,1]},transition:{duration:a.animationDuration,repeat:1/0,delay:a.animationDelay,ease:"easeInOut"}},a.id))})};return e.jsxs("div",{ref:j,className:"min-h-screen bg-[#F8E6DA] pb-8 overflow-hidden",children:[e.jsx(se,{}),e.jsx(ee,{}),e.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[e.jsxs(u.section,{className:"text-center mb-12",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[e.jsx(u.div,{className:"absolute w-96 h-96 bg-gradient-to-r from-[#E05264]/20 to-[#F48C8C]/20 rounded-full blur-3xl opacity-30 top-0 left-0",animate:{scale:[1,1.2,1],rotate:[0,90,0],opacity:[.3,.5,.3]},transition:{duration:10,repeat:1/0,ease:"easeInOut"}}),e.jsx("h1",{className:"inline-block text-6xl pt-10 font-dm-serif font-bold mb-8 pb-2 drop-shadow-lg bg-gradient-to-r from-[#134856] to-[#e05264] bg-clip-text text-transparent",style:{lineHeight:"1.2"},children:"Art Gallery"}),e.jsx("p",{className:"text-lg font-lora font-semibold text-xl text-[#E05264] max-w-3xl mx-auto leading-relaxed mb-10",children:"Discover the magnificent tapestry of Indian traditional arts. From ancient crafts to timeless performances, explore the diverse cultural heritage of our nation."})]}),N&&e.jsx("div",{className:"flex justify-center items-center py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-deep-teal mx-auto mb-4"}),e.jsx("p",{className:"text-lg text-gray-600 font-lora",children:"Loading art forms..."})]})}),y&&e.jsx("div",{className:"flex justify-center items-center py-16",children:e.jsxs("div",{className:"text-center bg-red-50 border border-red-200 rounded-lg p-8 max-w-md",children:[e.jsx("p",{className:"text-red-600 font-lora text-lg mb-4",children:y}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition font-lora",children:"Try Again"})]})}),e.jsx(u.div,{className:"bg-gradient-to-br from-[#1d7c6f] to-[#f58c8c] rounded-3xl shadow-2xl p-2 mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:e.jsx("div",{className:"bg-[#F8E6DA] rounded-2xl p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(re,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search for art forms...",value:f,onChange:t=>J(t.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(oe,{className:"text-gray-600"}),e.jsxs("select",{value:m,onChange:t=>P(t.target.value),className:"px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Categories"}),e.jsx("option",{value:"painting",children:"Painting"}),e.jsx("option",{value:"sculpture",children:"Sculpture"}),e.jsx("option",{value:"craft",children:"Craft"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ne,{className:"text-gray-600"}),e.jsxs("select",{value:d,onChange:t=>$(t.target.value),className:"px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All States"}),[...new Set(c.map(t=>t.origin))].filter(t=>t).sort().map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(le,{className:"text-gray-600"}),e.jsxs("select",{value:F,onChange:t=>K(t.target.value),className:"px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[e.jsx("option",{value:"name",children:"By Name"}),e.jsx("option",{value:"state",children:"By State"}),e.jsx("option",{value:"newest",children:"Newest First"}),e.jsx("option",{value:"oldest",children:"Oldest First"})]})]})]})]})})}),!N&&!y&&e.jsx(e.Fragment,{children:S.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("p",{className:"text-gray-600 font-lora",children:["Showing ",I+1,"-",Math.min(_,b.length)," of ",b.length," art form",b.length!==1?"s":"",d&&` from ${d}`]}),l>1&&e.jsxs("p",{className:"text-sm text-gray-500 mt-1 font-lora",children:["Page ",n," of ",l]})]}),e.jsx("div",{className:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 gap-8 auto-rows-auto transition-all duration-1000 delay-500 ${D?"opacity-100":"opacity-0"}`,children:S.map((t,a)=>e.jsx("div",{className:`w-full transition-all duration-700 ${D?"opacity-100 translate-y-0":"opacity-0 translate-y-12"}`,style:{transitionDelay:`${Math.min(a*100,1e3)}ms`},children:e.jsx(ge,{...t,onImageClick:W})},t._id))}),l>1&&e.jsxs("div",{className:"flex justify-center items-center gap-4 mt-12 mb-8",children:[e.jsxs(u.button,{onClick:()=>A(t=>Math.max(t-1,1)),disabled:n===1,className:`flex items-center gap-2 px-6 py-3 rounded-full font-semibold transition-all duration-300 ${n===1?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-[#134856] to-[#e05264] hover:from-[#e05264] hover:to-[#134856] text-white shadow-lg hover:shadow-xl transform hover:scale-105"}`,whileHover:n!==1?{scale:1.05}:{},whileTap:n!==1?{scale:.95}:{},children:[e.jsx(ie,{size:14}),"Previous"]}),e.jsx("div",{className:"flex items-center gap-2",children:Array.from({length:Math.min(5,l)},(t,a)=>{const x=Math.max(1,n-2)+a;return x<=l?e.jsx(u.button,{onClick:()=>A(x),className:`w-10 h-10 rounded-full font-semibold transition-all duration-300 ${n===x?"bg-gradient-to-r from-[#134856] to-[#e05264] text-white shadow-lg":"bg-white text-[#134856] border-2 border-[#134856] hover:bg-gradient-to-r hover:from-[#134856] hover:to-[#e05264] hover:text-white"}`,whileHover:{scale:1.1},whileTap:{scale:.9},children:x},x):null})}),e.jsxs(u.button,{onClick:()=>A(t=>Math.min(t+1,l)),disabled:n===l,className:`flex items-center gap-2 px-6 py-3 rounded-full font-semibold transition-all duration-300 ${n===l?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-[#134856] to-[#e05264] hover:from-[#e05264] hover:to-[#134856] text-white shadow-lg hover:shadow-xl transform hover:scale-105"}`,whileHover:n!==l?{scale:1.05}:{},whileTap:n!==l?{scale:.95}:{},children:["Next",e.jsx(ce,{size:14})]})]})]}):e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-600 font-lora text-lg",children:d?`No art forms found for ${d}`:"No art forms available"})})}),M&&e.jsx("div",{onClick:()=>{E(null)},className:"fixed inset-0 bg-white bg-opacity-10 backdrop-blur-md flex flex-col items-center justify-center z-50 cursor-zoom-out p-4",children:e.jsx("div",{className:"w-[600px] h-[400px] flex items-center justify-center bg-white rounded-lg shadow-2xl",children:e.jsx("img",{src:M,alt:"Zoomed art",className:"w-screen h-screen object-cover cursor-zoom-in select-none",onClick:t=>t.stopPropagation(),style:{userSelect:"auto"}})})}),e.jsx("div",{className:"flex justify-center mt-12",children:e.jsx(u.button,{onClick:()=>w("/map"),className:"bg-gradient-to-r from-[#134856] to-[#e05264] hover:from-[#e05264] hover:to-[#134856] text-white px-8 py-3 rounded-full text-lg font-medium transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105",whileHover:{scale:1.05},whileTap:{scale:.95},children:"← Back to India Map"})})]})]})}export{ye as default};
