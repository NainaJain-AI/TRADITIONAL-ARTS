import{r as e,j as t,A as r,m as a}from"./framerMotion-CogqvMXS.js";import{h as s,i as n,j as o,k as i,b as l}from"./index-BhBvdYf9.js";const c=({isOpen:c,onClose:d,onSubmit:m})=>{const[u,x]=e.useState({title:"",description:"",type:"event",category:"general",date:"",time:"",location:{venue:"",address:"",city:"",state:""},instructor:"",price:0,maxParticipants:"",imageUrl:"",registrationRequired:!1,contactEmail:"",contactPhone:""}),[p,g]=e.useState(null),[h,b]=e.useState({}),f=e=>{const{name:t,value:r,type:a,checked:s}=e.target;if(t.includes(".")){const[e,n]=t.split(".");x(t=>({...t,[e]:{...t[e],[n]:"checkbox"===a?s:r}}))}else x(e=>({...e,[t]:"checkbox"===a?s:r}));h[t]&&b(e=>({...e,[t]:""}))},y=()=>{x({title:"",description:"",type:"event",category:"general",date:"",time:"",location:{venue:"",address:"",city:"",state:""},instructor:"",price:0,maxParticipants:"",imageUrl:"",registrationRequired:!1,contactEmail:"",contactPhone:""}),g(null),b({}),d()};return t.jsx(r,{children:c&&t.jsx(a.div,{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:y,children:t.jsxs(a.div,{className:"bg-[#F8E6DA] rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto border border-[#d4a574]/20",initial:{scale:.8,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},exit:{scale:.8,opacity:0,y:50},transition:{duration:.3},onClick:e=>e.stopPropagation(),children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-[#d4a574]/20 bg-gradient-to-r from-[#1d7c6f] to-[#f58c8c] rounded-t-2xl",children:[t.jsx("h2",{className:"text-2xl font-bold text-white font-dm-serif",children:"Add New Event"}),t.jsx("button",{onClick:y,className:"text-white hover:text-gray-200 transition-colors p-2 hover:bg-white/10 rounded-full",children:t.jsx(s,{size:20})})]}),t.jsxs("form",{onSubmit:e=>{if(e.preventDefault(),(()=>{const e={};if(u.title.trim()?u.title.length>200&&(e.title="Event name must be 200 characters or less"):e.title="Event name is required",u.description.trim()?u.description.length>1e3&&(e.description="Description must be 1000 characters or less"):e.description="Description is required",u.date){const t=new Date(u.date),r=new Date;r.setHours(0,0,0,0),t<r&&(e.date="Event date must be today or in the future")}else e.date="Date is required";return u.time.trim()||(e.time="Time is required"),u.location.venue.trim()||(e["location.venue"]="Venue is required"),u.location.address.trim()||(e["location.address"]="Address is required"),u.location.city.trim()||(e["location.city"]="City is required"),u.location.state.trim()||(e["location.state"]="State is required"),u.price<0&&(e.price="Price cannot be negative"),u.maxParticipants&&u.maxParticipants<1&&(e.maxParticipants="Maximum participants must be at least 1"),u.contactEmail&&!/\S+@\S+\.\S+/.test(u.contactEmail)&&(e.contactEmail="Please provide a valid email address"),b(e),0===Object.keys(e).length})()){const e={...u,artist:"60d5ecb74c9b930015a5b2e1"};m(e),y()}},className:"p-6 space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Image (Optional)"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>{g(e.target.result),x(t=>({...t,imageUrl:e.target.result}))},e.readAsDataURL(t)}},className:"hidden",id:"image-upload"}),t.jsx("label",{htmlFor:"image-upload",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-orange-400 transition-colors",children:p?t.jsx("img",{src:p,alt:"Preview",className:"w-full h-full object-cover rounded-lg"}):t.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[t.jsx(n,{className:"w-8 h-8 mb-3 text-gray-400"}),t.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[t.jsx("span",{className:"font-semibold",children:"Click to upload"})," event image"]}),t.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]})})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Event Name * ",t.jsxs("span",{className:"text-xs text-gray-500",children:["(",u.title.length,"/200)"]})]}),t.jsx("input",{type:"text",name:"title",value:u.title,onChange:f,placeholder:"Enter event name...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",maxLength:"200"}),h.title&&t.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.title})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Instructor/Artist (Optional)"}),t.jsx("input",{type:"text",name:"instructor",value:u.instructor,onChange:f,placeholder:"Name of instructor or artist...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Description * ",t.jsxs("span",{className:"text-xs text-gray-500",children:["(",u.description.length,"/1000)"]})]}),t.jsx("textarea",{name:"description",value:u.description,onChange:f,placeholder:"Describe your event...",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent resize-none",maxLength:"1000"}),h.description&&t.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.description})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Type *"}),t.jsx("select",{name:"type",value:u.type,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:["workshop","event","exhibition","performance"].map(e=>t.jsx("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),t.jsx("select",{name:"category",value:u.category,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:["music","dance","art","crafts","general"].map(e=>t.jsx("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[t.jsx(o,{className:"mr-2"}),"Event Date *"]}),t.jsx("input",{type:"date",name:"date",value:u.date,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),h.date&&t.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.date})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[t.jsx(i,{className:"mr-2"}),"Time *"]}),t.jsx("input",{type:"text",name:"time",value:u.time,onChange:f,placeholder:"e.g., 10:00 AM, 7:30 PM",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),h.time&&t.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.time})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[t.jsx(l,{className:"mr-2"}),"Location *"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("input",{type:"text",name:"location.venue",value:u.location.venue,onChange:f,placeholder:"Venue name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),h["location.venue"]&&t.jsx("p",{className:"text-red-500 text-sm mt-1",children:h["location.venue"]})]}),t.jsxs("div",{children:[t.jsx("input",{type:"text",name:"location.address",value:u.location.address,onChange:f,placeholder:"Street address",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),h["location.address"]&&t.jsx("p",{className:"text-red-500 text-sm mt-1",children:h["location.address"]})]}),t.jsxs("div",{children:[t.jsx("input",{type:"text",name:"location.city",value:u.location.city,onChange:f,placeholder:"City",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),h["location.city"]&&t.jsx("p",{className:"text-red-500 text-sm mt-1",children:h["location.city"]})]}),t.jsxs("div",{children:[t.jsx("input",{type:"text",name:"location.state",value:u.location.state,onChange:f,placeholder:"State",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),h["location.state"]&&t.jsx("p",{className:"text-red-500 text-sm mt-1",children:h["location.state"]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price (â‚¹)"}),t.jsx("input",{type:"number",name:"price",value:u.price,onChange:f,min:"0",placeholder:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),h.price&&t.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.price})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Participants (Optional)"}),t.jsx("input",{type:"number",name:"maxParticipants",value:u.maxParticipants,onChange:f,min:"1",placeholder:"Unlimited",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),h.maxParticipants&&t.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.maxParticipants})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",name:"registrationRequired",checked:u.registrationRequired,onChange:f,className:"mr-2 h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"}),t.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Registration Required"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Email (Optional)"}),t.jsx("input",{type:"email",name:"contactEmail",value:u.contactEmail,onChange:f,placeholder:"contact@example.com",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),h.contactEmail&&t.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.contactEmail})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Phone (Optional)"}),t.jsx("input",{type:"tel",name:"contactPhone",value:u.contactPhone,onChange:f,placeholder:"+91 98765 43210",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{type:"button",onClick:y,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),t.jsx("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-[#9b2226] to-[#d62d20] text-white px-4 py-2 rounded-lg font-semibold hover:from-[#7a1b1e] hover:to-[#b8251c] transition-all duration-300 shadow-lg hover:shadow-xl",children:"Add Event"})]})]})]})})})};export{c as E};
