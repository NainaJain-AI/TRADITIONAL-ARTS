import{j as e,m as a,u as t,a as i,A as n}from"./chunk-DrBkpLm2.js";import{r as o}from"./chunk-CMRBzt0a.js";import{F as r}from"./chunk-B12jDwHr.js";import"./chunk-ouJazw0A.js";function s({name:t,image:i,sound:n,description:r,isPlaying:s,onPlay:l}){const[c,d]=o.useState(!1),m=()=>{d(e=>!e),l(n,t)};return e.jsxs("div",{className:"relative flex flex-col items-center gap-4 pt-8 animate-bob",children:[e.jsxs(a.div,{className:"relative p-1 rounded-full bg-gradient-to-r from-[#1d7c6f] to-[#f58c8c] shadow-2xl",animate:{y:[0,-12,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},whileHover:{scale:1.05},children:[e.jsx(a.button,{onClick:m,className:"absolute -top-3 -right-3 w-12 h-12 bg-gradient-to-r from-[#1d7c6f] to-[#f58c8c] rounded-full flex items-center justify-center text-white shadow-lg z-10",whileHover:{scale:1.1},whileTap:{scale:.9},children:s?e.jsx("span",{className:"text-lg",children:"⏸"}):e.jsx("span",{className:"text-lg",children:"▶"})}),e.jsxs(a.div,{className:"relative w-72 h-72 rounded-full bg-[#fdecec] p-8 flex items-center justify-center transition-all duration-300 cursor-pointer",whileTap:{scale:.95},onClick:m,children:[e.jsx("img",{src:i,alt:t,className:"max-h-40 w-auto object-contain"}),s&&e.jsx("div",{className:"absolute bottom-6 flex gap-2",children:[...[,,,,,,,,]].map((t,i)=>e.jsx(a.span,{className:"w-2 h-8 bg-[#E05264] rounded-sm",animate:{height:["1.5rem","3rem","1.5rem"]},transition:{repeat:1/0,repeatType:"loop",duration:.4,delay:.1*i}},i))})]})]}),c&&e.jsxs(a.div,{className:"relative bg-[#fdecec] border border-[#E05264]/30 text-[#134856] px-6 py-4 rounded-2xl shadow-lg max-w-md text-center text-base font-lora",initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.4},children:[e.jsx("strong",{className:"block mb-2 text-xl font-dm-serif text-[#134856]",children:t}),r,e.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 w-6 h-6 bg-[#fdecec] rotate-45 border-l border-t border-[#E05264]/30"})]})]})}const l="/media/sitar-s-G4JF3w.mp3",c="/media/tabla-zVgvh7yb.mp3",d="/media/flute-DIX0DF0R.mp3",m="/media/veena-DY8HlCpd.mp3",u="/media/mridangam-AjTxzzQa.mp3",h=[{sound:l,answer:"Sitar"},{sound:c,answer:"Tabla"},{sound:d,answer:"Bansuri"},{sound:m,answer:"Veena"},{sound:u,answer:"Mridangam"}];function p({instruments:t,onClose:i}){const[n,r]=o.useState(null),[s,l]=o.useState(null),[c,d]=o.useState(!1),[m,u]=o.useState(!1),[p,g]=o.useState(!1),[b,y]=o.useState(null),x=o.useRef(null);o.useEffect(()=>{const e=h[Math.floor(Math.random()*h.length)];return r(e),()=>{x.current&&(x.current.pause(),x.current.currentTime=0)}},[]);const f=async()=>{if(x.current&&n)try{y(null),x.current.load(),await x.current.play(),u(!0),g(!0),x.current.onended=()=>{u(!1)}}catch(e){y("Click the play button to hear the sound!"),u(!1)}};return e.jsx(a.div,{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:i,children:e.jsxs(a.div,{className:"bg-[#fdecec] px-6 py-8 rounded-3xl shadow-xl font-noto text-[#134856] max-w-3xl mx-auto relative",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.3},onClick:e=>e.stopPropagation(),children:[e.jsx("button",{onClick:i,className:"absolute top-4 right-4 w-8 h-8 bg-[#E05264] text-white rounded-full flex items-center justify-center hover:bg-[#d0465a] transition-colors",children:"✕"}),e.jsxs("div",{className:"flex flex-col items-center mb-6",children:[e.jsx("button",{onClick:()=>{p?((e=!0)=>{const a=h[Math.floor(Math.random()*h.length)];r(a),l(null),d(!1),u(!1),e&&p&&setTimeout(()=>{f()},100)})(!0):f()},disabled:m,className:"font-semibold px-6 py-3 rounded-full transition text-white text-base shadow-md "+(m?"bg-gray-400 cursor-not-allowed":"bg-[#E05264] hover:bg-[#d0465a]"),children:m?"🔊 Playing...":p?"🔊 Play New Sound":"🔊 Start Game"}),b&&e.jsx(a.p,{className:"text-[#E05264] text-sm mt-2 text-center",initial:{opacity:0},animate:{opacity:1},children:b}),!p&&e.jsx("p",{className:"text-[#134856] text-sm mt-2 text-center",children:"Click to hear an instrument sound and guess what it is!"})]}),n&&e.jsx("audio",{src:n.sound,ref:x}),e.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-4",children:["Sitar","Tabla","Bansuri","Veena","Mridangam"].map((a,t)=>e.jsx("button",{onClick:()=>{return e=a,x.current&&(x.current.pause(),x.current.currentTime=0),l(e),void d(!0);var e},disabled:c,className:"px-4 py-2 rounded-full border transition text-base font-medium "+(s===a?a===(null==n?void 0:n.answer)?"bg-green-200 border-green-500 text-green-800":"bg-red-200 border-red-500 text-red-800":"bg-white border-gray-300 hover:bg-[#F48C8C]/40"),children:a},t))}),c&&e.jsx(a.p,{className:"mt-2 text-lg font-semibold text-center",initial:{opacity:0},animate:{opacity:1},children:s===(null==n?void 0:n.answer)?"✅ Correct!":`❌ Oops! It was ${null==n?void 0:n.answer}.`})]})})}function g(){const h=o.useRef(null),{scrollYProgress:g}=t({target:h});i(g,[0,1],[0,-100]);const[b,y]=o.useState(!1),[x,f]=o.useState(!1),[w,v]=o.useState(null),N=o.useRef(null);o.useEffect(()=>{const e=setTimeout(()=>{y(!0)},150);return()=>clearTimeout(e)},[]);const k=(e,a)=>{if(w===a)return N.current&&(N.current.pause(),N.current.currentTime=0),void v(null);N.current&&(N.current.pause(),N.current.currentTime=0);const t=new Audio(e);N.current=t,t.play(),v(a),t.onended=()=>{v(null)}};o.useEffect(()=>()=>{N.current&&(N.current.pause(),N.current=null)},[]);const C=[{name:"Sitar",image:"/images/sitar-GpeYFOZT.png",sound:l,description:"The sitar is a plucked stringed instrument used in Hindustani classical music. 🎵 Did you know? It has been used in pop music by The Beatles!"},{name:"Tabla",image:"/images/tabla-bpbdF4_A.png",sound:c,description:"Tabla consists of a pair of hand drums and is used in North Indian music. 🎵 Did you know? Each drum has a distinct sound!"},{name:"Bansuri",image:"/images/flute-B-J2PwmA.png",sound:d,description:"The bansuri is a bamboo flute associated with Lord Krishna. 🎵 Did you know? It has six to seven finger holes!"},{name:"Veena",image:"/images/veena-j7QdOzPZ.png",sound:m,description:"The veena is one of the oldest Indian instruments. 🎵 Did you know? It's often used in Carnatic music performances."},{name:"Mridangam",image:"/images/mridangam-D6sjYEXl.png",sound:u,description:"A classical percussion instrument of South India. 🎵 Did you know? It's the primary rhythmic accompaniment in Carnatic music!"}],T=()=>{const t=Array.from({length:15},(e,a)=>({id:a,size:4*Math.random()+2,color:["rgba(19, 72, 86, 0.6)","rgba(224, 82, 100, 0.6)","rgba(244, 140, 140, 0.6)","rgba(29, 124, 111, 0.6)","rgba(255, 215, 0, 0.6)"][Math.floor(5*Math.random())],initialX:100*Math.random(),initialY:100*Math.random(),animationDelay:5*Math.random(),animationDuration:8+6*Math.random(),note:["♪","♫","♩","♬","♭","♯"][Math.floor(6*Math.random())]}));return e.jsx("div",{className:"fixed inset-0 pointer-events-none z-0",children:t.map(t=>e.jsx(a.div,{className:"absolute text-2xl opacity-40",style:{left:t.initialX+"%",top:t.initialY+"%",color:t.color,filter:"blur(0.5px)"},animate:{y:[0,-80,0],x:[0,25,-25,0],opacity:[.4,.7,.4],scale:[1,1.3,1],rotate:[0,360]},transition:{duration:t.animationDuration,repeat:1/0,delay:t.animationDelay,ease:"easeInOut"},children:t.note},t.id))})};return e.jsxs("div",{ref:h,className:"min-h-screen bg-[#F8E6DA] overflow-hidden",children:[e.jsx(r,{}),e.jsxs("div",{className:"pt-10 pb-8",children:[e.jsx(T,{}),e.jsxs(a.section,{className:"relative overflow-hidden pb-8",initial:{opacity:0},animate:{opacity:b?1:0},transition:{duration:1,delay:.2},children:[e.jsx(a.div,{className:"absolute w-96 h-96 bg-gradient-to-r from-[#E05264]/20 to-[#F48C8C]/20 rounded-full blur-3xl opacity-30 top-0 left-0",animate:{scale:[1,1.2,1],rotate:[0,90,0],opacity:[.3,.5,.3]},transition:{duration:10,repeat:1/0,ease:"easeInOut"}}),e.jsx(a.div,{className:"absolute w-80 h-80 bg-gradient-to-r from-[#1D7C6F]/20 to-[#FFD700]/20 rounded-full blur-3xl opacity-25 bottom-0 right-0",animate:{scale:[1,1.1,1],rotate:[0,-90,0],opacity:[.25,.4,.25]},transition:{duration:8,repeat:1/0,ease:"easeInOut",delay:1}}),e.jsxs("div",{className:"relative container mx-auto px-4 text-center z-10",children:[e.jsx(a.h1,{className:"inline-block text-6xl font-dm-serif mb-4 drop-shadow-lg bg-gradient-to-r from-[#134856] to-[#e05264] bg-clip-text text-transparent",initial:{y:50,opacity:0},animate:{y:b?0:50,opacity:b?1:0},transition:{duration:.8,delay:.4},children:"Traditional Music"}),e.jsx(a.p,{className:"text-xl font-lora text-coral-pink font-semibold max-w-3xl mx-auto leading-relaxed mb-6",initial:{y:30,opacity:0},animate:{y:b?0:30,opacity:b?1:0},transition:{duration:.8,delay:.6},children:"Immerse yourself in the soul-stirring melodies of India's classical traditions. Discover the ancient instruments that have echoed through generations, each carrying stories of devotion, celebration, and cultural heritage."})]})]}),e.jsxs("div",{className:"container mx-auto px-2 sm:px-4 relative z-10",children:[e.jsx(a.section,{className:"mb-16",initial:{opacity:0,y:20},animate:{opacity:b?1:0,y:b?0:20},transition:{duration:.8,delay:1},children:e.jsx("div",{className:"flex flex-wrap justify-center gap-8 max-w-7xl mx-auto",children:C.map((t,i)=>e.jsx(a.div,{initial:{opacity:0,y:20},animate:{opacity:b?1:0,y:b?0:20},transition:{duration:.6,delay:1.2+.1*i},children:e.jsx(s,{name:t.name,image:t.image,sound:t.sound,description:t.description,isPlaying:w===t.name,onPlay:k})},t.name))})}),e.jsx(a.section,{className:"mb-16 text-center",initial:{opacity:0,y:20},animate:{opacity:b?1:0,y:b?0:20},transition:{duration:.8,delay:1.5},children:e.jsx(a.button,{onClick:()=>f(!0),className:"bg-gradient-to-r from-[#134856] to-[#e05264] hover:from-[#e05264] hover:to-[#134856] text-white px-8 py-3 rounded-full text-lg font-medium transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105",whileHover:{scale:1.05},whileTap:{scale:.95},children:"🎵 Test Your Knowledge! 🎵"})})]}),e.jsx(n,{children:x&&e.jsx(p,{instruments:C,onClose:()=>f(!1)})})]})]})}export{g as default};
