import{j as e}from"./chunk-DaRttSCz.js";import{d as r,r as a,u as t,L as s}from"./chunk-CMRBzt0a.js";import{y as l}from"./chunk-DaL-jLV-.js";import{a as n,i as o}from"./chunk-DkQ8jBAr.js";import{u as i}from"./index-uUFKMaW1.js";import"./chunk-ouJazw0A.js";import"./chunk-C4w0ZaE1.js";import"./chunk-ZA2d1dje.js";import"./chunk-D-ukXXUr.js";function d(){const[d]=r();d.get("role");const[c,m]=a.useState({name:"",email:"",password:"",role:"Artist"}),[u,h]=a.useState(!1),[p,b]=a.useState(!1),[g,x]=a.useState(!0),[f,N]=a.useState(!1),[w,y]=a.useState(""),[v,k]=a.useState({name:"",email:"",password:"",terms:"",privacy:""}),[C,j]=a.useState({}),P=t(),{register:S,isAuthenticated:A,loading:$,clearError:q}=i(),[L,E]=a.useState({minLength:!1,hasNumber:!1,hasSpecialChar:!1});a.useEffect(()=>{q()},[]);const B=(e,r)=>{switch(e){case"name":return""===r.trim()?"Name is required":"";case"email":return""===r.trim()?"Email is required":o(r)?"":"Please enter a valid email address";case"password":if(""===r.trim())return"Password is required";const e={minLength:r.length>=6,hasNumber:/\d/.test(r),hasSpecialChar:/[!@#$%^&*(),.?":{}|<>]/.test(r)};return E(e),n(r)?"":"Password does not meet all requirements";default:return""}},I=e=>{const{name:r,value:a}=e.target;if(m({...c,[r]:a}),y(""),"password"===r){const e={minLength:a.length>=6,hasNumber:/\d/.test(a),hasSpecialChar:/[!@#$%^&*(),.?":{}|<>]/.test(a)};E(e)}v[r]&&k({...v,[r]:""})},K=e=>{const{name:r,value:a}=e.target;j({...C,[r]:!0});const t=B(r,a);k({...v,[r]:t})};return e.jsx("div",{className:"min-h-screen bg-cover bg-center flex items-center justify-center px-4",style:{backgroundImage:"url('/assets/parallaximg.png')"},children:e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),y(""),!(()=>{const{name:e,email:r,password:a}=c,t={name:B("name",e),email:B("email",r),password:B("password",a),terms:u?"":"You must agree to the Terms of Service to proceed",privacy:p?"":"You must agree to the Privacy Policy to proceed"};return k(t),j({name:!0,email:!0,password:!0,terms:!0,privacy:!0}),!Object.values(t).some(e=>""!==e)})())return void y("Please fix the errors below before submitting.");const r={...c,emailNotifications:{enabled:f,followNotifications:f,likeNotifications:!1,artworkNotifications:!1}},a=await S(r,g);a.success?(l.success("Account created successfully! Welcome to KalaSangam!"),P("/user-profile")):(y(a.error),l.error(a.error))},className:"bg-[rgba(82,200,180,0.8)] \n                  p-10 rounded-3xl max-w-md w-full shadow-xl border border-white/20 font-lora",children:[e.jsx("h2",{className:"text-4xl font-bold text-center mb-3 text-slate-800",children:"Join as Artist"}),e.jsx("p",{className:"text-center mb-6 text-base text-gray-200",children:"Start your artistic journey with us!"}),w&&e.jsx("p",{className:"text-red-600 text-sm mb-4 text-center",children:w}),e.jsxs("div",{className:"mb-4",children:[e.jsx("input",{type:"text",name:"name",placeholder:v.name?v.name:"Full Name",value:c.name,onChange:I,onBlur:K,className:`w-full px-4 py-3 rounded-xl bg-white/70 border ${v.name?"border-coral-red border-2 placeholder-coral-red":"border-coral-red/30"} text-[#284139] focus:ring-2 focus:ring-deep-teal outline-none transition-all duration-200`}),v.name&&e.jsx("p",{className:"text-coral-red text-xs mt-1 ml-2 font-medium",children:v.name})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("input",{type:"email",name:"email",placeholder:v.email?v.email:"Email",value:c.email,onChange:I,onBlur:K,className:`w-full px-4 py-3 rounded-xl bg-white/70 border ${v.email?"border-coral-red border-2 placeholder-coral-red":"border-coral-red/30"} text-[#284139] focus:ring-2 focus:ring-deep-teal outline-none transition-all duration-200`}),v.email&&e.jsx("p",{className:"text-coral-red text-xs mt-1 ml-2 font-medium",children:v.email})]}),c.password&&(!L.minLength||!L.hasNumber||!L.hasSpecialChar)&&e.jsxs("div",{className:"mb-3 transition-all duration-300 ease-in-out",children:[e.jsx("p",{className:"text-base font-semibold text-slate-800 mb-2",children:"Password Requirements:"}),e.jsxs("ul",{className:"text-sm text-gray-200 space-y-1 ml-4",children:[e.jsxs("li",{className:"flex items-center "+(L.minLength?"text-green-300":"text-gray-200"),children:[e.jsx("span",{className:"w-1 h-1 rounded-full mr-2 "+(L.minLength?"bg-green-300":"bg-gray-200")}),"At least 6 characters long"]}),e.jsxs("li",{className:"flex items-center "+(L.hasNumber?"text-green-300":"text-gray-200"),children:[e.jsx("span",{className:"w-1 h-1 rounded-full mr-2 "+(L.hasNumber?"bg-green-300":"bg-gray-200")}),"Contains at least one number"]}),e.jsxs("li",{className:"flex items-center "+(L.hasSpecialChar?"text-green-300":"text-gray-200"),children:[e.jsx("span",{className:"w-1 h-1 rounded-full mr-2 "+(L.hasSpecialChar?"bg-green-300":"bg-gray-200")}),"Contains at least one special character"]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("input",{type:"password",name:"password",placeholder:v.password?v.password:"Password",value:c.password,onChange:I,onBlur:K,className:`w-full px-4 py-3 rounded-xl bg-white/70 border ${v.password?"border-coral-red border-2 placeholder-coral-red":"border-coral-red/30"} text-[#284139] focus:ring-2 focus:ring-deep-teal outline-none transition-all duration-200`}),v.password&&e.jsx("p",{className:"text-coral-red text-xs mt-1 ml-2 font-medium",children:v.password})]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-start gap-3 text-base cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:u,onChange:e=>{return r=e.target.checked,h(r),void(v.terms&&k({...v,terms:""}));var r},className:`mt-1 w-4 h-4 text-deep-teal border ${v.terms?"border-coral-red border-2":"border-gray-300"} rounded focus:ring-2 focus:ring-deep-teal transition-all duration-200`}),e.jsxs("span",{className:"text-slate-800 leading-relaxed",children:["I agree to KalaSangam's"," ",e.jsx(s,{to:"/terms-of-service",target:"_blank",className:"text-white hover:underline font-semibold hover:text-gray-200",children:"TOS and Privacy Policy"})]})]}),v.terms&&e.jsx("p",{className:"text-coral-red text-xs mt-1 ml-7 font-medium",children:v.terms})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-start gap-3 text-base cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:f,onChange:e=>N(e.target.checked),className:"mt-1 w-4 h-4 text-deep-teal border border-gray-300 rounded focus:ring-2 focus:ring-deep-teal transition-all duration-200"}),e.jsxs("span",{className:"text-slate-800 leading-relaxed",children:[e.jsx("strong",{children:" Email Updates"})," - Get notified when someone follows you"]})]})}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-start gap-3 text-base cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:g,onChange:e=>x(e.target.checked),className:"mt-1 w-4 h-4 text-deep-teal border border-gray-300 rounded focus:ring-2 focus:ring-deep-teal transition-all duration-200"}),e.jsxs("span",{className:"text-slate-800 leading-relaxed",children:[e.jsx("strong",{children:"Remember me"})," - Stay logged in even after closing the browser"]})]})})]}),e.jsx("button",{type:"submit",disabled:$,className:"w-full bg-deep-teal hover:bg-coral-red text-off-white font-bold py-3 rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:$?"Creating Account...":"Sign Up"}),e.jsx("div",{className:"text-center mt-4",children:e.jsx("button",{type:"button",onClick:()=>P("/phone-signup"),className:"text-sm bg-white/20 hover:bg-white/30 text-deep-teal font-semibold py-2 px-4 rounded-lg border border-deep-teal/30 transition-all",children:"ðŸ“± Continue with Phone Number Instead"})}),e.jsxs("p",{className:"text-center mt-6 text-base text-white font-medium",children:["Already have an account? ",e.jsx(s,{to:"/login",className:"underline font-semibold hover:text-coral-red",children:"Login"})]})]})})}export{d as default};
