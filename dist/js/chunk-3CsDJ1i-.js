import{j as e,m as t}from"./chunk-DaRttSCz.js";import{r as a}from"./chunk-CMRBzt0a.js";const i=({src:i,alt:r,className:s="",placeholder:n="🎨",aspectRatio:o="aspect-video",...l})=>{const[c,d]=a.useState(!1),[m,p]=a.useState(!1),[u,h]=a.useState(!1),y=a.useRef(null);return a.useEffect(()=>{const e=new IntersectionObserver(([t])=>{t.isIntersecting&&(p(!0),e.disconnect())},{rootMargin:"100px",threshold:.1});return y.current&&e.observe(y.current),()=>e.disconnect()},[]),e.jsxs("div",{ref:y,className:`relative overflow-hidden ${o} ${s}`,...l,children:[e.jsx(t.div,{className:"absolute inset-0 bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center",initial:{opacity:1},animate:{opacity:c?0:1},transition:{duration:.3},children:u?e.jsx("div",{className:"text-red-400 text-2xl",children:"❌"}):e.jsx("div",{className:"text-gray-400 text-2xl animate-pulse",children:n})}),m&&!u&&e.jsx(t.img,{src:i,alt:r,className:"absolute inset-0 w-full h-full object-cover",onLoad:()=>{d(!0)},onError:()=>{h(!0),d(!0)},initial:{opacity:0,scale:1.05},animate:{opacity:c?1:0,scale:c?1:1.05},transition:{duration:.4,ease:"easeOut"},loading:"lazy",decoding:"async",fetchpriority:"low"}),m&&!c&&!u&&e.jsx(t.div,{className:"absolute inset-0 flex items-center justify-center bg-white/50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:e.jsx("div",{className:"w-6 h-6 border-2 border-amber-600 border-t-transparent rounded-full animate-spin"})})]})};export{i as L};
