import{j as e}from"./chunk-DrBkpLm2.js";import{d as r,r as t,u as a,L as l}from"./chunk-CMRBzt0a.js";import{y as s}from"./chunk-BWoFSTeq.js";import{a as n,i as o}from"./chunk-BorHaxuO.js";import{u as d}from"./index-LrY4tx8y.js";import"./chunk-ouJazw0A.js";import"./chunk-C4w0ZaE1.js";import"./chunk-CPxFknmi.js";function i(){const[i]=r();i.get("role");const[c,m]=t.useState({name:"",email:"",password:"",role:"Artist"}),[u,p]=t.useState(!1),[h,x]=t.useState(!1),[b,g]=t.useState(!0),[f,N]=t.useState(""),[w,y]=t.useState({name:"",email:"",password:"",terms:"",privacy:""}),[v,k]=t.useState({}),j=a(),{register:P,isAuthenticated:A,loading:C,clearError:S}=d();t.useEffect(()=>{S()},[]);const I=(e,r)=>{switch(e){case"name":return""===r.trim()?"Name is required":"";case"email":return""===r.trim()?"Email is required":o(r)?"":"Please enter a valid email address";case"password":return""===r.trim()?"Password is required":n(r)?"":"Password must be at least 6 characters";default:return""}},$=e=>{const{name:r,value:t}=e.target;m({...c,[r]:t}),N(""),w[r]&&y({...w,[r]:""})},q=e=>{const{name:r,value:t}=e.target;k({...v,[r]:!0});const a=I(r,t);y({...w,[r]:a})},Y=(e,r)=>{"terms"===e?(p(r),w.terms&&y({...w,terms:""})):"privacy"===e&&(x(r),w.privacy&&y({...w,privacy:""}))};return e.jsx("div",{className:"min-h-screen bg-cover bg-center flex items-center justify-center px-4",style:{backgroundImage:"url('/assets/parallaximg.png')"},children:e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),N(""),!(()=>{const{name:e,email:r,password:t}=c,a={name:I("name",e),email:I("email",r),password:I("password",t),terms:u?"":"You must agree to the Terms of Service to proceed",privacy:h?"":"You must agree to the Privacy Policy to proceed"};return y(a),k({name:!0,email:!0,password:!0,terms:!0,privacy:!0}),!Object.values(a).some(e=>""!==e)})())return void N("Please fix the errors below before submitting.");const r=await P(c,b);r.success?(s.success("Account created successfully! Welcome to KalaSangam!"),j("/user-profile")):(N(r.error),s.error(r.error))},className:"bg-[linear-gradient(to_bottom,rgba(255,190,152,0.8),rgba(255,187,233,0.7),rgba(44,165,141,0.7))] \n                  p-10 rounded-3xl max-w-md w-full shadow-xl border border-white/20 font-lora",children:[e.jsx("h2",{className:"text-4xl font-bold text-center mb-3 text-deep-teal",children:"Join as Artist"}),e.jsx("p",{className:"text-center mb-6 text-sm text-teal-200",children:"Start your artistic journey with us!"}),f&&e.jsx("p",{className:"text-red-600 text-sm mb-4 text-center",children:f}),e.jsxs("div",{className:"mb-4",children:[e.jsx("input",{type:"text",name:"name",placeholder:w.name?w.name:"Full Name",value:c.name,onChange:$,onBlur:q,className:`w-full px-4 py-3 rounded-xl bg-white/70 border ${w.name?"border-coral-red border-2 placeholder-coral-red":"border-coral-red/30"} text-[#284139] focus:ring-2 focus:ring-deep-teal outline-none transition-all duration-200`}),w.name&&e.jsx("p",{className:"text-coral-red text-xs mt-1 ml-2 font-medium",children:w.name})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("input",{type:"email",name:"email",placeholder:w.email?w.email:"Email",value:c.email,onChange:$,onBlur:q,className:`w-full px-4 py-3 rounded-xl bg-white/70 border ${w.email?"border-coral-red border-2 placeholder-coral-red":"border-coral-red/30"} text-[#284139] focus:ring-2 focus:ring-deep-teal outline-none transition-all duration-200`}),w.email&&e.jsx("p",{className:"text-coral-red text-xs mt-1 ml-2 font-medium",children:w.email})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-sm font-semibold text-[#284139] mb-2",children:"Password Requirements:"}),e.jsxs("ul",{className:"text-xs text-teal-200 space-y-1 ml-4",children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-1 h-1 bg-teal-200 rounded-full mr-2"}),"At least 6 characters long"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-1 h-1 bg-teal-200 rounded-full mr-2"}),"Mix of letters and numbers recommended"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-1 h-1 bg-teal-200 rounded-full mr-2"}),"Avoid common passwords"]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("input",{type:"password",name:"password",placeholder:w.password?w.password:"Password",value:c.password,onChange:$,onBlur:q,className:`w-full px-4 py-3 rounded-xl bg-white/70 border ${w.password?"border-coral-red border-2 placeholder-coral-red":"border-coral-red/30"} text-[#284139] focus:ring-2 focus:ring-deep-teal outline-none transition-all duration-200`}),w.password&&e.jsx("p",{className:"text-coral-red text-xs mt-1 ml-2 font-medium",children:w.password})]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-start gap-3 text-sm cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:u,onChange:e=>Y("terms",e.target.checked),className:`mt-1 w-4 h-4 text-deep-teal border ${w.terms?"border-coral-red border-2":"border-gray-300"} rounded focus:ring-2 focus:ring-deep-teal transition-all duration-200`}),e.jsxs("span",{className:"text-[#284139] leading-relaxed",children:["I agree to KalaSangam's"," ",e.jsx(l,{to:"/terms-of-service",target:"_blank",className:"text-coral-red hover:underline font-semibold",children:"Terms of Service"})]})]}),w.terms&&e.jsx("p",{className:"text-coral-red text-xs mt-1 ml-7 font-medium",children:w.terms})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-start gap-3 text-sm cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:h,onChange:e=>Y("privacy",e.target.checked),className:`mt-1 w-4 h-4 text-deep-teal border ${w.privacy?"border-coral-red border-2":"border-gray-300"} rounded focus:ring-2 focus:ring-deep-teal transition-all duration-200`}),e.jsxs("span",{className:"text-[#284139] leading-relaxed",children:["I agree to KalaSangam's"," ",e.jsx(l,{to:"/privacy-policy",target:"_blank",className:"text-coral-red hover:underline font-semibold",children:"Privacy Policy"})]})]}),w.privacy&&e.jsx("p",{className:"text-coral-red text-xs mt-1 ml-7 font-medium",children:w.privacy})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-start gap-3 text-sm cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:b,onChange:e=>g(e.target.checked),className:"mt-1 w-4 h-4 text-deep-teal border border-gray-300 rounded focus:ring-2 focus:ring-deep-teal transition-all duration-200"}),e.jsxs("span",{className:"text-[#284139] leading-relaxed",children:[e.jsx("strong",{children:"Remember me"})," - Stay logged in even after closing the browser"]})]}),e.jsx("p",{className:"text-xs text-teal-200 mt-1 ml-7",children:"If unchecked, you'll need to log in again when you close and reopen the website"})]})]}),e.jsxs("div",{className:"mb-4 p-4 bg-teal-100 rounded-xl border-2 border-teal-300",children:[e.jsx("p",{className:"text-center text-teal-800 font-semibold",children:"ðŸŽ¨ You're signing up as an Artist!"}),e.jsx("p",{className:"text-center text-sm text-teal-600 mt-1",children:"You'll have access to create and showcase your artwork."}),e.jsx("input",{type:"hidden",name:"role",value:"Artist"})]}),e.jsx("button",{type:"submit",disabled:C,className:"w-full bg-deep-teal hover:bg-coral-red text-off-white font-bold py-3 rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:C?"Creating Account...":"Sign Up"}),e.jsx("div",{className:"text-center mt-4",children:e.jsx("button",{type:"button",onClick:()=>j("/phone-signup"),className:"text-sm bg-white/20 hover:bg-white/30 text-deep-teal font-semibold py-2 px-4 rounded-lg border border-deep-teal/30 transition-all",children:"ðŸ“± Continue with Phone Number Instead"})}),e.jsxs("p",{className:"text-center mt-6 text-sm text-teal-200",children:["Already have an account? ",e.jsx(l,{to:"/login",className:"underline font-semibold hover:text-coral-red",children:"Login"})]})]})})}export{i as default};
