import{j as e}from"./chunk-DVxuGNgR.js";import{r as t,u as a,L as r}from"./chunk-Bdcpd3Jy.js";import{E as l}from"./index-BxKwhLk7.js";import"./chunk-Boz1BxA5.js";import"./chunk-DsC01Si0.js";import"./chunk-B7Q-YYjA.js";import"./chunk-BMgD4wMx.js";import"./chunk-CM-yfVV2.js";const n=({onLogin:n})=>{const[o,i]=t.useState({email:"",password:""}),[s,d]=t.useState(!1),[c,m]=t.useState(""),p=a(),u=e=>{i({...o,[e.target.name]:e.target.value})};return e.jsx("div",{className:"min-h-screen bg-cover bg-center flex items-center justify-center px-4",style:{backgroundImage:"url('/assets/parallaximg.png')"},children:e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),d(!0),m(""),!o.email||!o.password)return m("Please fill in all fields"),void d(!1);if(!o.email.includes("@"))return m("Please enter a valid email address"),void d(!1);try{const e=await l.adminLogin(o);localStorage.setItem("token",e.token),localStorage.setItem("user",JSON.stringify(e.user)),localStorage.setItem("userRole",e.user.role),n&&n(e.user),p("/admin/panel")}catch(t){t.message.includes("401")||t.message.includes("403")?m("Invalid admin credentials or insufficient privileges"):t.message.includes("400")?m("Please check your email and password"):t.message.includes("500")?m("Server error. Please try again later."):m(t.message||"Login failed. Please try again.")}finally{d(!1)}},className:"p-10 rounded-3xl max-w-md w-full shadow-xl border border-white/20 font-lora\n                  bg-[linear-gradient(to_bottom,rgba(255,190,152,0.7),rgba(255,187,233,0.7),rgba(44,165,141,0.67))]",children:[e.jsx("h2",{className:"text-4xl font-bold text-center mb-3 text-deep-teal",children:"Admin Access"}),e.jsx("p",{className:"text-center mb-4 text-sm text-teal-200",children:"Administrator login only"}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("p",{className:"text-xs text-teal-200 mb-2",children:"Need regular access?"}),e.jsx("button",{type:"button",onClick:()=>p("/login"),className:"text-xs bg-coral-pink/20 hover:bg-coral-pink/30 text-coral-pink font-semibold py-2 px-4 rounded-lg border border-coral-pink/30 transition-all",children:"üîì Login as User"})]}),c&&e.jsx("p",{className:"text-red-600 text-sm mb-4 text-center",children:c}),e.jsx("input",{type:"email",name:"email",placeholder:"Admin Email",value:o.email,onChange:u,className:"w-full mb-4 px-4 py-3 rounded-xl bg-white/70 border border-coral-pink/30 placeholder-[#284139] text-[#284139] focus:ring-2 focus:ring-deep-teal outline-none"}),e.jsx("input",{type:"password",name:"password",placeholder:"Admin Password",value:o.password,onChange:u,className:"w-full mb-4 px-4 py-3 rounded-xl bg-white/70 border border-coral-pink/30 placeholder-[#284139] text-[#284139] focus:ring-2 focus:ring-deep-teal outline-none"}),e.jsx("button",{type:"submit",disabled:s,className:"w-full bg-deep-teal hover:bg-coral-pink text-off-white font-bold py-3 rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Logging in...":"Admin Login"}),e.jsx("div",{className:"text-center mt-4",children:e.jsx("button",{type:"button",onClick:()=>p("/"),className:"text-sm bg-white/20 hover:bg-white/30 text-deep-teal font-semibold py-2 px-4 rounded-lg border border-deep-teal/30 transition-all",children:"üè† Back to App"})}),e.jsxs("p",{className:"text-center mt-6 text-sm text-teal-200",children:["Forgot admin credentials? ",e.jsx(r,{to:"/contact",className:"underline font-semibold hover:text-coral-pink",children:"Contact Support"})]})]})})};export{n as default};
