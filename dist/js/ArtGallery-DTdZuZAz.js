import{j as e,u as a,a as t,m as r}from"./chunk-DrBkpLm2.js";import{r as l,u as o,d as n}from"./chunk-CMRBzt0a.js";import{a as i}from"./chunk-C4w0ZaE1.js";import{F as s}from"./chunk-B12jDwHr.js";import{F as c,a as d,b as m,c as u,d as h,e as f}from"./chunk-Ca7r8q3n.js";import"./chunk-ouJazw0A.js";import"./chunk-D-ukXXUr.js";function g({name:a,origin:t,photoUrl:r=[],onImageClick:o}){const[n,i]=l.useState({}),[s,c]=l.useState({}),d=r.slice(0,4);return e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 w-full\n      transition-all duration-300 ease-out\n      hover:scale-105 hover:-translate-y-2 hover:shadow-xl\n      border border-[#E05264] shadow-[0_0_15px_rgba(224,82,100,0.2)]\n      hover:shadow-[0_0_25px_rgba(224,82,100,0.4)]\n      transform-gpu will-change-transform",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[d.map((t,r)=>e.jsxs("div",{className:"relative overflow-hidden rounded-md bg-gray-100",children:[!s[r]&&!n[r]&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-200 animate-pulse",children:e.jsx("div",{className:"w-8 h-8 border-2 border-rose-300 border-t-rose-600 rounded-full animate-spin"})}),n[r]?e.jsx("div",{className:"w-full h-60 bg-gray-200 flex items-center justify-center text-gray-500",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl mb-2",children:"🖼️"}),e.jsx("div",{className:"text-sm",children:"Image not available"})]})}):e.jsx("img",{src:t,alt:`${a} ${r+1}`,className:"w-full h-60 object-cover cursor-zoom-in transition-opacity duration-300 "+(s[r]?"opacity-100":"opacity-0"),onClick:()=>o&&o(t),onLoad:()=>(e=>{c(a=>({...a,[e]:!0}))})(r),onError:()=>(e=>{i(a=>({...a,[e]:!0}))})(r),loading:"lazy"})]},r)),Array.from({length:Math.max(0,4-d.length)},(a,t)=>e.jsx("div",{className:"w-full h-60 bg-gray-100 rounded-md flex items-center justify-center text-gray-400",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl mb-2",children:"🎨"}),e.jsx("div",{className:"text-sm",children:"No image"})]})},"empty-"+t))]}),e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-semibold font-lora text-[#134856] mb-2 line-clamp-2 leading-tight",children:a||"Unknown Art Form"}),e.jsx("p",{className:"text-[#E05264] text-lg font-semibold font-lora italic",children:t||"Unknown Origin"})]})]})}function p(){const p=o(),x=l.useRef(null),{scrollYProgress:b}=a({target:x});t(b,[0,1],[0,-100]);const[v,y]=l.useState([]),[w,N]=l.useState(!0),[k,C]=l.useState(null),[j]=n(),M=j.get("state"),A=j.get("category"),F="/explore/art"===window.location.pathname,[z,D]=l.useState(F?"":M||""),[S,E]=l.useState(""),[I,T]=l.useState(F?"all":A||"all"),[_,P]=l.useState("name"),[H,O]=l.useState(null),[$,B]=l.useState(!1),[U,L]=l.useState(1),[Y,G]=l.useState(!1);l.useEffect(()=>{const e=setTimeout(()=>{G(!0)},150);return()=>clearTimeout(e)},[]),l.useEffect(()=>{if(!F){const e=j.get("state");e&&D(e);const a=j.get("category");a&&T(a)}},[j,F]),l.useEffect(()=>{(async()=>{try{N(!0),C(null);const e=await i.get("http://localhost:5050/api/artforms?limit=200");e.data&&e.data.success&&Array.isArray(e.data.data)?y(e.data.data):Array.isArray(e.data)?y(e.data):(C("Invalid data format received"),y([]))}catch(e){C("Failed to load art forms. Please try refreshing the page."),y([])}finally{N(!1)}})()},[]);const X=v.filter(e=>{var a,t,r,l,o,n,i,s,c,d,m,u;const h=""===S||(null==(a=e.name)?void 0:a.toLowerCase().includes(S.toLowerCase()))||(null==(t=e.title)?void 0:t.toLowerCase().includes(S.toLowerCase()))||(null==(r=e.origin)?void 0:r.toLowerCase().includes(S.toLowerCase())),f=""===z||e.origin===z,g="all"===I||(null==(l=e.category)?void 0:l.toLowerCase())===I.toLowerCase()||"painting"===I&&((null==(o=e.name)?void 0:o.toLowerCase().includes("painting"))||(null==(n=e.title)?void 0:n.toLowerCase().includes("painting")))||"craft"===I&&((null==(i=e.name)?void 0:i.toLowerCase().includes("craft"))||(null==(s=e.name)?void 0:s.toLowerCase().includes("work")))||"sculpture"===I&&(null==(c=e.name)?void 0:c.toLowerCase().includes("carving"))||"textile"===I&&((null==(d=e.name)?void 0:d.toLowerCase().includes("embroidery"))||(null==(m=e.name)?void 0:m.toLowerCase().includes("shawl"))||(null==(u=e.name)?void 0:u.toLowerCase().includes("phulkari")));return h&&f&&g}).sort((e,a)=>{switch(_){case"name":return(e.name||e.title||"").localeCompare(a.name||a.title||"");case"state":return(e.origin||"").localeCompare(a.origin||"");case"newest":return new Date(a.createdAt||0)-new Date(e.createdAt||0);case"oldest":return new Date(e.createdAt||0)-new Date(a.createdAt||0);default:return 0}}),Z=Math.ceil(X.length/12),q=12*(U-1),J=q+12,K=X.slice(q,J);l.useEffect(()=>{L(1)},[S,z,I,_]),l.useEffect(()=>{v.length},[v,K]),l.useEffect(()=>{const e=e=>{"Escape"===e.key&&(O(null),B(!1))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[]);const Q=e=>{O(e),B(!1)},R=()=>{const a=Array.from({length:25},(e,a)=>({id:a,size:4*Math.random()+2,color:["rgba(19, 72, 86, 0.6)","rgba(224, 82, 100, 0.6)","rgba(248, 230, 218, 0.8)","rgba(255, 193, 7, 0.6)","rgba(139, 69, 19, 0.5)"][Math.floor(5*Math.random())],initialX:100*Math.random(),initialY:100*Math.random(),animationDelay:5*Math.random(),animationDuration:8+6*Math.random()}));return e.jsx("div",{className:"fixed inset-0 pointer-events-none z-0",children:a.map(a=>e.jsx(r.div,{className:"absolute rounded-full opacity-40",style:{width:a.size+"px",height:a.size+"px",backgroundColor:a.color,left:a.initialX+"%",top:a.initialY+"%",filter:"blur(0.5px)",boxShadow:`0 0 ${2*a.size}px ${a.color}`},animate:{y:[0,-80,0],x:[0,25,-25,0],opacity:[.4,.7,.4],scale:[1,1.3,1]},transition:{duration:a.animationDuration,repeat:1/0,delay:a.animationDelay,ease:"easeInOut"}},a.id))})};return e.jsxs("div",{ref:x,className:"min-h-screen bg-[#F8E6DA] pb-8 overflow-hidden",children:[e.jsx(s,{}),e.jsx(R,{}),e.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[e.jsxs(r.section,{className:"text-center mb-12",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[e.jsx(r.div,{className:"absolute w-96 h-96 bg-gradient-to-r from-[#E05264]/20 to-[#F48C8C]/20 rounded-full blur-3xl opacity-30 top-0 left-0",animate:{scale:[1,1.2,1],rotate:[0,90,0],opacity:[.3,.5,.3]},transition:{duration:10,repeat:1/0,ease:"easeInOut"}}),e.jsx("h1",{className:"inline-block text-6xl pt-10 font-dm-serif font-bold mb-6 drop-shadow-lg bg-gradient-to-r from-[#134856] to-[#e05264] bg-clip-text text-transparent",children:"Art Gallery"}),e.jsx("p",{className:"text-lg font-lora font-semibold text-xl text-[#E05264] max-w-3xl mx-auto leading-relaxed mb-10",children:"Discover the magnificent tapestry of Indian traditional arts. From ancient crafts to timeless performances, explore the diverse cultural heritage of our nation."})]}),w&&e.jsx("div",{className:"flex justify-center items-center py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-tealblue mx-auto mb-4"}),e.jsx("p",{className:"text-lg text-gray-600 font-lora",children:"Loading art forms..."})]})}),k&&e.jsx("div",{className:"flex justify-center items-center py-16",children:e.jsxs("div",{className:"text-center bg-red-50 border border-red-200 rounded-lg p-8 max-w-md",children:[e.jsx("p",{className:"text-red-600 font-lora text-lg mb-4",children:k}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition font-lora",children:"Try Again"})]})}),e.jsx(r.div,{className:"bg-gradient-to-br from-[#1d7c6f] to-[#f58c8c] rounded-3xl shadow-2xl p-2 mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:e.jsx("div",{className:"bg-[#F8E6DA] rounded-2xl p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(c,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search for art forms...",value:S,onChange:e=>E(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{className:"text-gray-600"}),e.jsxs("select",{value:I,onChange:e=>T(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Categories"}),e.jsx("option",{value:"painting",children:"Painting"}),e.jsx("option",{value:"sculpture",children:"Sculpture"}),e.jsx("option",{value:"craft",children:"Craft"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{className:"text-gray-600"}),e.jsxs("select",{value:z,onChange:e=>D(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All States"}),[...new Set(v.map(e=>e.origin))].filter(e=>e).sort().map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(u,{className:"text-gray-600"}),e.jsxs("select",{value:_,onChange:e=>P(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[e.jsx("option",{value:"name",children:"By Name"}),e.jsx("option",{value:"state",children:"By State"}),e.jsx("option",{value:"newest",children:"Newest First"}),e.jsx("option",{value:"oldest",children:"Oldest First"})]})]})]})]})})}),!w&&!k&&e.jsx(e.Fragment,{children:K.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("p",{className:"text-gray-600 font-lora",children:["Showing ",q+1,"-",Math.min(J,X.length)," of ",X.length," art form",1!==X.length?"s":"",z&&" from "+z]}),Z>1&&e.jsxs("p",{className:"text-sm text-gray-500 mt-1 font-lora",children:["Page ",U," of ",Z]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 gap-8 auto-rows-auto transition-all duration-1000 delay-500 "+(Y?"opacity-100":"opacity-0"),children:K.map((a,t)=>e.jsx("div",{className:"w-full transition-all duration-700 "+(Y?"opacity-100 translate-y-0":"opacity-0 translate-y-12"),style:{transitionDelay:Math.min(100*t,1e3)+"ms"},children:e.jsx(g,{...a,onImageClick:Q})},a.t))}),Z>1&&e.jsxs("div",{className:"flex justify-center items-center gap-4 mt-12 mb-8",children:[e.jsxs(r.button,{onClick:()=>L(e=>Math.max(e-1,1)),disabled:1===U,className:"flex items-center gap-2 px-6 py-3 rounded-full font-semibold transition-all duration-300 "+(1===U?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-[#134856] to-[#e05264] hover:from-[#e05264] hover:to-[#134856] text-white shadow-lg hover:shadow-xl transform hover:scale-105"),whileHover:1!==U?{scale:1.05}:{},whileTap:1!==U?{scale:.95}:{},children:[e.jsx(h,{size:14}),"Previous"]}),e.jsx("div",{className:"flex items-center gap-2",children:Array.from({length:Math.min(5,Z)},(a,t)=>{const l=Math.max(1,U-2)+t;return l>Z?null:e.jsx(r.button,{onClick:()=>L(l),className:"w-10 h-10 rounded-full font-semibold transition-all duration-300 "+(U===l?"bg-gradient-to-r from-[#134856] to-[#e05264] text-white shadow-lg":"bg-white text-[#134856] border-2 border-[#134856] hover:bg-gradient-to-r hover:from-[#134856] hover:to-[#e05264] hover:text-white"),whileHover:{scale:1.1},whileTap:{scale:.9},children:l},l)})}),e.jsxs(r.button,{onClick:()=>L(e=>Math.min(e+1,Z)),disabled:U===Z,className:"flex items-center gap-2 px-6 py-3 rounded-full font-semibold transition-all duration-300 "+(U===Z?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-[#134856] to-[#e05264] hover:from-[#e05264] hover:to-[#134856] text-white shadow-lg hover:shadow-xl transform hover:scale-105"),whileHover:U!==Z?{scale:1.05}:{},whileTap:U!==Z?{scale:.95}:{},children:["Next",e.jsx(f,{size:14})]})]})]}):e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-600 font-lora text-lg",children:z?"No art forms found for "+z:"No art forms available"})})}),H&&e.jsxs("div",{onClick:()=>{O(null),B(!1)},className:"fixed inset-0 bg-white bg-opacity-10 backdrop-blur-md flex flex-col items-center justify-center z-50 cursor-zoom-out p-4",children:[e.jsx("img",{src:H,alt:"Zoomed art",className:"max-w-full max-h-full object-contain rounded-lg shadow-2xl cursor-zoom-in select-none "+($?"w-full h-full":""),onClick:e=>e.stopPropagation(),style:{userSelect:"auto"}}),e.jsx("button",{onClick:e=>{e.stopPropagation(),B(e=>!e)},className:"mt-6 px-6 py-2 bg-tealblue text-white rounded-full shadow-lg hover:bg-coral-red focus:outline-none focus:ring-4 focus:ring-golden-saffron transition font-lora font-bold",children:$?"Fit to Screen":"Full Screen"})]}),e.jsx("div",{className:"flex justify-center mt-12",children:e.jsx(r.button,{onClick:()=>p("/map"),className:"bg-gradient-to-r from-[#134856] to-[#e05264] hover:from-[#e05264] hover:to-[#134856] text-white px-8 py-3 rounded-full text-lg font-medium transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105",whileHover:{scale:1.05},whileTap:{scale:.95},children:"← Back to India Map"})})]})]})}export{p as default};
