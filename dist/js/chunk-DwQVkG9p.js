import{j as e,A as r,m as t}from"./chunk-DrBkpLm2.js";import{r as a}from"./chunk-CMRBzt0a.js";import{n,o,j as l,p as i,b as s}from"./chunk-Ca7r8q3n.js";const c=({isOpen:c,onClose:d,onSubmit:m})=>{const[u,g]=a.useState({title:"",description:"",type:"event",category:"general",date:"",time:"",location:{venue:"",address:"",city:"",state:""},instructor:"",price:0,maxParticipants:"",imageUrl:"",registrationRequired:!1,registrationLink:"",contactEmail:"",contactPhone:""}),[p,b]=a.useState(null),[h,f]=a.useState({}),x=e=>{const{name:r,value:t,type:a,checked:n}=e.target;if(r.includes(".")){const[e,o]=r.split(".");g(r=>({...r,[e]:{...r[e],[o]:"checkbox"===a?n:t}}))}else g(e=>({...e,[r]:"checkbox"===a?n:t}));h[r]&&f(e=>({...e,[r]:""}))},y=()=>{g({title:"",description:"",type:"event",category:"general",date:"",time:"",location:{venue:"",address:"",city:"",state:""},instructor:"",price:0,maxParticipants:"",imageUrl:"",registrationRequired:!1,contactEmail:"",contactPhone:""}),b(null),f({}),d()};return e.jsx(r,{children:c&&e.jsx(t.div,{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:y,children:e.jsxs(t.div,{className:"bg-gradient-to-br from-[#F8E6DA]/95 to-[#F4C8C3]/95 backdrop-blur-lg rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto border border-[#e05264]/20",initial:{scale:.8,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},exit:{scale:.8,opacity:0,y:50},transition:{duration:.3},onClick:e=>e.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-[#d4a574]/20 bg-gradient-to-r from-[#134856] to-[#e05264] rounded-t-2xl",children:[e.jsx("h2",{className:"text-2xl font-bold text-white font-dm-serif",children:"Add New Event"}),e.jsx("button",{onClick:y,className:"text-white hover:text-gray-200 transition-colors p-2 hover:bg-white/10 rounded-full",children:e.jsx(n,{size:20})})]}),e.jsxs("form",{onSubmit:e=>{if(e.preventDefault(),(()=>{const e={};if(u.title.trim()?u.title.length>200&&(e.title="Event name must be 200 characters or less"):e.title="Event name is required",u.description.trim()?u.description.length>1e3&&(e.description="Description must be 1000 characters or less"):e.description="Description is required",u.date){const r=new Date(u.date),t=new Date;t.setHours(0,0,0,0),t>r&&(e.date="Event date must be today or in the future")}else e.date="Date is required";return u.time.trim()||(e.time="Time is required"),u.location.venue.trim()||(e["location.venue"]="Venue is required"),u.location.address.trim()||(e["location.address"]="Address is required"),u.location.city.trim()||(e["location.city"]="City is required"),u.location.state.trim()||(e["location.state"]="State is required"),0>u.price&&(e.price="Price cannot be negative"),u.maxParticipants&&1>u.maxParticipants&&(e.maxParticipants="Maximum participants must be at least 1"),u.contactEmail&&!/\S+@\S+\.\S+/.test(u.contactEmail)&&(e.contactEmail="Please provide a valid email address"),f(e),0===Object.keys(e).length})()){const e={...u,artist:"60d5ecb74c9b930015a5b2e1"};m(e),y()}},className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Image (Optional)"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:e=>{const r=e.target.files[0];if(r){const e=new FileReader;e.onload=e=>{b(e.target.result),g(r=>({...r,imageUrl:e.target.result}))},e.readAsDataURL(r)}},className:"hidden",id:"image-upload"}),e.jsx("label",{htmlFor:"image-upload",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-orange-400 transition-colors",children:p?e.jsx("img",{src:p,alt:"Preview",className:"w-full h-full object-cover rounded-lg"}):e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx(o,{className:"w-8 h-8 mb-3 text-gray-400"}),e.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[e.jsx("span",{className:"font-semibold",children:"Click to upload"})," event image"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Event Name * ",e.jsxs("span",{className:"text-xs text-gray-500",children:["(",u.title.length,"/200)"]})]}),e.jsx("input",{type:"text",name:"title",value:u.title,onChange:x,placeholder:"Enter event name...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",maxLength:"200"}),h.title&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.title})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Instructor/Artist (Optional)"}),e.jsx("input",{type:"text",name:"instructor",value:u.instructor,onChange:x,placeholder:"Name of instructor or artist...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Description * ",e.jsxs("span",{className:"text-xs text-gray-500",children:["(",u.description.length,"/1000)"]})]}),e.jsx("textarea",{name:"description",value:u.description,onChange:x,placeholder:"Describe your event...",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent resize-none",maxLength:"1000"}),h.description&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.description})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Type *"}),e.jsx("select",{name:"type",value:u.type,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:["workshop","event","exhibition","performance"].map(r=>e.jsx("option",{value:r,children:r.charAt(0).toUpperCase()+r.slice(1)},r))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),e.jsx("select",{name:"category",value:u.category,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:["music","dance","art","crafts","general"].map(r=>e.jsx("option",{value:r,children:r.charAt(0).toUpperCase()+r.slice(1)},r))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[e.jsx(l,{className:"mr-2"}),"Event Date *"]}),e.jsx("input",{type:"date",name:"date",value:u.date,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),h.date&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.date})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[e.jsx(i,{className:"mr-2"}),"Time *"]}),e.jsx("input",{type:"text",name:"time",value:u.time,onChange:x,placeholder:"e.g., 10:00 AM, 7:30 PM",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),h.time&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.time})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[e.jsx(s,{className:"mr-2"}),"Location *"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("input",{type:"text",name:"location.venue",value:u.location.venue,onChange:x,placeholder:"Venue name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),h["location.venue"]&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:h["location.venue"]})]}),e.jsxs("div",{children:[e.jsx("input",{type:"text",name:"location.address",value:u.location.address,onChange:x,placeholder:"Street address",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),h["location.address"]&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:h["location.address"]})]}),e.jsxs("div",{children:[e.jsx("input",{type:"text",name:"location.city",value:u.location.city,onChange:x,placeholder:"City",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),h["location.city"]&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:h["location.city"]})]}),e.jsxs("div",{children:[e.jsx("input",{type:"text",name:"location.state",value:u.location.state,onChange:x,placeholder:"State",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),h["location.state"]&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:h["location.state"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price (â‚¹)"}),e.jsx("input",{type:"number",name:"price",value:u.price,onChange:x,min:"0",placeholder:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),h.price&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.price})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Participants (Optional)"}),e.jsx("input",{type:"number",name:"maxParticipants",value:u.maxParticipants,onChange:x,min:"1",placeholder:"Unlimited",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),h.maxParticipants&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.maxParticipants})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"registrationRequired",checked:u.registrationRequired,onChange:x,className:"mr-2 h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"}),e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Registration Required"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Registration/Event Link (Optional)"}),e.jsx("input",{type:"url",name:"registrationLink",value:u.registrationLink,onChange:x,placeholder:"https://example.com/register or https://eventbrite.com/...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Add a link for registration, tickets, or more information about the event"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Email (Optional)"}),e.jsx("input",{type:"email",name:"contactEmail",value:u.contactEmail,onChange:x,placeholder:"contact@example.com",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),h.contactEmail&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.contactEmail})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Phone (Optional)"}),e.jsx("input",{type:"tel",name:"contactPhone",value:u.contactPhone,onChange:x,placeholder:"+91 98765 43210",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"button",onClick:y,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-[#9b2226] to-[#d62d20] text-white px-4 py-2 rounded-lg font-semibold hover:from-[#7a1b1e] hover:to-[#b8251c] transition-all duration-300 shadow-lg hover:shadow-xl",children:"Add Event"})]})]})]})})})};export{c as E};
