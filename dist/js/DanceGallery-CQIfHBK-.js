import{r as t,j as e,m as a,b as i}from"./framerMotion-CogqvMXS.js";import{b as r}from"./index-o05s5HAD.js";import"./vendor-BI3NJeJA.js";import"./three-wh2_sdWZ.js";var n=new Map,s=new WeakMap,o=0;function l(t){return Object.keys(t).sort().filter(e=>void 0!==t[e]).map(e=>{return`${e}_${"root"===e?(a=t.root,a?(s.has(a)||(o+=1,s.set(a,o.toString())),s.get(a)):"0"):t[e]}`;var a}).toString()}function d(t,e,a={},i=undefined){if(void 0===window.IntersectionObserver&&void 0!==i){const r=t.getBoundingClientRect();return e(i,{isIntersecting:i,target:t,intersectionRatio:"number"==typeof a.threshold?a.threshold:0,time:0,boundingClientRect:r,intersectionRect:r,rootBounds:r}),()=>{}}const{id:r,observer:s,elements:o}=function(t){const e=l(t);let a=n.get(e);if(!a){const i=new Map;let r;const s=new IntersectionObserver(e=>{e.forEach(e=>{var a;const n=e.isIntersecting&&r.some(t=>e.intersectionRatio>=t);t.trackVisibility&&void 0===e.isVisible&&(e.isVisible=n),null==(a=i.get(e.target))||a.forEach(t=>{t(n,e)})})},t);r=s.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),a={id:e,observer:s,elements:i},n.set(e,a)}return a}(a),d=o.get(t)||[];return o.has(t)||o.set(t,d),d.push(e),s.observe(t),function(){d.splice(d.indexOf(e),1),0===d.length&&(o.delete(t),s.unobserve(t)),0===o.size&&(s.disconnect(),n.delete(r))}}const c=[{id:1,src:"/assets/traditional/1.png",size:"w-48 h-auto"},{id:2,src:"/assets/traditional/2.png",size:"w-40 h-auto"},{id:3,src:"/assets/traditional/3.png",size:"w-40 h-auto"},{id:4,src:"/assets/traditional/4.png",size:"w-40 h-auto"},{id:5,src:"/assets/traditional/5.png",size:"w-40 h-auto"},{id:6,src:"/assets/traditional/6.png",size:"w-40 h-auto"},{id:7,src:"/assets/traditional/7.png",size:"w-40 h-auto"},{id:7,src:"/assets/traditional/8.png",size:"w-40 h-auto"}],u=({src:t,size:i,side:r})=>{const n="left"===r?{left:"-2rem",top:"10%",translateY:"-40%"}:{right:"-2rem",top:"10%",translateY:"-40%"};return e.jsx(a.img,{src:t,alt:"floating visual",className:`${i} absolute opacity-100 select-none pointer-events-none`,style:{position:"absolute",top:n.top,[r]:n[r],transform:`translateY(${n.translateY})`},animate:{y:[0,-15,0]},transition:{duration:5+3*Math.random(),repeat:1/0,ease:"easeInOut"},draggable:!1,loading:"lazy"})},h=({dance:r,index:n})=>{const s=i(),[o,l]=function({threshold:e,delay:a,trackVisibility:i,rootMargin:r,root:n,triggerOnce:s,skip:o,initialInView:l,fallbackInView:c,onChange:u}={}){var h;const[m,p]=t.useState(null),f=t.useRef(u),[g,x]=t.useState({inView:!!l,entry:void 0});f.current=u,t.useEffect(()=>{if(o||!m)return;let t;return t=d(m,(e,a)=>{x({inView:e,entry:a}),f.current&&f.current(e,a),a.isIntersecting&&s&&t&&(t(),t=void 0)},{root:n,rootMargin:r,threshold:e,trackVisibility:i,delay:a},c),()=>{t&&t()}},[Array.isArray(e)?e.toString():e,m,n,r,s,o,i,c,a]);const b=null==(h=g.entry)?void 0:h.target,y=t.useRef(void 0);m||!b||s||o||y.current===b||(y.current=b,x({inView:!!l,entry:void 0}));const v=[p,g.inView,g.entry];return v.ref=v[0],v.inView=v[1],v.entry=v[2],v}({threshold:.4,triggerOnce:!0}),h=n%2==0,m=c[n%c.length];return t.useEffect(()=>{l&&s.start("visible")},[s,l]),e.jsxs(a.div,{ref:o,initial:{opacity:0,x:h?-100:100},animate:s,variants:{visible:{opacity:1,x:0,transition:{duration:.8,ease:"easeOut"}}},className:"relative w-full flex justify-center mb-20",style:{minHeight:"200px"},children:[e.jsx(a.img,{src:"/assets/traditional/diya.png",alt:"diya",className:"w-12 h-auto absolute top-6 left-1/2 -translate-x-1/2 select-none pointer-events-none drop-shadow-md",animate:{scale:l?[1,1.3,1]:1,filter:l?"drop-shadow(0 0 10px rgba(255, 215, 0, 0.7))":"none"},transition:{repeat:1/0,duration:2}}),e.jsx(u,{src:m.src,size:m.size,side:h?"right":"left"}),e.jsxs(a.div,{className:"max-w-4xl bg-[#fff3f1] rounded-2xl p-12 shadow-lg font-lora text-[#134856] cursor-pointer "+(h?"mr-auto text-left":"ml-auto text-right"),style:{flex:"1 1 70%",boxShadow:"0 8px 24px rgba(244, 140, 140, 0.3), 0 0 12px rgba(244, 140, 140, 0.3)",filter:"drop-shadow(0 0 6px rgba(244, 140, 140, 0.3))"},whileHover:{scale:1.05,y:-8,boxShadow:"0 0 40px rgba(244, 140, 140, 0.6), 0 20px 40px rgba(244, 140, 140, 0.3)",filter:"drop-shadow(0 0 10px rgba(244, 140, 140, 0.4))"},transition:{duration:.4},children:[e.jsx("h2",{className:"text-[2rem] font-lora font-bold text-deep-teal mb-8",children:r.name}),e.jsx("p",{className:"text-[1.25rem] font-lora font-medium text-coral-pink leading-relaxed",children:r.description?.slice(0,300)||"This classical dance form is celebrated for its rich heritage and traditional significance across Indian culture."})]})]})},m={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.25}}},p=()=>{const t=Array.from({length:15},(t,e)=>({id:e,size:4*Math.random()+2,color:["rgba(19, 72, 86, 0.6)","rgba(224, 82, 100, 0.6)","rgba(244, 140, 140, 0.6)","rgba(29, 124, 111, 0.6)","rgba(255, 215, 0, 0.6)"][Math.floor(5*Math.random())],initialX:100*Math.random(),initialY:100*Math.random(),animationDelay:5*Math.random(),animationDuration:8+6*Math.random(),symbol:["●","◆","▲","■","♦","★"][Math.floor(6*Math.random())]}));return e.jsx("div",{className:"fixed inset-0 pointer-events-none z-0",children:t.map(t=>e.jsx(a.div,{className:"absolute text-2xl opacity-40",style:{left:`${t.initialX}%`,top:`${t.initialY}%`,color:t.color,filter:"blur(0.5px)"},animate:{y:[0,-80,0],x:[0,25,-25,0],opacity:[.4,.7,.4],scale:[1,1.3,1],rotate:[0,360]},transition:{duration:t.animationDuration,repeat:1/0,delay:t.animationDelay,ease:"easeInOut"},children:t.symbol},t.id))})},f=()=>{const[i,n]=t.useState([]),[s,o]=t.useState(!1);return t.useEffect(()=>{window.scrollTo(0,0);const t=setTimeout(()=>{o(!0)},150);return()=>clearTimeout(t)},[]),t.useEffect(()=>{r.get("/api/danceforms").then(t=>{Array.isArray(t.data)&&n(t.data)}).catch(t=>{})},[]),e.jsxs("div",{className:"min-h-screen bg-[#F8E6DA] overflow-hidden font-body text-[#134856]",children:[e.jsx(p,{}),e.jsxs("div",{className:"w-full h-20 relative overflow-hidden",style:{background:"linear-gradient(180deg, #134856 0%, #E05264 40%, #fbd1c6 70%, #fce3d8 100%)"},children:[e.jsxs("svg",{className:"absolute bottom-0 w-full h-full",viewBox:"0 0 1200 120",preserveAspectRatio:"none",children:[e.jsx("path",{d:"M0,0L50,10C100,20,200,40,300,45C400,50,500,40,600,35C700,30,800,30,900,35C1000,40,1100,50,1150,55L1200,60L1200,120L0,120Z",fill:"#fbd1c6",opacity:"0.5"}),e.jsx("path",{d:"M0,20L50,25C100,30,200,40,300,42C400,45,500,40,600,38C700,35,800,35,900,40C1000,45,1100,55,1150,60L1200,65L1200,120L0,120Z",fill:"#fce3d8",opacity:"0"})]}),e.jsx("div",{className:"absolute bottom-0 w-full h-4 bg-[#fce3d8] z-[-1]"})]}),e.jsxs(a.section,{className:"relative overflow-hidden pb-8 pt-12",initial:{opacity:0},animate:{opacity:s?1:0},transition:{duration:1,delay:.2},children:[e.jsx(a.div,{className:"absolute w-96 h-96 bg-gradient-to-r from-[#E05264]/20 to-[#F48C8C]/20 rounded-full blur-3xl opacity-30 top-0 left-0",animate:{scale:[1,1.2,1],rotate:[0,90,0],opacity:[.3,.5,.3]},transition:{duration:10,repeat:1/0,ease:"easeInOut"}}),e.jsx(a.div,{className:"absolute w-80 h-80 bg-gradient-to-r from-[#1D7C6F]/20 to-[#FFD700]/20 rounded-full blur-3xl opacity-25 bottom-0 right-0",animate:{scale:[1,1.1,1],rotate:[0,-90,0],opacity:[.25,.4,.25]},transition:{duration:8,repeat:1/0,ease:"easeInOut",delay:1}}),e.jsxs("div",{className:"relative container mx-auto px-4 text-center z-10",children:[e.jsx(a.h1,{className:"inline-block text-6xl font-dm-serif-display mb-4 drop-shadow-lg bg-gradient-to-r from-[#134856] to-[#e05264] bg-clip-text text-transparent",initial:{y:50,opacity:0},animate:{y:s?0:50,opacity:s?1:0},transition:{duration:.8,delay:.4},children:"Explore Dance Forms"}),e.jsx(a.p,{className:"text-xl font-lora text-coral-pink font-semibold max-w-3xl mx-auto leading-relaxed mb-6",initial:{y:30,opacity:0},animate:{y:s?0:30,opacity:s?1:0},transition:{duration:.8,delay:.6},children:"Discover the graceful movements and rich traditions of classical Indian dance forms. Each dance tells a story of devotion, celebration, and cultural heritage that has been passed down through generations."})]})]}),e.jsx("div",{className:"container mx-auto px-4 relative z-10",children:e.jsxs(a.section,{className:"mb-16",initial:{opacity:0,y:20},animate:{opacity:s?1:0,y:s?0:20},transition:{duration:.8,delay:1},children:[e.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-1 bg-gradient-to-b from-[#134856] to-[#e05264] h-full rounded-full z-0"}),e.jsx(a.div,{className:"relative z-10",variants:m,initial:"hidden",animate:"visible",children:i.map((t,a)=>e.jsx(h,{dance:t,index:a},t._id||a))})]})})]})};export{f as default};
