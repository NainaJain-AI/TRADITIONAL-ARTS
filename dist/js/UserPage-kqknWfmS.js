import{r as e,j as t,m as s,A as a}from"./framerMotion-CogqvMXS.js";import{y as r,e as l,d as i,u as n}from"./index-BRMdYX2S.js";import{E as o}from"./EventModal-DsOGpp_y.js";import"./vendor-BI3NJeJA.js";import"./three-wh2_sdWZ.js";import"./index-BhBvdYf9.js";const d=[{name:"Teal",bg:"bg-teal-500",text:"text-white"},{name:"Coral",bg:"bg-coral-red",text:"text-white"},{name:"Purple",bg:"bg-purple-500",text:"text-white"},{name:"Blue",bg:"bg-blue-500",text:"text-white"},{name:"Green",bg:"bg-green-500",text:"text-white"},{name:"Pink",bg:"bg-pink-500",text:"text-white"},{name:"Orange",bg:"bg-orange-500",text:"text-white"},{name:"Indigo",bg:"bg-indigo-500",text:"text-white"}];function c({currentAvatar:s,userName:a,onAvatarChange:l,isEditing:i=!1}){const[n,o]=e.useState(s?.startsWith("http")||s?.startsWith("data:")?"image":s?.startsWith("color:")?"color":"initials"),[c,x]=e.useState(s?.startsWith("color:")?s.split(":")[1]:"bg-teal-500"),[m,h]=e.useState("image"===n?s:null),[u,g]=e.useState(!1),f=e.useRef(),p=a?.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2)||"?",b=e=>{if(!e)return;if(!e.type.startsWith("image/"))return void r.error("Please select an image file");if(e.size>5242880)return void r.error("Image size should be less than 5MB");const t=new FileReader;t.onload=e=>{const t=e.target.result;h(t),o("image"),l&&l(t)},t.readAsDataURL(e)},j=()=>"image"===n&&m?t.jsx("img",{src:m,alt:"Profile",className:"w-32 h-32 rounded-full object-cover border-4 border-white shadow-lg"}):"color"===n?t.jsx("div",{className:`w-32 h-32 rounded-full border-4 border-white shadow-lg flex items-center justify-center ${c} text-white`,children:t.jsx("span",{className:"text-3xl font-bold",children:p})}):t.jsx("div",{className:"w-32 h-32 rounded-full border-4 border-white shadow-lg flex items-center justify-center bg-gray-200 text-gray-600",children:t.jsx("span",{className:"text-3xl font-bold",children:p})});return i?t.jsxs("div",{className:"flex flex-col items-center space-y-6",children:[t.jsxs("div",{className:"relative",children:[j(),"image"===n&&t.jsx("button",{onClick:()=>{h(null),o("initials"),l&&l(""),f.current&&(f.current.value="")},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-8 h-8 flex items-center justify-center hover:bg-red-600 transition-colors",children:"×"})]}),t.jsxs("div",{className:"flex space-x-4 bg-gray-50 rounded-lg p-2",children:[t.jsx("button",{onClick:()=>{o("initials"),h(null),x("bg-teal-500"),l&&l("")},className:"px-4 py-2 rounded-lg font-medium transition-colors "+("initials"===n?"bg-white text-teal-600 shadow-sm":"text-gray-600 hover:text-gray-800"),children:"Initials"}),t.jsx("button",{onClick:()=>o("color"),className:"px-4 py-2 rounded-lg font-medium transition-colors "+("color"===n?"bg-white text-teal-600 shadow-sm":"text-gray-600 hover:text-gray-800"),children:"Color"}),t.jsx("button",{onClick:()=>f.current?.click(),className:"px-4 py-2 rounded-lg font-medium transition-colors "+("image"===n?"bg-white text-teal-600 shadow-sm":"text-gray-600 hover:text-gray-800"),children:"Image"})]}),"color"===n&&t.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[t.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Choose a color:"}),t.jsx("div",{className:"grid grid-cols-4 gap-3",children:d.map(e=>t.jsx("button",{onClick:()=>{return t=e.bg,x(t),o("color"),h(null),void(l&&l(`color:${t}`));var t},className:`w-12 h-12 rounded-full ${e.bg} border-4 transition-all duration-200 ${c===e.bg?"border-gray-800 scale-110":"border-white hover:scale-105"}`,title:e.name},e.name))})]}),"image"===n&&t.jsxs("div",{className:"w-full max-w-md",children:[t.jsx("input",{ref:f,type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];b(t)},className:"hidden"}),t.jsx("div",{className:"border-2 border-dashed rounded-lg p-8 text-center transition-colors "+(u?"border-teal-500 bg-teal-50":"border-gray-300 hover:border-gray-400"),onDrop:e=>{e.preventDefault(),g(!1);const t=e.dataTransfer.files[0];b(t)},onDragOver:e=>{e.preventDefault(),g(!0)},onDragLeave:e=>{e.preventDefault(),g(!1)},children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"mx-auto w-12 h-12 text-gray-400",children:t.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 48 48",children:t.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})})}),t.jsxs("div",{children:[t.jsx("button",{onClick:()=>f.current?.click(),className:"text-teal-600 hover:text-teal-700 font-medium",children:"Click to upload"}),t.jsx("p",{className:"text-gray-500",children:" or drag and drop"})]}),t.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 5MB"})]})})]}),t.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 max-w-md",children:[t.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"💡 Profile Picture Tips"}),t.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[t.jsx("li",{children:"• Use a high-quality, well-lit photo"}),t.jsx("li",{children:"• Square images work best"}),t.jsx("li",{children:"• Make sure your face is clearly visible"}),t.jsx("li",{children:"• Choose colors that reflect your artistic style"})]})]})]}):t.jsxs("div",{className:"flex flex-col items-center",children:[j(),t.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Profile Picture"})]})}function x({profile:a,stats:i,onProfileUpdate:n}){const[o,d]=e.useState(!1),[x,m]=e.useState({name:a?.name||"",avatar:a?.avatar||""}),[h,u]=e.useState(!1);return t.jsxs("div",{className:"max-w-4xl mx-auto",children:[t.jsx("div",{className:"bg-gradient-to-br from-[#1d7c6f] to-[#f58c8c] rounded-3xl shadow-2xl p-2 mb-8",children:t.jsxs("div",{className:"bg-[#F8E6DA] rounded-2xl p-8",children:[t.jsxs(s.div,{className:"flex items-center justify-between mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[t.jsx("h2",{className:"text-4xl font-bold font-dm-serif bg-gradient-to-r from-[#134856] to-[#e05264] bg-clip-text text-transparent",children:"Artist Profile"}),!o&&t.jsx(s.button,{onClick:()=>{d(!0),m({name:a?.name||"",avatar:a?.avatar||""})},className:"bg-gradient-to-r from-[#1d7c6f] to-[#f58c8c] text-white px-6 py-3 rounded-full font-semibold shadow-lg hover:shadow-xl transition-all duration-300 font-dm-serif",whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},children:"Edit Profile"})]}),t.jsxs(s.div,{className:"grid md:grid-cols-3 gap-8",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:[t.jsx("div",{className:"text-center",children:t.jsx(c,{currentAvatar:x.avatar,userName:a?.name,onAvatarChange:e=>m({...x,avatar:e}),isEditing:o})}),t.jsx("div",{className:"md:col-span-2",children:o?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium font-lora text-[#134856] mb-1",children:"Name"}),t.jsx("input",{type:"text",value:x.name,onChange:e=>m({...x,name:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#E05264] focus:border-transparent font-lora"})]}),t.jsxs("div",{className:"flex space-x-4",children:[t.jsx(s.button,{onClick:async()=>{u(!0);try{await l.put("/api/users/profile",x),r.success("Profile updated successfully!"),d(!1),n()}catch(e){r.error(e.response?.data?.message||"Failed to update profile")}finally{u(!1)}},disabled:h,className:"bg-gradient-to-r from-[#1d7c6f] to-[#f58c8c] text-white px-6 py-3 rounded-full font-semibold shadow-lg hover:shadow-xl transition-all duration-300 font-dm-serif disabled:opacity-50",whileHover:{scale:h?1:1.05,y:h?0:-2},whileTap:{scale:h?1:.95},children:h?"Saving...":"Save"}),t.jsx(s.button,{onClick:()=>{d(!1),m({name:a?.name||"",avatar:a?.avatar||""})},className:"bg-white text-[#134856] border border-gray-300 px-6 py-3 rounded-full font-semibold hover:bg-gray-50 transition-all duration-300 font-dm-serif",whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},children:"Cancel"})]})]}):t.jsxs("div",{children:[t.jsx("h3",{className:"text-3xl font-bold font-dm-serif mb-2 bg-gradient-to-r from-[#134856] to-[#e05264] bg-clip-text text-transparent",children:a?.name}),t.jsx("p",{className:"text-xl font-lora font-semibold text-[#E05264] mb-4",children:a?.email}),t.jsxs("div",{className:"text-sm font-lora text-[#F48C8C]",children:[t.jsxs("p",{children:["Member since: ",new Date(a?.createdAt).toLocaleDateString()]}),t.jsxs("p",{children:["Last updated: ",new Date(a?.updatedAt).toLocaleDateString()]})]})]})})]})]})}),t.jsxs(s.div,{className:"grid md:grid-cols-3 gap-6",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:[t.jsx(s.div,{className:"bg-gradient-to-br from-[#1d7c6f] to-[#f58c8c] rounded-3xl shadow-2xl p-2",whileHover:{scale:1.02,y:-5},transition:{duration:.2},children:t.jsxs("div",{className:"bg-[#F8E6DA] rounded-2xl p-6 text-center",children:[t.jsx("div",{className:"text-4xl font-bold font-dm-serif mb-2 bg-gradient-to-r from-[#134856] to-[#e05264] bg-clip-text text-transparent",children:i?.likesCount||0}),t.jsx("div",{className:"text-[#E05264] font-lora font-semibold",children:"Likes Given"})]})}),t.jsx(s.div,{className:"bg-gradient-to-br from-[#1d7c6f] to-[#f58c8c] rounded-3xl shadow-2xl p-2",whileHover:{scale:1.02,y:-5},transition:{duration:.2},children:t.jsxs("div",{className:"bg-[#F8E6DA] rounded-2xl p-6 text-center",children:[t.jsx("div",{className:"text-4xl font-bold font-dm-serif mb-2 bg-gradient-to-r from-[#134856] to-[#e05264] bg-clip-text text-transparent",children:i?.followsCount||0}),t.jsx("div",{className:"text-[#E05264] font-lora font-semibold",children:"Following"})]})}),t.jsx(s.div,{className:"bg-gradient-to-br from-[#1d7c6f] to-[#f58c8c] rounded-3xl shadow-2xl p-2",whileHover:{scale:1.02,y:-5},transition:{duration:.2},children:t.jsxs("div",{className:"bg-[#F8E6DA] rounded-2xl p-6 text-center",children:[t.jsx("div",{className:"text-4xl font-bold font-dm-serif mb-2 bg-gradient-to-r from-[#134856] to-[#e05264] bg-clip-text text-transparent",children:i?.followersCount||0}),t.jsx("div",{className:"text-[#E05264] font-lora font-semibold",children:"Followers"})]})})]}),t.jsx(s.div,{className:"bg-gradient-to-br from-[#1d7c6f] to-[#f58c8c] rounded-3xl shadow-2xl p-2 mt-8",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},children:t.jsxs("div",{className:"bg-[#F8E6DA] rounded-2xl p-8",children:[t.jsx("h3",{className:"text-3xl font-bold font-dm-serif mb-6 bg-gradient-to-r from-[#134856] to-[#e05264] bg-clip-text text-transparent",children:"Recent Activity"}),t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"text-6xl mb-4",children:"🎨"}),t.jsx("p",{className:"text-xl font-lora font-semibold text-[#E05264] mb-2",children:"Activity feed coming soon..."}),t.jsx("p",{className:"text-[#F48C8C] font-lora",children:"Your recent likes, follows, and artwork submissions will appear here."})]})]})})]})}function m({user:a,onLogout:i}){const[n,o]=e.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[d,c]=e.useState({password:"",confirmText:""}),[x,m]=e.useState(!1),[h,u]=e.useState(!1);return t.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[t.jsx(s.div,{className:"bg-gradient-to-br from-[#1d7c6f] to-[#f58c8c] rounded-3xl shadow-2xl p-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:t.jsxs("div",{className:"bg-[#F8E6DA] rounded-2xl p-8",children:[t.jsx("h2",{className:"text-3xl font-bold font-dm-serif mb-6 bg-gradient-to-r from-[#134856] to-[#e05264] bg-clip-text text-transparent",children:"Change Password"}),t.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),n.newPassword===n.confirmPassword)if(n.newPassword.length<6)r.error("New password must be at least 6 characters");else{u(!0);try{await l.put("/api/users/change-password",{currentPassword:n.currentPassword,newPassword:n.newPassword}),r.success("Password changed successfully!"),o({currentPassword:"",newPassword:"",confirmPassword:""})}catch(t){r.error(t.response?.data?.message||"Failed to change password")}finally{u(!1)}}else r.error("New passwords do not match")},className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium font-lora text-[#134856] mb-2",children:"Current Password"}),t.jsx("input",{type:"password",required:!0,value:n.currentPassword,onChange:e=>o({...n,currentPassword:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#E05264] focus:border-transparent font-lora"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium font-lora text-[#134856] mb-2",children:"New Password"}),t.jsx("input",{type:"password",required:!0,minLength:"6",value:n.newPassword,onChange:e=>o({...n,newPassword:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#E05264] focus:border-transparent font-lora"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium font-lora text-[#134856] mb-2",children:"Confirm New Password"}),t.jsx("input",{type:"password",required:!0,minLength:"6",value:n.confirmPassword,onChange:e=>o({...n,confirmPassword:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#E05264] focus:border-transparent font-lora"})]}),t.jsx(s.button,{type:"submit",disabled:h,className:"bg-gradient-to-r from-[#1d7c6f] to-[#f58c8c] text-white px-6 py-3 rounded-full font-semibold shadow-lg hover:shadow-xl transition-all duration-300 font-dm-serif disabled:opacity-50",whileHover:{scale:h?1:1.05,y:h?0:-2},whileTap:{scale:h?1:.95},children:h?"Changing Password...":"Change Password"})]})]})}),t.jsx(s.div,{className:"bg-gradient-to-br from-red-500 to-red-600 rounded-3xl shadow-2xl p-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:t.jsxs("div",{className:"bg-[#F8E6DA] rounded-2xl p-8 border-l-4 border-red-500",children:[t.jsx("h2",{className:"text-3xl font-bold font-dm-serif text-red-600 mb-2",children:"⚠️ Danger Zone"}),t.jsx("p",{className:"text-[#E05264] font-lora mb-6",children:"Once you delete your account, there is no going back. Please be certain."}),x?t.jsxs("div",{className:"bg-red-50 rounded-2xl p-6 border border-red-200",children:[t.jsx("h3",{className:"text-xl font-bold font-dm-serif text-red-800 mb-4",children:"🚨 Oh no! You're in dangerous territory!"}),t.jsx("p",{className:"text-red-700 font-lora mb-4",children:"This action cannot be undone. This will permanently delete your account, all your artworks, likes, and followers. Are you absolutely sure?"}),t.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),"DELETE MY ACCOUNT"===d.confirmText){u(!0);try{await l.delete("/api/users/delete-account",{data:{password:d.password}}),r.success("Account deleted successfully"),i()}catch(t){r.error(t.response?.data?.message||"Failed to delete account")}finally{u(!1)}}else r.error('Please type "DELETE MY ACCOUNT" to confirm')},className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium font-lora text-red-700 mb-2",children:"Enter your password to confirm:"}),t.jsx("input",{type:"password",required:!0,value:d.password,onChange:e=>c({...d,password:e.target.value}),className:"w-full px-4 py-3 border border-red-300 rounded-xl focus:ring-2 focus:ring-red-500 focus:border-transparent font-lora"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium font-lora text-red-700 mb-2",children:'Type "DELETE MY ACCOUNT" to confirm:'}),t.jsx("input",{type:"text",required:!0,value:d.confirmText,onChange:e=>c({...d,confirmText:e.target.value}),placeholder:"DELETE MY ACCOUNT",className:"w-full px-4 py-3 border border-red-300 rounded-xl focus:ring-2 focus:ring-red-500 focus:border-transparent font-lora"})]}),t.jsxs("div",{className:"flex space-x-4",children:[t.jsx(s.button,{type:"submit",disabled:h,className:"bg-gradient-to-r from-red-500 to-red-600 text-white px-6 py-3 rounded-full font-semibold shadow-lg hover:shadow-xl transition-all duration-300 font-dm-serif disabled:opacity-50",whileHover:{scale:h?1:1.05,y:h?0:-2},whileTap:{scale:h?1:.95},children:h?"Deleting Account...":"Yes, Delete My Account"}),t.jsx(s.button,{type:"button",onClick:()=>{m(!1),c({password:"",confirmText:""})},className:"bg-white text-[#134856] border border-gray-300 px-6 py-3 rounded-full font-semibold hover:bg-gray-50 transition-all duration-300 font-dm-serif",whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},children:"Cancel"})]})]})]}):t.jsx(s.button,{onClick:()=>m(!0),className:"bg-gradient-to-r from-red-500 to-red-600 text-white px-6 py-3 rounded-full font-semibold shadow-lg hover:shadow-xl transition-all duration-300 font-dm-serif",whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},children:"Delete My Account"})]})}),t.jsx(s.div,{className:"bg-gradient-to-br from-[#1d7c6f] to-[#f58c8c] rounded-3xl shadow-2xl p-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:t.jsxs("div",{className:"bg-[#F8E6DA] rounded-2xl p-8",children:[t.jsx("h2",{className:"text-3xl font-bold font-dm-serif mb-6 bg-gradient-to-r from-[#134856] to-[#e05264] bg-clip-text text-transparent",children:"Account Information"}),t.jsxs("div",{className:"space-y-4 font-lora",children:[t.jsxs("div",{className:"text-[#134856]",children:[t.jsx("strong",{children:"Name:"})," ",t.jsx("span",{className:"text-[#E05264]",children:a?.name})]}),t.jsxs("div",{className:"text-[#134856]",children:[t.jsx("strong",{children:"Email:"})," ",t.jsx("span",{className:"text-[#E05264]",children:a?.email})]}),t.jsxs("div",{className:"text-[#134856]",children:[t.jsx("strong",{children:"Account Status:"}),t.jsx("span",{className:"ml-2 px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-semibold",children:"Active"})]}),t.jsxs("div",{className:"text-[#134856]",children:[t.jsx("strong",{children:"Member Since:"})," ",t.jsx("span",{className:"text-[#E05264]",children:new Date(a?.createdAt||Date.now()).toLocaleDateString()})]})]})]})})]})}function h({userId:s}){const[a,i]=e.useState([]),[n,o]=e.useState(!0),[d,c]=e.useState("all");e.useEffect(()=>{x()},[s]);const x=async()=>{try{const e=await l.get("/api/artworks/user/me");i(e.data.artworks||[])}catch(e){r.error("Failed to load artworks"),i([])}finally{o(!1)}},m=a.filter(e=>"all"===d||e.status===d);return n?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx("div",{className:"text-xl text-teal-600",children:"Loading your artworks..."})}):t.jsxs("div",{className:"max-w-6xl mx-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-8",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl font-bold text-teal-800",children:"My Artworks"}),t.jsxs("p",{className:"text-gray-600 mt-1",children:[a.length," total artworks"]})]}),t.jsx("button",{className:"px-6 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors",children:"+ Add New Artwork"})]}),t.jsx("div",{className:"flex space-x-4 mb-8",children:[{id:"all",label:"All",count:a.length},{id:"published",label:"Published",count:a.filter(e=>"published"===e.status).length},{id:"draft",label:"Drafts",count:a.filter(e=>"draft"===e.status).length}].map(e=>t.jsxs("button",{onClick:()=>c(e.id),className:"px-4 py-2 rounded-lg font-medium transition-colors "+(d===e.id?"bg-teal-600 text-white":"bg-white text-gray-600 hover:bg-gray-50 border border-gray-200"),children:[e.label," (",e.count,")"]},e.id))}),0===m.length?t.jsxs("div",{className:"text-center py-16",children:[t.jsx("div",{className:"text-6xl mb-4",children:"🎨"}),t.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No artworks yet"}),t.jsx("p",{className:"text-gray-500 mb-6",children:"Start sharing your artistic creations with the community!"}),t.jsx("button",{className:"px-6 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors",children:"Create Your First Artwork"})]}):t.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(e=>t.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow",children:[t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:e.image,alt:e.title,className:"w-full h-48 object-cover"}),t.jsx("div",{className:"absolute top-4 right-4",children:t.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("published"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:"published"===e.status?"✓ Published":"📝 Draft"})})]}),t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.title}),t.jsx("button",{className:"text-gray-400 hover:text-gray-600 transition-colors",children:"⋯"})]}),t.jsx("p",{className:"text-sm text-gray-500 mb-3",children:e.category}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center text-gray-500",children:[t.jsx("span",{className:"text-red-500 mr-1",children:"❤️"}),t.jsxs("span",{className:"text-sm",children:[e.likes," likes"]})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("button",{className:"px-3 py-1 text-sm text-teal-600 hover:bg-teal-50 rounded",children:"Edit"}),t.jsx("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this artwork?"))try{await l.delete(`/api/artworks/${e}`),i(t=>t.filter(t=>t.id!==e)),r.success("Artwork deleted succeefully")}catch(t){r.error("Failed to delete artwork")}})(e.id),className:"px-3 py-1 text-sm text-red-600 hover:bg-red-50 rounded",children:"Delete"})]})]}),t.jsxs("div",{className:"text-xs text-gray-400 mt-3",children:["Created ",e.createdAt?new Date(e.createdAt).toLocaleDateString():"N/A"]})]})]},e.id))}),t.jsxs("div",{className:"mt-12 grid md:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"bg-gradient-to-br from-purple-100 to-purple-200 rounded-xl p-6 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-purple-600",children:a.length}),t.jsx("div",{className:"text-purple-800 font-medium",children:"Total Artworks"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-green-100 to-green-200 rounded-xl p-6 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:a.filter(e=>"published"===e.status).length}),t.jsx("div",{className:"text-green-800 font-medium",children:"Published"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-red-100 to-red-200 rounded-xl p-6 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-red-600",children:a.reduce((e,t)=>e+t.likes,0)}),t.jsx("div",{className:"text-red-800 font-medium",children:"Total Likes"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-blue-100 to-blue-200 rounded-xl p-6 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:a.length>0?Math.round(a.reduce((e,t)=>e+t.likes,0)/a.length):0}),t.jsx("div",{className:"text-blue-800 font-medium",children:"Avg. Likes"})]})]})]})}function u({userId:s}){const[a,i]=e.useState([]),[n,d]=e.useState(!0),[c,x]=e.useState("all"),[m,h]=e.useState(!1),[u,g]=e.useState(null);e.useEffect(()=>{f()},[s]);const f=async()=>{try{const e=await l.get("/api/events/user/me");i(e.data.events||[])}catch(e){r.error("Failed to load events"),i([])}finally{d(!1)}},p=()=>{h(!1),g(null)},b=a.filter(e=>{if("all"===c)return!0;const t=new Date(e.date),s=new Date;return"upcoming"===c?t>=s:"past"!==c||t<s}),j=a.filter(e=>new Date(e.date)>=new Date),v=a.filter(e=>new Date(e.date)<new Date);return n?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx("div",{className:"text-xl text-teal-600",children:"Loading your events..."})}):t.jsxs("div",{className:"max-w-6xl mx-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-8",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl font-bold text-teal-800",children:"My Events"}),t.jsxs("p",{className:"text-gray-600 mt-1",children:[a.length," total events"]})]}),t.jsxs("button",{onClick:()=>h(!0),className:"px-6 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors flex items-center gap-2",children:[t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add New Event"]})]}),t.jsx("div",{className:"flex space-x-4 mb-8",children:[{id:"all",label:"All",count:a.length},{id:"upcoming",label:"Upcoming",count:j.length},{id:"past",label:"Past",count:v.length}].map(e=>t.jsxs("button",{onClick:()=>x(e.id),className:"px-4 py-2 rounded-lg font-medium transition-colors "+(c===e.id?"bg-teal-600 text-white":"bg-white text-gray-600 hover:bg-gray-50 border border-gray-200"),children:[e.label," (",e.count,")"]},e.id))}),0===b.length?t.jsxs("div",{className:"text-center py-16",children:[t.jsx("div",{className:"text-6xl mb-4",children:"📅"}),t.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No events yet"}),t.jsx("p",{className:"text-gray-500 mb-6",children:"Start organizing events to engage with the traditional arts community!"}),t.jsx("button",{onClick:()=>h(!0),className:"px-6 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors",children:"Create Your First Event"})]}):t.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(e=>{const s=new Date(e.date),a=s>=new Date;return t.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow",children:[t.jsxs("div",{className:"relative",children:[e.imageUrl?t.jsx("img",{src:e.imageUrl,alt:e.title,className:"w-full h-48 object-cover"}):t.jsx("div",{className:"w-full h-48 bg-gradient-to-br from-teal-100 to-blue-100 flex items-center justify-center",children:t.jsx("div",{className:"text-6xl text-teal-400",children:"🎭"})}),t.jsx("div",{className:"absolute top-4 right-4",children:t.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+(a?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:a?"📅 Upcoming":"🕐 Past"})}),t.jsx("div",{className:"absolute top-4 left-4",children:t.jsx("span",{className:"bg-white bg-opacity-90 px-2 py-1 rounded-full text-xs font-medium text-gray-700",children:e.type?e.type.charAt(0).toUpperCase()+e.type.slice(1):"Event"})})]}),t.jsxs("div",{className:"p-6",children:[t.jsx("div",{className:"flex items-start justify-between mb-2",children:t.jsx("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-2",children:e.title})}),t.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:e.description}),t.jsxs("div",{className:"space-y-2 text-sm text-gray-500 mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),t.jsxs("span",{children:[s.toLocaleDateString()," at ",e.time||"TBD"]})]}),e.location&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),t.jsxs("span",{className:"truncate",children:[e.location?.venue||"TBD",", ",e.location?.city||"TBD"]})]}),e.price>0&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),t.jsxs("span",{children:["₹",e.price]})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"text-xs text-gray-400",children:["Created ",new Date(e.createdAt).toLocaleDateString()]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("button",{onClick:()=>(e=>{g(e)})(e),className:"px-3 py-1 text-sm text-teal-600 hover:bg-teal-50 rounded transition-colors",children:"Edit"}),t.jsx("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this event?"))try{await l.delete(`/api/users/events/${e}`),i(t=>t.filter(t=>t.id!==e)),r.success("Event deleted successfully")}catch(t){r.error("Failed to delete event")}})(e.id),className:"px-3 py-1 text-sm text-red-600 hover:bg-red-50 rounded transition-colors",children:"Delete"})]})]})]})]},e.id)})}),t.jsxs("div",{className:"mt-12 grid md:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"bg-gradient-to-br from-purple-100 to-purple-200 rounded-xl p-6 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-purple-600",children:a.length}),t.jsx("div",{className:"text-purple-800 font-medium",children:"Total Events"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-green-100 to-green-200 rounded-xl p-6 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:j.length}),t.jsx("div",{className:"text-green-800 font-medium",children:"Upcoming"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-blue-100 to-blue-200 rounded-xl p-6 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:v.length}),t.jsx("div",{className:"text-blue-800 font-medium",children:"Completed"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-orange-100 to-orange-200 rounded-xl p-6 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-orange-600",children:a.filter(e=>!0===e.registrationRequired).length}),t.jsx("div",{className:"text-orange-800 font-medium",children:"With Registration"})]})]}),t.jsx(o,{isOpen:m,onClose:p,onSubmit:async e=>{try{const t=await l.post("/api/users/events",e);i(e=>[t.data.event,...e]),r.success("Event created successfully!"),h(!1)}catch(t){r.error(t.response?.data?.message||"Failed to create event")}}}),u&&t.jsx(o,{isOpen:!!u,onClose:p,onSubmit:async e=>{try{const t=await l.put(`/api/users/events/${u.id}`,e);i(e=>e.map(e=>e.id===u.id?t.data.event:e)),r.success("Event updated successfully!"),g(null)}catch(t){r.error(t.response?.data?.message||"Failed to update event")}},event:u,isEditing:!0})]})}function g(){const{user:o,logout:d}=i(),[c,g]=e.useState("profile"),[f,p]=e.useState(null),[b,j]=e.useState(null),[v,y]=e.useState(!0),w=n();e.useEffect(()=>{o?N():w("/login")},[o,w]);const N=async()=>{try{const[e,t]=await Promise.all([l.get("/api/users/profile"),l.get("/api/users/stats")]);p(e.data.user),j(t.data.stats)}catch(e){r.error("Failed to load user data")}finally{y(!1)}},k=async()=>{await d(),r.success("Logged out successfully"),w("/login")},C=()=>{const e=Array.from({length:20},(e,t)=>({id:t,size:4*Math.random()+2,color:["rgba(19, 72, 86, 0.6)","rgba(224, 82, 100, 0.6)","rgba(244, 140, 140, 0.6)","rgba(29, 124, 111, 0.6)","rgba(255, 215, 0, 0.6)"][Math.floor(5*Math.random())],initialX:100*Math.random(),initialY:100*Math.random(),animationDelay:5*Math.random(),animationDuration:8+6*Math.random()}));return t.jsx("div",{className:"fixed inset-0 pointer-events-none z-0",children:e.map(e=>t.jsx(s.div,{className:"absolute rounded-full opacity-40",style:{width:`${e.size}px`,height:`${e.size}px`,backgroundColor:e.color,left:`${e.initialX}%`,top:`${e.initialY}%`,filter:"blur(0.5px)",boxShadow:`0 0 ${2*e.size}px ${e.color}`},animate:{y:[0,-80,0],x:[0,25,-25,0],opacity:[.4,.7,.4],scale:[1,1.3,1]},transition:{duration:e.animationDuration,repeat:1/0,delay:e.animationDelay,ease:"easeInOut"}},e.id))})};return v?t.jsx("div",{className:"min-h-screen bg-[#F8E6DA] flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-[#E05264] mx-auto mb-4"}),t.jsx("p",{className:"text-xl font-lora text-[#E05264]",children:"Loading your profile..."})]})}):t.jsxs("div",{className:"min-h-screen bg-[#F8E6DA] pt-24 pb-8 overflow-hidden",children:[t.jsx(C,{}),t.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[t.jsx(s.section,{className:"text-center mb-12",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:t.jsx("div",{className:"bg-gradient-to-br from-[#1d7c6f] to-[#f58c8c] rounded-3xl shadow-2xl p-2 mb-8",children:t.jsx("div",{className:"bg-[#F8E6DA] rounded-2xl p-8",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-6",children:[t.jsx(s.img,{src:f?.avatar||"/default-avatar.png",alt:o?.name,className:"w-20 h-20 rounded-full border-4 border-white shadow-xl",initial:{scale:0},animate:{scale:1},transition:{duration:.6,delay:.3}}),t.jsxs("div",{className:"text-left",children:[t.jsx("h1",{className:"text-4xl font-dm-serif font-bold mb-2 bg-gradient-to-r from-[#134856] to-[#e05264] bg-clip-text text-transparent",children:o?.name}),t.jsx("p",{className:"text-xl font-lora font-semibold text-[#E05264]",children:"Artist Dashboard"})]})]}),t.jsx(s.button,{onClick:k,className:"bg-gradient-to-r from-[#1d7c6f] to-[#f58c8c] text-white px-6 py-3 rounded-full font-semibold shadow-lg hover:shadow-xl transition-all duration-300 font-dm-serif",whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},children:"Logout"})]})})})}),t.jsx(s.div,{className:"bg-gradient-to-br from-[#1d7c6f] to-[#f58c8c] rounded-3xl shadow-2xl p-2 mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:t.jsx("div",{className:"bg-[#F8E6DA] rounded-2xl p-6",children:t.jsx("nav",{className:"flex flex-wrap justify-center gap-4",children:[{id:"profile",label:"Profile",icon:"👤"},{id:"artworks",label:"My Artworks",icon:"🎨"},{id:"events",label:"My Events",icon:"📅"},{id:"likes",label:"Liked Posts",icon:"❤️"},{id:"settings",label:"Settings",icon:"⚙️"}].map(e=>t.jsxs(s.button,{onClick:()=>g(e.id),className:`px-6 py-3 rounded-full font-semibold text-sm transition-all duration-300 flex items-center gap-2 ${c===e.id?"bg-gradient-to-r from-[#1d7c6f] to-[#f58c8c] text-white shadow-lg":"bg-white text-[#134856] hover:bg-gray-50 border border-gray-200"} font-dm-serif`,whileHover:{scale:1.02,y:-1},whileTap:{scale:.98},children:[t.jsx("span",{className:"text-lg",children:e.icon}),e.label]},e.id))})})}),t.jsx(a,{mode:"wait",children:t.jsxs(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},children:["profile"===c&&t.jsx(x,{profile:f,stats:b,onProfileUpdate:N}),"artworks"===c&&t.jsx("div",{className:"bg-gradient-to-br from-[#1d7c6f] to-[#f58c8c] rounded-3xl shadow-2xl p-2",children:t.jsx("div",{className:"bg-[#F8E6DA] rounded-2xl p-8",children:t.jsx(h,{userId:o?.id})})}),"events"===c&&t.jsx("div",{className:"bg-gradient-to-br from-[#1d7c6f] to-[#f58c8c] rounded-3xl shadow-2xl p-2",children:t.jsx("div",{className:"bg-[#F8E6DA] rounded-2xl p-8",children:t.jsx(u,{userId:o?.id})})}),"likes"===c&&t.jsx("div",{className:"bg-gradient-to-br from-[#1d7c6f] to-[#f58c8c] rounded-3xl shadow-2xl p-2",children:t.jsxs("div",{className:"bg-[#F8E6DA] rounded-2xl p-8 text-center py-12",children:[t.jsx("div",{className:"text-6xl mb-4",children:"❤️"}),t.jsx("h3",{className:"text-2xl font-semibold font-dm-serif mb-2 bg-gradient-to-r from-[#134856] to-[#e05264] bg-clip-text text-transparent",children:"Liked Posts"}),t.jsx("p",{className:"text-[#E05264] font-lora",children:"Your liked artworks and posts will appear here soon..."})]})}),"settings"===c&&t.jsx("div",{className:"bg-gradient-to-br from-[#1d7c6f] to-[#f58c8c] rounded-3xl shadow-2xl p-2",children:t.jsx("div",{className:"bg-[#F8E6DA] rounded-2xl p-8",children:t.jsx(m,{user:o,onLogout:k})})})]},c)})]})]})}export{g as default};
