import{r as e,j as t,m as a,A as s}from"./framerMotion-CogqvMXS.js";import{y as r,L as i,d as o}from"./index-o05s5HAD.js";import{l,m as n,n as c,o as d,p as m,h as p,i as u,g as x,q as h,F as g,a as b,r as y}from"./index-BhBvdYf9.js";import{L as f}from"./LazyImage-DUtS1Uh3.js";import{R as j}from"./ReportModal--YSZgn7H.js";import{a as k}from"./api-B_NPPa4_.js";import"./vendor-BI3NJeJA.js";import"./three-wh2_sdWZ.js";const w=({artwork:s,index:o,currentUser:p,isBookmarked:u,onLike:x,onBookmark:h,onImageClick:g})=>{const[b,y]=e.useState(!1),[w,v]=e.useState(u||!1),[N,C]=e.useState(!1),[A,S]=e.useState(!1);e.useEffect(()=>{p&&p.likes&&y(p.likes.includes(s.id)),void 0!==u&&v(u)},[p,s.id,u]);const L={initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.8},transition:{duration:.4,delay:.1*o}};return t.jsxs(t.Fragment,{children:[t.jsxs(a.div,{className:"bg-white/90 backdrop-blur-sm rounded-3xl shadow-lg overflow-hidden hover:shadow-2xl transition-all duration-300 group cursor-pointer",...L,whileHover:{y:-5,scale:1.02},whileTap:{scale:.98},children:[t.jsxs("div",{className:"relative overflow-hidden",children:[t.jsx(f,{src:s.imageUrl,alt:s.title,className:"w-full h-64 group-hover:scale-110 transition-transform duration-500 cursor-pointer",aspectRatio:"",placeholder:"ðŸŽ¨",onClick:()=>g&&g(s)}),t.jsx("div",{className:"absolute top-3 left-3",children:t.jsx("span",{className:"bg-amber-600/90 text-white px-3 py-1 rounded-full text-xs font-semibold backdrop-blur-sm",children:s.category})}),t.jsxs("div",{className:"absolute top-3 right-3 flex space-x-2",children:[t.jsx(a.button,{className:"w-10 h-10 rounded-full flex items-center justify-center backdrop-blur-sm bg-white/80 text-gray-600 hover:bg-red-50 hover:text-red-500 transition-all duration-300",onClick:e=>{e.stopPropagation(),p?S(!0):r.error("Please login to report content",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})},whileHover:{scale:1.1},whileTap:{scale:.9},title:"Report artwork",children:t.jsx(l,{size:14})}),t.jsx(a.button,{className:"w-10 h-10 rounded-full flex items-center justify-center backdrop-blur-sm transition-all duration-300 "+(w?"bg-amber-600 text-white":"bg-white/80 text-amber-600 hover:bg-amber-50"),onClick:()=>{if(!p)return void r.error("Please login or create an account to bookmark artworks",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0});const e=w;v(!w),k.toggleBookmark(s.id).then(()=>{h(s.id),r.success(e?"Removed from bookmarks":"Added to bookmarks",{position:"top-center",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}).catch(t=>{v(e),r.error("Failed to update bookmark. Please try again.",{position:"top-center",autoClose:3e3})})},whileHover:{scale:1.1},whileTap:{scale:.9},title:w?"Remove from bookmarks":"Add to bookmarks",children:w?t.jsx(n,{size:16}):t.jsx(c,{size:16})}),t.jsx(a.button,{className:"w-10 h-10 rounded-full flex items-center justify-center backdrop-blur-sm transition-all duration-300 "+(b?"bg-red-500 text-white":"bg-white/80 text-red-500 hover:bg-red-50"),onClick:()=>{if(!p)return void r.error("Please login or create an account to like artworks",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0});const e=b;y(!b),k.toggleLike(s.id).then(()=>x(s.id)).catch(t=>{y(e),r.error("Failed to update like. Please try again.",{position:"top-center",autoClose:3e3})})},whileHover:{scale:1.1},whileTap:{scale:.9},title:b?"Unlike":"Like",children:b?t.jsx(d,{size:16}):t.jsx(m,{size:16})})]})]}),t.jsxs("div",{className:"p-6 flex flex-col space-y-4",children:[t.jsx(a.h3,{className:"text-xl font-bold text-amber-900 line-clamp-2",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1*o+.2},children:s.title}),t.jsx(a.p,{className:"text-sm text-amber-700 leading-relaxed line-clamp-3 flex-grow",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1*o+.3},children:s.description}),t.jsxs(a.div,{className:"flex items-center justify-between pt-4 border-t border-amber-100",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1*o+.4},children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsxs("div",{className:"text-sm",children:[t.jsx("span",{className:"text-amber-700",children:"By: "}),t.jsx(i,{to:`/artist/${s.userId||s.artistId||s.artist.toLowerCase().replace(" ","-")}`,className:"font-semibold text-amber-800 hover:text-amber-600 hover:underline transition-colors cursor-pointer",onClick:e=>e.stopPropagation(),children:s.artist})]}),t.jsx("span",{className:"text-xs text-gray-500",children:(P=s.createdAt,new Date(P).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}))})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs("div",{className:"flex items-center space-x-1 text-red-500",children:[t.jsx(d,{size:14}),t.jsx("span",{className:"text-sm font-medium",children:s.likes})]}),t.jsxs("div",{className:"flex items-center space-x-1 text-amber-600",children:[t.jsx(n,{size:14}),t.jsx("span",{className:"text-sm font-medium",children:s.bookmarks||0})]})]})]})]})]}),t.jsx(j,{isOpen:A,onClose:()=>S(!1),reportType:"artwork",reportedItemId:s.id,reportedItemTitle:s.title})]});var P},v=({isOpen:r,onClose:i,onSubmit:o})=>{const[l,n]=e.useState({title:"",description:"",category:"Traditional",imageUrl:""}),[c,d]=e.useState(null),[m,x]=e.useState({}),h=e=>{const{name:t,value:a}=e.target;n(e=>({...e,[t]:a})),m[t]&&x(e=>({...e,[t]:""}))},g=()=>{n({title:"",description:"",category:"Traditional",imageUrl:""}),d(null),x({}),i()};return t.jsx(s,{children:r&&t.jsx(a.div,{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:g,children:t.jsxs(a.div,{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",initial:{scale:.8,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},exit:{scale:.8,opacity:0,y:50},transition:{duration:.3},onClick:e=>e.stopPropagation(),children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[t.jsx("h2",{className:"text-2xl font-bold text-amber-900",children:"Contribute Your Art"}),t.jsx("button",{onClick:g,className:"text-gray-500 hover:text-gray-700 transition-colors",children:t.jsx(p,{size:20})})]}),t.jsxs("form",{onSubmit:e=>{e.preventDefault(),(()=>{const e={};return l.title.trim()?l.title.length>50&&(e.title="Title must be 50 characters or less"):e.title="Title is required",l.description.trim()?l.description.length>100&&(e.description="Description must be 100 characters or less"):e.description="Description is required",l.imageUrl||(e.imageUrl="Please upload an image"),x(e),0===Object.keys(e).length})()&&(o(l),n({title:"",description:"",category:"Traditional",imageUrl:""}),d(null),x({}))},className:"p-6 space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Artwork Image *"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>{d(e.target.result),n(t=>({...t,imageUrl:e.target.result}))},e.readAsDataURL(t)}},className:"hidden",id:"image-upload"}),t.jsx("label",{htmlFor:"image-upload",className:"flex flex-col items-center justify-center w-full h-48 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-amber-400 transition-colors",children:c?t.jsx("img",{src:c,alt:"Preview",className:"w-full h-full object-cover rounded-lg"}):t.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[t.jsx(u,{className:"w-10 h-10 mb-3 text-gray-400"}),t.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[t.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),t.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]})})]}),m.imageUrl&&t.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.imageUrl})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Title * ",t.jsxs("span",{className:"text-xs text-gray-500",children:["(",l.title.length,"/50)"]})]}),t.jsx("input",{type:"text",name:"title",value:l.title,onChange:h,placeholder:"Enter artwork title...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent",maxLength:"50"}),m.title&&t.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.title})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Description * ",t.jsxs("span",{className:"text-xs text-gray-500",children:["(",l.description.length,"/100)"]})]}),t.jsx("textarea",{name:"description",value:l.description,onChange:h,placeholder:"Describe your artwork...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent resize-none",maxLength:"100"}),m.description&&t.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.description})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),t.jsx("select",{name:"category",value:l.category,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:["Traditional","Contemporary","Abstract","Landscape","Digital","Portrait"].map(e=>t.jsx("option",{value:e,children:e},e))})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{type:"button",onClick:g,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),t.jsx("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-amber-600 to-orange-600 text-white px-4 py-2 rounded-lg font-semibold hover:from-amber-700 hover:to-orange-700 transition-all duration-300 shadow-lg hover:shadow-xl",children:"Submit Artwork"})]})]})]})})})},N=()=>{const{user:l,isAuthenticated:c}=o(),[m,u]=e.useState([]),[f,j]=e.useState(!1),[k,N]=e.useState(!0),[C,A]=e.useState(""),[S,L]=e.useState("all"),[P,T]=e.useState("newest"),[U,D]=e.useState(new Set),[I,O]=e.useState(null),[z,B]=e.useState(!1),E=[{id:1,title:"Sunset Over Mountains",description:"A beautiful landscape painting capturing the golden hour over the Himalayas.",artist:"Priya Sharma",imageUrl:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop",category:"Landscape",likes:24,bookmarks:5,createdAt:"2024-01-15T10:30:00Z",userId:"user123"},{id:2,title:"Abstract Emotions",description:"An abstract piece exploring human emotions through vibrant colors and dynamic forms.",artist:"Raj Kumar",imageUrl:"https://images.unsplash.com/photo-1541961017774-22349e4a1262?w=400&h=300&fit=crop",category:"Abstract",likes:31,bookmarks:8,createdAt:"2024-01-14T14:20:00Z",userId:"user456"},{id:3,title:"Traditional Madhubani",description:"A traditional Madhubani painting depicting nature and mythology in classic style.",artist:"Anjali Devi",imageUrl:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=300&fit=crop",category:"Traditional",likes:67,bookmarks:12,createdAt:"2024-01-13T09:15:00Z",userId:"user789"},{id:4,title:"Urban Life",description:"A contemporary take on city life, showing the hustle and bustle of modern India.",artist:"Neha Gupta",imageUrl:"https://images.unsplash.com/photo-1541961017774-22349e4a1262?w=400&h=300&fit=crop",category:"Contemporary",likes:18,bookmarks:3,createdAt:"2024-01-12T16:45:00Z",userId:"user321"},{id:5,title:"Floral Mandala",description:"Intricate floral patterns arranged in a mandala design, symbolizing unity and peace.",artist:"Vikram Singh",imageUrl:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=300&fit=crop",category:"Traditional",likes:45,bookmarks:9,createdAt:"2024-01-11T11:30:00Z",userId:"user654"},{id:6,title:"Digital Dreams",description:"A digital artwork exploring the intersection of technology and imagination.",artist:"Arjun Patel",imageUrl:"https://images.unsplash.com/photo-1541961017774-22349e4a1262?w=400&h=300&fit=crop",category:"Digital",likes:28,bookmarks:6,createdAt:"2024-01-10T13:20:00Z",userId:"user987"}];e.useEffect(()=>{setTimeout(()=>{u(E),N(!1)},1e3),c&&l&&F()},[c,l]);const F=async()=>{try{const e=await fetch("/api/users/bookmarks",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(e.ok){const t=await e.json(),a=new Set(t.map(e=>e._id||e.id));D(a)}}catch(e){}},M=m.filter(e=>("all"===S||e.category.toLowerCase()===S)&&(e.title.toLowerCase().includes(C.toLowerCase())||e.artist.toLowerCase().includes(C.toLowerCase())||e.description.toLowerCase().includes(C.toLowerCase()))).sort((e,t)=>{switch(P){case"newest":return new Date(t.createdAt)-new Date(e.createdAt);case"oldest":return new Date(e.createdAt)-new Date(t.createdAt);case"likes":return t.likes-e.likes;case"artist":return e.artist.localeCompare(t.artist);default:return 0}}),H=async e=>{if(c)try{const t=await fetch(`/api/users/bookmark/${e}`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to toggle bookmark");{const a=await t.json();D(t=>{const s=new Set(t);return a.bookmarked?(s.add(e),r.success("Artwork bookmarked!",{position:"top-center",autoClose:2e3})):(s.delete(e),r.success("Bookmark removed!",{position:"top-center",autoClose:2e3})),s}),u(t=>t.map(t=>t.id===e?{...t,bookmarks:a.bookmarkCount}:t))}}catch(t){r.error("Failed to update bookmark. Please try again.",{position:"top-center",autoClose:3e3})}else r.error("Please login to bookmark artworks",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})},R=e=>{O(e),B(!0),document.body.style.overflow="hidden"},$=()=>{B(!1),O(null),document.body.style.overflow="unset"};e.useEffect(()=>{const e=e=>{"Escape"===e.key&&z&&$()},t=()=>{z&&$()};return z&&(document.addEventListener("keydown",e),window.addEventListener("popstate",t),window.history.pushState({fullscreen:!0},"")),()=>{document.removeEventListener("keydown",e),window.removeEventListener("popstate",t)}},[z]);const Z=()=>{const e=Array.from({length:15},(e,t)=>({id:t,size:4*Math.random()+2,color:["rgba(19, 72, 86, 0.6)","rgba(224, 82, 100, 0.6)","rgba(244, 140, 140, 0.6)","rgba(29, 124, 111, 0.6)","rgba(255, 215, 0, 0.6)"][Math.floor(5*Math.random())],initialX:100*Math.random(),initialY:100*Math.random(),animationDelay:5*Math.random(),animationDuration:8+6*Math.random()}));return t.jsx("div",{className:"fixed inset-0 pointer-events-none z-0",children:e.map(e=>t.jsx(a.div,{className:"absolute rounded-full opacity-40",style:{width:`${e.size}px`,height:`${e.size}px`,backgroundColor:e.color,left:`${e.initialX}%`,top:`${e.initialY}%`,filter:"blur(0.5px)",boxShadow:`0 0 ${2*e.size}px ${e.color}`},animate:{y:[0,-80,0],x:[0,25,-25,0],opacity:[.4,.7,.4],scale:[1,1.3,1]},transition:{duration:e.animationDuration,repeat:1/0,delay:e.animationDelay,ease:"easeInOut"}},e.id))})};return t.jsxs("div",{className:"min-h-screen bg-[#F8E6DA] pt-24 pb-8 overflow-hidden",children:[t.jsx(Z,{}),t.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[t.jsxs(a.section,{className:"text-center mb-12",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[t.jsx(a.div,{className:"absolute w-96 h-96 bg-gradient-to-r from-[#E05264]/20 to-[#F48C8C]/20 rounded-full blur-3xl opacity-30 top-0 left-0",animate:{scale:[1,1.2,1],rotate:[0,90,0],opacity:[.3,.5,.3]},transition:{duration:10,repeat:1/0,ease:"easeInOut"}}),t.jsx("h1",{className:"inline-block text-5xl font-dm-serif mb-6 drop-shadow-lg bg-gradient-to-r from-[#134856] to-[#e05264] bg-clip-text text-transparent",children:"Art Wall"}),t.jsx("p",{className:"text-lg font-lora font-semibold text-[#E05264] max-w-3xl mx-auto leading-relaxed mb-10",children:"A collaborative space where artists share their creativity and passion. Discover, appreciate, and contribute to our growing collection of artistic expressions."}),t.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row gap-4 justify-center items-center",children:[t.jsxs(a.button,{onClick:()=>{c?j(!0):r.error("Please login or create an account to contribute your artwork",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})},className:"bg-gradient-to-r from-[#1d7c6f] to-[#f58c8c] text-white px-8 py-4 rounded-full font-semibold text-lg shadow-lg hover:shadow-xl transition-all duration-300 flex items-center gap-2 font-dm-serif",whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},children:[t.jsx(x,{className:"text-white"}),"Contribute Your Art"]}),t.jsx(a.div,{whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},children:t.jsxs(i,{to:"/community-guidelines",className:"bg-gradient-to-r from-[#1d7c6f] to-[#f58c8c] text-white px-8 py-4 rounded-full font-semibold text-lg shadow-lg hover:shadow-xl transition-all duration-300 flex items-center gap-2 font-dm-serif",children:[t.jsx(h,{className:"text-white"}),"Community Guidelines"]})})]})]}),t.jsx(a.div,{className:"bg-gradient-to-br from-[#1d7c6f] to-[#f58c8c] rounded-3xl shadow-2xl p-2 mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:t.jsx("div",{className:"bg-[#F8E6DA] rounded-2xl p-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[t.jsxs("div",{className:"relative flex-1 max-w-md",children:[t.jsx(g,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search artworks, artists...",value:C,onChange:e=>A(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(b,{className:"text-gray-600"}),t.jsx("select",{value:S,onChange:e=>L(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:["all","traditional","contemporary","abstract","landscape","digital"].map(e=>t.jsx("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]}),t.jsxs("select",{value:P,onChange:e=>T(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[t.jsx("option",{value:"newest",children:"Newest First"}),t.jsx("option",{value:"oldest",children:"Oldest First"}),t.jsx("option",{value:"likes",children:"Most Liked"}),t.jsx("option",{value:"artist",children:"By Artist"})]})]})]})})}),k&&t.jsx("div",{className:"flex justify-center items-center py-16",children:t.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-amber-600"})}),t.jsx(s,{children:t.jsx(a.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:.4},children:M.map((e,a)=>t.jsx(w,{artwork:e,index:a,currentUser:l,isBookmarked:U.has(e.id),onLike:e=>{u(t=>t.map(t=>t.id===e?{...t,likes:t.likes+1}:t))},onBookmark:H,onImageClick:R},e.id))})}),!k&&0===M.length&&t.jsxs(a.div,{className:"text-center py-16",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},children:[t.jsx("div",{className:"text-6xl mb-4",children:"ðŸŽ¨"}),t.jsx("h3",{className:"text-2xl font-semibold text-gray-700 mb-2",children:"No artworks found"}),t.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or filter criteria"})]}),t.jsx(s,{children:z&&I&&t.jsxs(a.div,{className:"fixed inset-0 bg-black bg-opacity-95 z-50 flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},onClick:$,children:[t.jsx(a.button,{className:"absolute top-4 right-4 text-white text-2xl hover:text-gray-300 transition-colors z-60",onClick:$,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.2},children:t.jsx(p,{})}),t.jsx(a.button,{className:"absolute top-4 right-16 text-white text-xl hover:text-gray-300 transition-colors z-60",onClick:e=>{e.stopPropagation(),(async(e,t)=>{try{const a=await fetch(e),s=await a.blob(),i=window.URL.createObjectURL(s),o=document.createElement("a");o.href=i,o.download=`${t.replace(/\s+/g,"_")}.jpg`,document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(i),r.success("Image downloaded successfully!")}catch(a){r.error("Failed to download image. Please try again.")}})(I.imageUrl,I.title)},initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.3},children:t.jsx(y,{})}),t.jsxs(a.div,{className:"relative max-w-screen-lg max-h-screen-80 w-full h-full flex items-center justify-center",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{duration:.4},onClick:e=>e.stopPropagation(),children:[t.jsx("img",{src:I.imageUrl,alt:I.title,className:"max-w-full max-h-full object-contain rounded-lg shadow-2xl",style:{maxHeight:"85vh"}}),t.jsxs(a.div,{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black via-black/70 to-transparent p-6 rounded-b-lg",initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4,duration:.3},children:[t.jsx("h3",{className:"text-white text-2xl font-bold mb-2",children:I.title}),t.jsxs("p",{className:"text-gray-300 text-lg mb-3",children:["by ",I.artist]}),t.jsx("p",{className:"text-gray-400 text-sm mb-4",children:I.description}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2 text-white",children:[t.jsx(d,{className:"text-red-500"}),t.jsx("span",{children:I.likes})]}),t.jsxs("div",{className:"flex items-center gap-2 text-white",children:[t.jsx(n,{className:"text-blue-500"}),t.jsx("span",{children:I.bookmarks})]}),t.jsx("span",{className:"text-gray-400 text-sm",children:I.category})]})]})]}),t.jsx(a.div,{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 text-gray-400 text-sm text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:t.jsx("p",{children:"Press ESC or click outside to close"})})]})}),t.jsx(v,{isOpen:f,onClose:()=>j(!1),onSubmit:e=>{const t={...e,id:m.length+1,artist:l?.name||"Anonymous",likes:0,bookmarks:0,createdAt:(new Date).toISOString(),userId:l?.id};u([t,...m]),j(!1),r.success("Your artwork has been added to the Art Wall!")}})]})]})};export{N as default};
