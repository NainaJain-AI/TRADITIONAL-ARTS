import{r as e,j as s}from"./framerMotion-CogqvMXS.js";import{b as a}from"./api-B_NPPa4_.js";import{u as r}from"./index-BRMdYX2S.js";import"./vendor-BI3NJeJA.js";import"./three-wh2_sdWZ.js";const i=({onLogin:i})=>{const[n,o]=e.useState({email:"",password:""}),[l,t]=e.useState(!1),[d,m]=e.useState(""),c=r(),p=e=>{o({...n,[e.target.name]:e.target.value})};return s.jsx("div",{className:"admin-login-container",children:s.jsxs("div",{className:"admin-login-form",children:[s.jsxs("div",{className:"admin-login-header",children:[s.jsx("h2",{children:"Admin Login"}),s.jsx("p",{children:"Access restricted to administrators only"})]}),s.jsxs("form",{onSubmit:async e=>{e.preventDefault(),t(!0),m("");try{const e=await a.adminLogin(n);localStorage.setItem("token",e.token),localStorage.setItem("user",JSON.stringify(e.user)),localStorage.setItem("userRole",e.user.role),i&&i(e.user),c("/admin/panel")}catch(s){m(s.message||"Login failed")}finally{t(!1)}},children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"email",children:"Email:"}),s.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:p,required:!0,placeholder:"Enter admin email"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"password",children:"Password:"}),s.jsx("input",{type:"password",id:"password",name:"password",value:n.password,onChange:p,required:!0,placeholder:"Enter password"})]}),d&&s.jsx("div",{className:"error-message",children:d}),s.jsx("button",{type:"submit",className:"login-btn",disabled:l,children:l?"Logging in...":"Login"})]}),s.jsx("div",{className:"back-to-app",children:s.jsx("button",{onClick:()=>c("/"),className:"back-btn",children:"Back to App"})})]})})};export{i as default};
