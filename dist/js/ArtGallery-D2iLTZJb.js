import{r as e,j as t,u as a,a as r,m as s}from"./framerMotion-CogqvMXS.js";import{u as o,a as l,b as n}from"./index-o05s5HAD.js";import{F as i,a as c,b as d,c as m,d as u,e as x}from"./index-BhBvdYf9.js";import"./vendor-BI3NJeJA.js";import"./three-wh2_sdWZ.js";function h({name:a,origin:r,photoUrl:s=[],onImageClick:o}){const[l,n]=e.useState({}),[i,c]=e.useState({}),d=s.slice(0,4);return t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 w-full\n      transition-all duration-300 ease-out\n      hover:scale-105 hover:-translate-y-2 hover:shadow-xl\n      border border-[#E05264] shadow-[0_0_15px_rgba(224,82,100,0.2)]\n      hover:shadow-[0_0_25px_rgba(224,82,100,0.4)]\n      transform-gpu will-change-transform",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[d.map((e,r)=>t.jsxs("div",{className:"relative overflow-hidden rounded-md bg-gray-100",children:[!i[r]&&!l[r]&&t.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-200 animate-pulse",children:t.jsx("div",{className:"w-8 h-8 border-2 border-rose-300 border-t-rose-600 rounded-full animate-spin"})}),l[r]?t.jsx("div",{className:"w-full h-60 bg-gray-200 flex items-center justify-center text-gray-500",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl mb-2",children:"🖼️"}),t.jsx("div",{className:"text-sm",children:"Image not available"})]})}):t.jsx("img",{src:e,alt:`${a} ${r+1}`,className:"w-full h-60 object-cover cursor-zoom-in transition-opacity duration-300 "+(i[r]?"opacity-100":"opacity-0"),onClick:()=>o&&o(e),onLoad:()=>(e=>{c(t=>({...t,[e]:!0}))})(r),onError:()=>(e=>{n(t=>({...t,[e]:!0}))})(r),loading:"lazy"})]},r)),Array.from({length:Math.max(0,4-d.length)},(e,a)=>t.jsx("div",{className:"w-full h-60 bg-gray-100 rounded-md flex items-center justify-center text-gray-400",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl mb-2",children:"🎨"}),t.jsx("div",{className:"text-sm",children:"No image"})]})},`empty-${a}`))]}),t.jsxs("div",{className:"text-center",children:[t.jsx("h2",{className:"text-2xl font-semibold font-lora text-[#134856] mb-2 line-clamp-2 leading-tight",children:a||"Unknown Art Form"}),t.jsx("p",{className:"text-[#E05264] text-lg font-semibold font-lora italic",children:r||"Unknown Origin"})]})]})}function f(){const f=o(),g=e.useRef(null),{scrollYProgress:p}=a({target:g});r(p,[0,1],[0,-100]);const[b,v]=e.useState([]),[y,j]=e.useState(!0),[w,N]=e.useState(null),[C]=l(),S=C.get("state"),[k,L]=e.useState(S||""),[A,M]=e.useState(""),[E,z]=e.useState("all"),[F,D]=e.useState("name"),[$,I]=e.useState(null),[P,T]=e.useState(!1),[_,H]=e.useState(1),[O,B]=e.useState(!1);e.useEffect(()=>{const e=setTimeout(()=>{B(!0)},150);return()=>clearTimeout(e)},[]),e.useEffect(()=>{const e=C.get("state");e&&L(e)},[C]),e.useEffect(()=>{(async()=>{try{j(!0),N(null);const e=await n.get("http://localhost:5050/api/artforms?limit=200");e.data&&e.data.success&&Array.isArray(e.data.data)?v(e.data.data):Array.isArray(e.data)?v(e.data):(N("Invalid data format received"),v([]))}catch(e){N("Failed to load art forms. Please try refreshing the page."),v([])}finally{j(!1)}})()},[]);const U=b.filter(e=>{const t=""===A||e.name?.toLowerCase().includes(A.toLowerCase())||e.title?.toLowerCase().includes(A.toLowerCase())||e.origin?.toLowerCase().includes(A.toLowerCase()),a=""===k||e.origin===k,r="all"===E||e.category?.toLowerCase()===E.toLowerCase()||"painting"===E&&(e.name?.toLowerCase().includes("painting")||e.title?.toLowerCase().includes("painting"))||"craft"===E&&(e.name?.toLowerCase().includes("craft")||e.name?.toLowerCase().includes("work"))||"sculpture"===E&&e.name?.toLowerCase().includes("carving")||"textile"===E&&(e.name?.toLowerCase().includes("embroidery")||e.name?.toLowerCase().includes("shawl")||e.name?.toLowerCase().includes("phulkari"));return t&&a&&r}).sort((e,t)=>{switch(F){case"name":return(e.name||e.title||"").localeCompare(t.name||t.title||"");case"state":return(e.origin||"").localeCompare(t.origin||"");case"newest":return new Date(t.createdAt||0)-new Date(e.createdAt||0);case"oldest":return new Date(e.createdAt||0)-new Date(t.createdAt||0);default:return 0}}),Y=Math.ceil(U.length/12),X=12*(_-1),G=X+12,R=U.slice(X,G);e.useEffect(()=>{H(1)},[A,k,E,F]),e.useEffect(()=>{b.length},[b,R]),e.useEffect(()=>{const e=e=>{"Escape"===e.key&&(I(null),T(!1))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[]);const Z=e=>{I(e),T(!1)},q=()=>{const e=Array.from({length:25},(e,t)=>({id:t,size:4*Math.random()+2,color:["rgba(19, 72, 86, 0.6)","rgba(224, 82, 100, 0.6)","rgba(248, 230, 218, 0.8)","rgba(255, 193, 7, 0.6)","rgba(139, 69, 19, 0.5)"][Math.floor(5*Math.random())],initialX:100*Math.random(),initialY:100*Math.random(),animationDelay:5*Math.random(),animationDuration:8+6*Math.random()}));return t.jsx("div",{className:"fixed inset-0 pointer-events-none z-0",children:e.map(e=>t.jsx(s.div,{className:"absolute rounded-full opacity-40",style:{width:`${e.size}px`,height:`${e.size}px`,backgroundColor:e.color,left:`${e.initialX}%`,top:`${e.initialY}%`,filter:"blur(0.5px)",boxShadow:`0 0 ${2*e.size}px ${e.color}`},animate:{y:[0,-80,0],x:[0,25,-25,0],opacity:[.4,.7,.4],scale:[1,1.3,1]},transition:{duration:e.animationDuration,repeat:1/0,delay:e.animationDelay,ease:"easeInOut"}},e.id))})};return t.jsxs("div",{ref:g,className:"min-h-screen bg-[#F8E6DA] pt-24 pb-8 overflow-hidden",children:[t.jsx(q,{}),t.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[t.jsxs(s.section,{className:"text-center mb-12",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[t.jsx(s.div,{className:"absolute w-96 h-96 bg-gradient-to-r from-[#E05264]/20 to-[#F48C8C]/20 rounded-full blur-3xl opacity-30 top-0 left-0",animate:{scale:[1,1.2,1],rotate:[0,90,0],opacity:[.3,.5,.3]},transition:{duration:10,repeat:1/0,ease:"easeInOut"}}),t.jsx("h1",{className:"inline-block text-6xl font-dm-serif font-bold mb-6 drop-shadow-lg bg-gradient-to-r from-[#134856] to-[#e05264] bg-clip-text text-transparent",children:"Art Gallery"}),t.jsx("p",{className:"text-lg font-lora font-semibold text-xl text-[#E05264] max-w-3xl mx-auto leading-relaxed mb-10",children:"Discover the magnificent tapestry of Indian traditional arts. From ancient crafts to timeless performances, explore the diverse cultural heritage of our nation."})]}),y&&t.jsx("div",{className:"flex justify-center items-center py-16",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-deep-teal mx-auto mb-4"}),t.jsx("p",{className:"text-lg text-gray-600 font-lora",children:"Loading art forms..."})]})}),w&&t.jsx("div",{className:"flex justify-center items-center py-16",children:t.jsxs("div",{className:"text-center bg-red-50 border border-red-200 rounded-lg p-8 max-w-md",children:[t.jsx("p",{className:"text-red-600 font-lora text-lg mb-4",children:w}),t.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition font-lora",children:"Try Again"})]})}),t.jsx(s.div,{className:"bg-gradient-to-br from-[#1d7c6f] to-[#f58c8c] rounded-3xl shadow-2xl p-2 mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:t.jsx("div",{className:"bg-[#F8E6DA] rounded-2xl p-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[t.jsxs("div",{className:"relative flex-1 max-w-md",children:[t.jsx(i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search for art forms...",value:A,onChange:e=>M(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(c,{className:"text-gray-600"}),t.jsxs("select",{value:E,onChange:e=>z(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[t.jsx("option",{value:"all",children:"All Categories"}),t.jsx("option",{value:"painting",children:"Painting"}),t.jsx("option",{value:"sculpture",children:"Sculpture"}),t.jsx("option",{value:"craft",children:"Craft"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(d,{className:"text-gray-600"}),t.jsxs("select",{value:k,onChange:e=>L(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[t.jsx("option",{value:"",children:"All States"}),[...new Set(b.map(e=>e.origin))].filter(e=>e).sort().map(e=>t.jsx("option",{value:e,children:e},e))]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(m,{className:"text-gray-600"}),t.jsxs("select",{value:F,onChange:e=>D(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[t.jsx("option",{value:"name",children:"By Name"}),t.jsx("option",{value:"state",children:"By State"}),t.jsx("option",{value:"newest",children:"Newest First"}),t.jsx("option",{value:"oldest",children:"Oldest First"})]})]})]})]})})}),!y&&!w&&t.jsx(t.Fragment,{children:R.length>0?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"text-center mb-6",children:[t.jsxs("p",{className:"text-gray-600 font-lora",children:["Showing ",X+1,"-",Math.min(G,U.length)," of ",U.length," art form",1!==U.length?"s":"",k&&` from ${k}`]}),Y>1&&t.jsxs("p",{className:"text-sm text-gray-500 mt-1 font-lora",children:["Page ",_," of ",Y]})]}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 gap-8 auto-rows-auto transition-all duration-1000 delay-500 "+(O?"opacity-100":"opacity-0"),children:R.map((e,a)=>t.jsx("div",{className:"w-full transition-all duration-700 "+(O?"opacity-100 translate-y-0":"opacity-0 translate-y-12"),style:{transitionDelay:`${Math.min(100*a,1e3)}ms`},children:t.jsx(h,{...e,onImageClick:Z})},e._id))}),Y>1&&t.jsxs("div",{className:"flex justify-center items-center gap-4 mt-12 mb-8",children:[t.jsxs(s.button,{onClick:()=>H(e=>Math.max(e-1,1)),disabled:1===_,className:"flex items-center gap-2 px-6 py-3 rounded-full font-semibold transition-all duration-300 "+(1===_?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-[#134856] to-[#e05264] hover:from-[#e05264] hover:to-[#134856] text-white shadow-lg hover:shadow-xl transform hover:scale-105"),whileHover:1!==_?{scale:1.05}:{},whileTap:1!==_?{scale:.95}:{},children:[t.jsx(u,{size:14}),"Previous"]}),t.jsx("div",{className:"flex items-center gap-2",children:Array.from({length:Math.min(5,Y)},(e,a)=>{const r=Math.max(1,_-2)+a;return r<=Y?t.jsx(s.button,{onClick:()=>H(r),className:"w-10 h-10 rounded-full font-semibold transition-all duration-300 "+(_===r?"bg-gradient-to-r from-[#134856] to-[#e05264] text-white shadow-lg":"bg-white text-[#134856] border-2 border-[#134856] hover:bg-gradient-to-r hover:from-[#134856] hover:to-[#e05264] hover:text-white"),whileHover:{scale:1.1},whileTap:{scale:.9},children:r},r):null})}),t.jsxs(s.button,{onClick:()=>H(e=>Math.min(e+1,Y)),disabled:_===Y,className:"flex items-center gap-2 px-6 py-3 rounded-full font-semibold transition-all duration-300 "+(_===Y?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-[#134856] to-[#e05264] hover:from-[#e05264] hover:to-[#134856] text-white shadow-lg hover:shadow-xl transform hover:scale-105"),whileHover:_!==Y?{scale:1.05}:{},whileTap:_!==Y?{scale:.95}:{},children:["Next",t.jsx(x,{size:14})]})]})]}):t.jsx("div",{className:"text-center py-16",children:t.jsx("p",{className:"text-gray-600 font-lora text-lg",children:k?`No art forms found for ${k}`:"No art forms available"})})}),$&&t.jsxs("div",{onClick:()=>{I(null),T(!1)},className:"fixed inset-0 bg-white bg-opacity-10 backdrop-blur-md flex flex-col items-center justify-center z-50 cursor-zoom-out p-4",children:[t.jsx("img",{src:$,alt:"Zoomed art",className:"max-w-full max-h-full object-contain rounded-lg shadow-2xl cursor-zoom-in select-none "+(P?"w-full h-full":""),onClick:e=>e.stopPropagation(),style:{userSelect:"auto"}}),t.jsx("button",{onClick:e=>{e.stopPropagation(),T(e=>!e)},className:"mt-6 px-6 py-2 bg-deep-teal text-white rounded-full shadow-lg hover:bg-coral-red focus:outline-none focus:ring-4 focus:ring-golden-saffron transition font-lora font-bold",children:P?"Fit to Screen":"Full Screen"})]}),t.jsx("div",{className:"flex justify-center mt-12",children:t.jsx(s.button,{onClick:()=>f("/map"),className:"bg-gradient-to-r from-[#134856] to-[#e05264] hover:from-[#e05264] hover:to-[#134856] text-white px-8 py-3 rounded-full text-lg font-medium transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105",whileHover:{scale:1.05},whileTap:{scale:.95},children:"← Back to India Map"})})]})]})}export{f as default};
