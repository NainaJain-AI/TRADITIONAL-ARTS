import{j as e}from"./chunk-DrBkpLm2.js";import{r,u as a,L as t}from"./chunk-CMRBzt0a.js";import{y as l}from"./chunk-BWoFSTeq.js";import{g as s,a as n}from"./chunk-BorHaxuO.js";import{u as o}from"./index-LrY4tx8y.js";import"./chunk-ouJazw0A.js";import"./chunk-C4w0ZaE1.js";import"./chunk-CPxFknmi.js";function c(){const[c,i]=r.useState({name:"",phoneNumber:"",password:""}),[d,m]=r.useState(!1),[u,h]=r.useState(!1),[p,b]=r.useState(""),[x,g]=r.useState({name:"",phoneNumber:"",password:"",terms:"",privacy:""}),[f,N]=r.useState({name:!1,phoneNumber:!1,password:!1}),v=a(),{registerWithPhone:w,isAuthenticated:y,loading:k,clearError:P}=o();r.useEffect(()=>{P()},[]);const j=(e,r,a=!1)=>{let t="";switch(e){case"name":a||r.trim()?r.trim()&&2>r.trim().length&&(t="Name must be at least 2 characters long"):t="Full name is required";break;case"phoneNumber":if(a||r.trim()){if(r.trim()){const e=s(r);e&&(t=e)}}else t="Phone number is required";break;case"password":a||r.trim()?r.trim()&&!n(r)&&(t="Password must be at least 6 characters long"):t="Password is required";break;case"terms":r||(t="You must agree to the Terms of Service");break;case"privacy":r||(t="You must agree to the Privacy Policy")}return g(r=>({...r,[e]:t})),""===t},C=e=>{const{name:r,value:a}=e.target;i({...c,[r]:a}),b(""),f[r]&&j(r,a,!0)},A=e=>{const{name:r,value:a}=e.target;N(e=>({...e,[r]:!0})),j(r,a,!1)},S=(e,r)=>{"terms"===e?(m(r),j("terms",r,!1)):"privacy"===e&&(h(r),j("privacy",r,!1))};return e.jsx("div",{className:"min-h-screen bg-cover bg-center flex items-center justify-center px-4",style:{backgroundImage:"url('/assets/parallaximg.png')"},children:e.jsxs("form",{onSubmit:async e=>{e.preventDefault();const{name:r,phoneNumber:a,password:t}=c;if(!r||!a||!t)return void b("All fields are required.");const o=s(a);if(o)return void b(o);if(!n(t))return void b("Password must be at least 6 characters.");if(!d)return void b("You must agree to the Terms of Service.");if(!u)return void b("You must agree to the Privacy Policy.");const i=await w(c);i.success?(l.success("Account created successfully! Welcome to KalaSangam!"),v("/home")):(b(i.error),l.error(i.error))},className:"bg-[linear-gradient(to_bottom,rgba(255,190,152,0.8),rgba(255,187,233,0.7),rgba(44,165,141,0.7))] \n                  p-10 rounded-3xl max-w-md w-full shadow-xl border border-white/20 font-lora",children:[e.jsx("h2",{className:"text-4xl font-bold text-center mb-3 text-deep-teal",children:"Create Account"}),e.jsx("p",{className:"text-center mb-6 text-sm text-teal-200",children:"Join KalaSangam with your phone!"}),p&&e.jsx("p",{className:"text-red-600 text-sm mb-4 text-center",children:p}),e.jsxs("div",{className:"mb-4",children:[e.jsx("input",{type:"text",name:"name",placeholder:x.name||!c.name?"Full Name":"",value:c.name,onChange:C,onBlur:A,className:`w-full px-4 py-3 rounded-xl bg-white/70 border-2 ${x.name?"border-coral-red":"border-coral-red/30"} placeholder-[#284139] text-[#284139] focus:ring-2 focus:ring-deep-teal outline-none transition-all duration-200`}),x.name&&e.jsx("p",{className:"text-coral-red text-xs mt-1 font-medium",children:x.name})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("input",{type:"tel",name:"phoneNumber",placeholder:x.phoneNumber||!c.phoneNumber?"Phone Number (e.g., +1234567890)":"",value:c.phoneNumber,onChange:C,onBlur:A,className:`w-full px-4 py-3 rounded-xl bg-white/70 border-2 ${x.phoneNumber?"border-coral-red":"border-coral-red/30"} placeholder-[#284139] text-[#284139] focus:ring-2 focus:ring-deep-teal outline-none transition-all duration-200`}),x.phoneNumber&&e.jsx("p",{className:"text-coral-red text-xs mt-1 font-medium",children:x.phoneNumber})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-sm font-semibold text-[#284139] mb-2",children:"Phone Number Format:"}),e.jsxs("ul",{className:"text-xs text-teal-200 space-y-1 ml-4",children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-1 h-1 bg-teal-200 rounded-full mr-2"}),"International: +1234567890 (10-18 digits after +)"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-1 h-1 bg-teal-200 rounded-full mr-2"}),"Domestic: 1234567890 (10-15 digits)"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-1 h-1 bg-teal-200 rounded-full mr-2"}),"Allowed: +, -, (), spaces (automatically removed)"]})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-sm font-semibold text-[#284139] mb-2",children:"Password Requirements:"}),e.jsxs("ul",{className:"text-xs text-teal-200 space-y-1 ml-4",children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-1 h-1 bg-teal-200 rounded-full mr-2"}),"At least 6 characters long"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-1 h-1 bg-teal-200 rounded-full mr-2"}),"Mix of letters and numbers recommended"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-1 h-1 bg-teal-200 rounded-full mr-2"}),"Avoid common passwords"]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("input",{type:"password",name:"password",placeholder:x.password||!c.password?"Password":"",value:c.password,onChange:C,onBlur:A,className:`w-full px-4 py-3 rounded-xl bg-white/70 border-2 ${x.password?"border-coral-red":"border-coral-red/30"} placeholder-[#284139] text-[#284139] focus:ring-2 focus:ring-deep-teal outline-none transition-all duration-200`}),x.password&&e.jsx("p",{className:"text-coral-red text-xs mt-1 font-medium",children:x.password})]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-start gap-3 text-sm cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:d,onChange:e=>S("terms",e.target.checked),className:`mt-1 w-4 h-4 text-deep-teal border ${x.terms?"border-coral-red border-2":"border-gray-300"} rounded focus:ring-2 focus:ring-deep-teal transition-all duration-200`}),e.jsxs("span",{className:"text-[#284139] leading-relaxed",children:["I agree to KalaSangam's"," ",e.jsx(t,{to:"/terms-of-service",target:"_blank",className:"text-coral-red hover:underline font-semibold",children:"Terms of Service"})]})]}),x.terms&&e.jsx("p",{className:"text-coral-red text-xs mt-1 ml-7 font-medium",children:x.terms})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-start gap-3 text-sm cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:u,onChange:e=>S("privacy",e.target.checked),className:`mt-1 w-4 h-4 text-deep-teal border ${x.privacy?"border-coral-red border-2":"border-gray-300"} rounded focus:ring-2 focus:ring-deep-teal transition-all duration-200`}),e.jsxs("span",{className:"text-[#284139] leading-relaxed",children:["I agree to KalaSangam's"," ",e.jsx(t,{to:"/privacy-policy",target:"_blank",className:"text-coral-red hover:underline font-semibold",children:"Privacy Policy"})]})]}),x.privacy&&e.jsx("p",{className:"text-coral-red text-xs mt-1 ml-7 font-medium",children:x.privacy})]})]}),e.jsx("button",{type:"submit",disabled:k,className:"w-full bg-deep-teal hover:bg-coral-red text-off-white font-bold py-3 rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:k?"Creating Account...":"Sign Up"}),e.jsx("div",{className:"text-center mt-4",children:e.jsx("button",{type:"button",onClick:()=>v("/signup"),className:"text-sm bg-white/20 hover:bg-white/30 text-deep-teal font-semibold py-2 px-4 rounded-lg border border-deep-teal/30 transition-all",children:"ðŸ“§ Continue with Email Instead"})}),e.jsxs("p",{className:"text-center mt-6 text-sm text-teal-200",children:["Already have an account? ",e.jsx(t,{to:"/phone-login",className:"underline font-semibold hover:text-coral-red",children:"Login with Phone"})]})]})})}export{c as default};
