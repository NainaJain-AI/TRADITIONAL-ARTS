import{r as e,j as t,m as a}from"./framerMotion-CogqvMXS.js";const s=({src:s,alt:i,className:r="",placeholder:n="🎨",aspectRatio:o="aspect-video",...c})=>{const[l,d]=e.useState(!1),[u,m]=e.useState(!1),[x,p]=e.useState(!1),f=e.useRef(null);e.useEffect(()=>{const e=new IntersectionObserver(([t])=>{t.isIntersecting&&(m(!0),e.disconnect())},{rootMargin:"50px",threshold:.1});return f.current&&e.observe(f.current),()=>e.disconnect()},[]);return t.jsxs("div",{ref:f,className:`relative overflow-hidden ${o} ${r}`,...c,children:[t.jsx(a.div,{className:"absolute inset-0 bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center",initial:{opacity:1},animate:{opacity:l?0:1},transition:{duration:.3},children:x?t.jsx("div",{className:"text-red-400 text-2xl",children:"❌"}):t.jsx("div",{className:"text-gray-400 text-2xl animate-pulse",children:n})}),u&&!x&&t.jsx(a.img,{src:s,alt:i,className:"absolute inset-0 w-full h-full object-cover",onLoad:()=>{d(!0)},onError:()=>{p(!0),d(!0)},initial:{opacity:0,scale:1.1},animate:{opacity:l?1:0,scale:l?1:1.1},transition:{duration:.6,ease:"easeOut"},loading:"lazy"}),u&&!l&&!x&&t.jsx(a.div,{className:"absolute inset-0 flex items-center justify-center bg-white/50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:t.jsx("div",{className:"w-6 h-6 border-2 border-amber-600 border-t-transparent rounded-full animate-spin"})})]})};export{s as L};
