import{r as e,j as r}from"./framerMotion-CogqvMXS.js";import{a,u as t,d as s,L as l,y as o}from"./index-o05s5HAD.js";import{a as n,i}from"./validators-B7N8CqK3.js";import"./vendor-BI3NJeJA.js";import"./three-wh2_sdWZ.js";function c(){const[c]=a(),d="artist"===c.get("role"),[m,u]=e.useState({name:"",email:"",password:"",role:d?"Artist":"Viewer"}),[x,p]=e.useState(!1),[b,h]=e.useState(!1),[g,f]=e.useState(""),[j,v]=e.useState({name:"",email:"",password:"",terms:"",privacy:""}),[w,N]=e.useState({}),y=t(),{register:A,isAuthenticated:S,loading:k,clearError:P}=s();e.useEffect(()=>{P()},[]);const C=(e,r)=>{switch(e){case"name":return""===r.trim()?"Name is required":"";case"email":return""===r.trim()?"Email is required":i(r)?"":"Please enter a valid email address";case"password":return""===r.trim()?"Password is required":n(r)?"":"Password must be at least 6 characters";default:return""}},q=e=>{const{name:r,value:a}=e.target;u({...m,[r]:a}),f(""),j[r]&&v({...j,[r]:""})},$=e=>{const{name:r,value:a}=e.target;N({...w,[r]:!0});const t=C(r,a);v({...j,[r]:t})},E=(e,r)=>{"terms"===e?(p(r),j.terms&&v({...j,terms:""})):"privacy"===e&&(h(r),j.privacy&&v({...j,privacy:""}))};return r.jsx("div",{className:"min-h-screen bg-cover bg-center flex items-center justify-center px-4",style:{backgroundImage:"url('/assets/parallaximg.png')"},children:r.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),f(""),!(()=>{const{name:e,email:r,password:a}=m,t={name:C("name",e),email:C("email",r),password:C("password",a),terms:x?"":"You must agree to the Terms of Service to proceed",privacy:b?"":"You must agree to the Privacy Policy to proceed"};return v(t),N({name:!0,email:!0,password:!0,terms:!0,privacy:!0}),!Object.values(t).some(e=>""!==e)})())return void f("Please fix the errors below before submitting.");const r=await A(m);r.success?(o.success("Account created successfully! Welcome to KalaSangam!"),"Artist"===m.role?y("/user-profile"):y("/home")):(f(r.error),o.error(r.error))},className:"bg-[linear-gradient(to_bottom,rgba(255,190,152,0.8),rgba(255,187,233,0.7),rgba(44,165,141,0.7))] \n                  p-10 rounded-3xl max-w-md w-full shadow-xl border border-white/20 font-lora",children:[r.jsx("h2",{className:"text-4xl font-bold text-center mb-3 text-teal-blue",children:d?"Join as Artist":"Create Account"}),r.jsx("p",{className:"text-center mb-6 text-sm text-teal-200",children:d?"Start your artistic journey with us!":"Join KalaSangam today!"}),g&&r.jsx("p",{className:"text-red-600 text-sm mb-4 text-center",children:g}),r.jsxs("div",{className:"mb-4",children:[r.jsx("input",{type:"text",name:"name",placeholder:j.name?j.name:"Full Name",value:m.name,onChange:q,onBlur:$,className:`w-full px-4 py-3 rounded-xl bg-white/70 border ${j.name?"border-coral-red border-2 placeholder-coral-red":"border-coral-red/30"} text-[#284139] focus:ring-2 focus:ring-teal-blue outline-none transition-all duration-200`}),j.name&&r.jsx("p",{className:"text-coral-red text-xs mt-1 ml-2 font-medium",children:j.name})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("input",{type:"email",name:"email",placeholder:j.email?j.email:"Email",value:m.email,onChange:q,onBlur:$,className:`w-full px-4 py-3 rounded-xl bg-white/70 border ${j.email?"border-coral-red border-2 placeholder-coral-red":"border-coral-red/30"} text-[#284139] focus:ring-2 focus:ring-teal-blue outline-none transition-all duration-200`}),j.email&&r.jsx("p",{className:"text-coral-red text-xs mt-1 ml-2 font-medium",children:j.email})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("p",{className:"text-sm font-semibold text-[#284139] mb-2",children:"Password Requirements:"}),r.jsxs("ul",{className:"text-xs text-teal-200 space-y-1 ml-4",children:[r.jsxs("li",{className:"flex items-center",children:[r.jsx("span",{className:"w-1 h-1 bg-teal-200 rounded-full mr-2"}),"At least 6 characters long"]}),r.jsxs("li",{className:"flex items-center",children:[r.jsx("span",{className:"w-1 h-1 bg-teal-200 rounded-full mr-2"}),"Mix of letters and numbers recommended"]}),r.jsxs("li",{className:"flex items-center",children:[r.jsx("span",{className:"w-1 h-1 bg-teal-200 rounded-full mr-2"}),"Avoid common passwords"]})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("input",{type:"password",name:"password",placeholder:j.password?j.password:"Password",value:m.password,onChange:q,onBlur:$,className:`w-full px-4 py-3 rounded-xl bg-white/70 border ${j.password?"border-coral-red border-2 placeholder-coral-red":"border-coral-red/30"} text-[#284139] focus:ring-2 focus:ring-teal-blue outline-none transition-all duration-200`}),j.password&&r.jsx("p",{className:"text-coral-red text-xs mt-1 ml-2 font-medium",children:j.password})]}),r.jsxs("div",{className:"space-y-4 mb-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-start gap-3 text-sm cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:x,onChange:e=>E("terms",e.target.checked),className:`mt-1 w-4 h-4 text-teal-blue border ${j.terms?"border-coral-red border-2":"border-gray-300"} rounded focus:ring-2 focus:ring-teal-blue transition-all duration-200`}),r.jsxs("span",{className:"text-[#284139] leading-relaxed",children:["I agree to KalaSangam's"," ",r.jsx(l,{to:"/terms-of-service",target:"_blank",className:"text-coral-red hover:underline font-semibold",children:"Terms of Service"})]})]}),j.terms&&r.jsx("p",{className:"text-coral-red text-xs mt-1 ml-7 font-medium",children:j.terms})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-start gap-3 text-sm cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:b,onChange:e=>E("privacy",e.target.checked),className:`mt-1 w-4 h-4 text-teal-blue border ${j.privacy?"border-coral-red border-2":"border-gray-300"} rounded focus:ring-2 focus:ring-teal-blue transition-all duration-200`}),r.jsxs("span",{className:"text-[#284139] leading-relaxed",children:["I agree to KalaSangam's"," ",r.jsx(l,{to:"/privacy-policy",target:"_blank",className:"text-coral-red hover:underline font-semibold",children:"Privacy Policy"})]})]}),j.privacy&&r.jsx("p",{className:"text-coral-red text-xs mt-1 ml-7 font-medium",children:j.privacy})]})]}),d?r.jsxs("div",{className:"mb-4 p-4 bg-teal-100 rounded-xl border-2 border-teal-300",children:[r.jsx("p",{className:"text-center text-teal-800 font-semibold",children:"ðŸŽ¨ You're signing up as an Artist!"}),r.jsx("p",{className:"text-center text-sm text-teal-600 mt-1",children:"You'll have access to create and showcase your artwork."}),r.jsx("input",{type:"hidden",name:"role",value:"Artist"})]}):r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{htmlFor:"role",className:"block text-sm font-medium mb-2 text-[#284139]",children:"Select Role:"}),r.jsxs("select",{name:"role",value:m.role,onChange:e=>u({...m,role:e.target.value}),className:"w-full px-4 py-3 rounded-xl bg-white/70 border border-coral-red/30 text-[#284139] focus:ring-2 focus:ring-teal-blue outline-none transition-all duration-200",required:!0,children:[r.jsx("option",{value:"Viewer",children:"Viewer"}),r.jsx("option",{value:"Artist",children:"Artist"}),r.jsx("option",{value:"Admin",children:"Admin"})]})]}),r.jsx("button",{type:"submit",disabled:k,className:"w-full bg-teal-blue hover:bg-coral-red text-off-white font-bold py-3 rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:k?"Creating Account...":"Sign Up"}),r.jsx("div",{className:"text-center mt-4",children:r.jsx("button",{type:"button",onClick:()=>y("/phone-signup"),className:"text-sm bg-white/20 hover:bg-white/30 text-teal-blue font-semibold py-2 px-4 rounded-lg border border-teal-blue/30 transition-all",children:"ðŸ“± Continue with Phone Number Instead"})}),r.jsxs("p",{className:"text-center mt-6 text-sm text-teal-200",children:["Already have an account? ",r.jsx(l,{to:"/login",className:"underline font-semibold hover:text-coral-red",children:"Login"})]})]})})}export{c as default};
