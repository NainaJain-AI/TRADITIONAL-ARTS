import{r as e,j as r}from"./framerMotion-CogqvMXS.js";import{u as s,d as a,L as t,y as l}from"./index-BRMdYX2S.js";import{g as n,a as o}from"./validators-B7N8CqK3.js";import"./vendor-BI3NJeJA.js";import"./three-wh2_sdWZ.js";function c(){const[c,i]=e.useState({name:"",phoneNumber:"",password:""}),[d,m]=e.useState(!1),[u,x]=e.useState(!1),[h,b]=e.useState(""),[p,g]=e.useState({name:"",phoneNumber:"",password:"",terms:"",privacy:""}),[f,N]=e.useState({name:!1,phoneNumber:!1,password:!1}),j=s(),{registerWithPhone:v,isAuthenticated:w,loading:y,clearError:P}=a();e.useEffect(()=>{P()},[]);const S=(e,r,s=!1)=>{let a="";switch(e){case"name":s||r.trim()?r.trim()&&r.trim().length<2&&(a="Name must be at least 2 characters long"):a="Full name is required";break;case"phoneNumber":if(s||r.trim()){if(r.trim()){const e=n(r);e&&(a=e)}}else a="Phone number is required";break;case"password":s||r.trim()?r.trim()&&!o(r)&&(a="Password must be at least 6 characters long"):a="Password is required";break;case"terms":r||(a="You must agree to the Terms of Service");break;case"privacy":r||(a="You must agree to the Privacy Policy")}return g(r=>({...r,[e]:a})),""===a},k=e=>{const{name:r,value:s}=e.target;i({...c,[r]:s}),b(""),f[r]&&S(r,s,!0)},A=e=>{const{name:r,value:s}=e.target;N(e=>({...e,[r]:!0})),S(r,s,!1)},C=(e,r)=>{"terms"===e?(m(r),S("terms",r,!1)):"privacy"===e&&(x(r),S("privacy",r,!1))};return r.jsx("div",{className:"min-h-screen bg-cover bg-center flex items-center justify-center px-4",style:{backgroundImage:"url('/assets/parallaximg.png')"},children:r.jsxs("form",{onSubmit:async e=>{e.preventDefault();const{name:r,phoneNumber:s,password:a}=c;if(!r||!s||!a)return void b("All fields are required.");const t=n(s);if(t)return void b(t);if(!o(a))return void b("Password must be at least 6 characters.");if(!d)return void b("You must agree to the Terms of Service.");if(!u)return void b("You must agree to the Privacy Policy.");const i=await v(c);i.success?(l.success("Account created successfully! Welcome to KalaSangam!"),j("/home")):(b(i.error),l.error(i.error))},className:"bg-[linear-gradient(to_bottom,rgba(255,190,152,0.8),rgba(255,187,233,0.7),rgba(44,165,141,0.7))] \n                  p-10 rounded-3xl max-w-md w-full shadow-xl border border-white/20 font-lora",children:[r.jsx("h2",{className:"text-4xl font-bold text-center mb-3 text-teal-blue",children:"Create Account"}),r.jsx("p",{className:"text-center mb-6 text-sm text-teal-200",children:"Join KalaSangam with your phone!"}),h&&r.jsx("p",{className:"text-red-600 text-sm mb-4 text-center",children:h}),r.jsxs("div",{className:"mb-4",children:[r.jsx("input",{type:"text",name:"name",placeholder:p.name||!c.name?"Full Name":"",value:c.name,onChange:k,onBlur:A,className:`w-full px-4 py-3 rounded-xl bg-white/70 border-2 ${p.name?"border-coral-red":"border-coral-red/30"} placeholder-[#284139] text-[#284139] focus:ring-2 focus:ring-teal-blue outline-none transition-all duration-200`}),p.name&&r.jsx("p",{className:"text-coral-red text-xs mt-1 font-medium",children:p.name})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("input",{type:"tel",name:"phoneNumber",placeholder:p.phoneNumber||!c.phoneNumber?"Phone Number (e.g., +1234567890)":"",value:c.phoneNumber,onChange:k,onBlur:A,className:`w-full px-4 py-3 rounded-xl bg-white/70 border-2 ${p.phoneNumber?"border-coral-red":"border-coral-red/30"} placeholder-[#284139] text-[#284139] focus:ring-2 focus:ring-teal-blue outline-none transition-all duration-200`}),p.phoneNumber&&r.jsx("p",{className:"text-coral-red text-xs mt-1 font-medium",children:p.phoneNumber})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("p",{className:"text-sm font-semibold text-[#284139] mb-2",children:"Phone Number Format:"}),r.jsxs("ul",{className:"text-xs text-teal-200 space-y-1 ml-4",children:[r.jsxs("li",{className:"flex items-center",children:[r.jsx("span",{className:"w-1 h-1 bg-teal-200 rounded-full mr-2"}),"International: +1234567890 (10-18 digits after +)"]}),r.jsxs("li",{className:"flex items-center",children:[r.jsx("span",{className:"w-1 h-1 bg-teal-200 rounded-full mr-2"}),"Domestic: 1234567890 (10-15 digits)"]}),r.jsxs("li",{className:"flex items-center",children:[r.jsx("span",{className:"w-1 h-1 bg-teal-200 rounded-full mr-2"}),"Allowed: +, -, (), spaces (automatically removed)"]})]})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("p",{className:"text-sm font-semibold text-[#284139] mb-2",children:"Password Requirements:"}),r.jsxs("ul",{className:"text-xs text-teal-200 space-y-1 ml-4",children:[r.jsxs("li",{className:"flex items-center",children:[r.jsx("span",{className:"w-1 h-1 bg-teal-200 rounded-full mr-2"}),"At least 6 characters long"]}),r.jsxs("li",{className:"flex items-center",children:[r.jsx("span",{className:"w-1 h-1 bg-teal-200 rounded-full mr-2"}),"Mix of letters and numbers recommended"]}),r.jsxs("li",{className:"flex items-center",children:[r.jsx("span",{className:"w-1 h-1 bg-teal-200 rounded-full mr-2"}),"Avoid common passwords"]})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("input",{type:"password",name:"password",placeholder:p.password||!c.password?"Password":"",value:c.password,onChange:k,onBlur:A,className:`w-full px-4 py-3 rounded-xl bg-white/70 border-2 ${p.password?"border-coral-red":"border-coral-red/30"} placeholder-[#284139] text-[#284139] focus:ring-2 focus:ring-teal-blue outline-none transition-all duration-200`}),p.password&&r.jsx("p",{className:"text-coral-red text-xs mt-1 font-medium",children:p.password})]}),r.jsxs("div",{className:"space-y-4 mb-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-start gap-3 text-sm cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:d,onChange:e=>C("terms",e.target.checked),className:`mt-1 w-4 h-4 text-teal-blue border ${p.terms?"border-coral-red border-2":"border-gray-300"} rounded focus:ring-2 focus:ring-teal-blue transition-all duration-200`}),r.jsxs("span",{className:"text-[#284139] leading-relaxed",children:["I agree to KalaSangam's"," ",r.jsx(t,{to:"/terms-of-service",target:"_blank",className:"text-coral-red hover:underline font-semibold",children:"Terms of Service"})]})]}),p.terms&&r.jsx("p",{className:"text-coral-red text-xs mt-1 ml-7 font-medium",children:p.terms})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-start gap-3 text-sm cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:u,onChange:e=>C("privacy",e.target.checked),className:`mt-1 w-4 h-4 text-teal-blue border ${p.privacy?"border-coral-red border-2":"border-gray-300"} rounded focus:ring-2 focus:ring-teal-blue transition-all duration-200`}),r.jsxs("span",{className:"text-[#284139] leading-relaxed",children:["I agree to KalaSangam's"," ",r.jsx(t,{to:"/privacy-policy",target:"_blank",className:"text-coral-red hover:underline font-semibold",children:"Privacy Policy"})]})]}),p.privacy&&r.jsx("p",{className:"text-coral-red text-xs mt-1 ml-7 font-medium",children:p.privacy})]})]}),r.jsx("button",{type:"submit",disabled:y,className:"w-full bg-teal-blue hover:bg-coral-red text-off-white font-bold py-3 rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Creating Account...":"Sign Up"}),r.jsx("div",{className:"text-center mt-4",children:r.jsx("button",{type:"button",onClick:()=>j("/signup"),className:"text-sm bg-white/20 hover:bg-white/30 text-teal-blue font-semibold py-2 px-4 rounded-lg border border-teal-blue/30 transition-all",children:"ðŸ“§ Continue with Email Instead"})}),r.jsxs("p",{className:"text-center mt-6 text-sm text-teal-200",children:["Already have an account? ",r.jsx(t,{to:"/phone-login",className:"underline font-semibold hover:text-coral-red",children:"Login with Phone"})]})]})})}export{c as default};
