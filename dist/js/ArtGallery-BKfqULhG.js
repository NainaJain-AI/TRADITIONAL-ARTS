import{j as e,u as t,a,m as r}from"./chunk-DVxuGNgR.js";import{r as l,u as o,d as n}from"./chunk-Bdcpd3Jy.js";import{a as i}from"./chunk-BMgD4wMx.js";import{F as s}from"./chunk-CcL9Otje.js";import{F as c,a as d,b as m,c as h,d as u,e as f}from"./index-BxKwhLk7.js";import{u as g}from"./chunk-LPcnXs7W.js";import"./chunk-Boz1BxA5.js";import"./chunk-DsC01Si0.js";import"./chunk-B7Q-YYjA.js";import"./chunk-CM-yfVV2.js";function p({name:t,origin:a,photoUrl:r=[],onImageClick:o}){const[n,i]=l.useState({}),[s,c]=l.useState({}),d=r.slice(0,4);return e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 w-full\n      transition-all duration-300 ease-out\n      hover:scale-105 hover:-translate-y-2 hover:shadow-xl\n      border border-[#E05264] shadow-[0_0_15px_rgba(224,82,100,0.2)]\n      hover:shadow-[0_0_25px_rgba(224,82,100,0.4)]\n      transform-gpu will-change-transform",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[d.map((a,r)=>e.jsxs("div",{className:"relative overflow-hidden rounded-md bg-gray-100",children:[!s[r]&&!n[r]&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-200 animate-pulse",children:e.jsx("div",{className:"w-8 h-8 border-2 border-rose-300 border-t-rose-600 rounded-full animate-spin"})}),n[r]?e.jsx("div",{className:"w-full h-60 bg-gray-200 flex items-center justify-center text-gray-500",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl mb-2",children:"🖼️"}),e.jsx("div",{className:"text-sm",children:"Image not available"})]})}):e.jsx("img",{src:a,alt:`${t} ${r+1}`,className:"w-full h-60 object-cover cursor-zoom-in transition-opacity duration-300 "+(s[r]?"opacity-100":"opacity-0"),onClick:()=>o&&o(a),onLoad:()=>(e=>{c(t=>({...t,[e]:!0}))})(r),onError:()=>(e=>{i(t=>({...t,[e]:!0}))})(r),loading:"lazy"})]},r)),Array.from({length:Math.max(0,4-d.length)},(t,a)=>e.jsx("div",{className:"w-full h-60 bg-gray-100 rounded-md flex items-center justify-center text-gray-400",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl mb-2",children:"🎨"}),e.jsx("div",{className:"text-sm",children:"No image"})]})},"empty-"+a))]}),e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-semibold font-lora text-[#134856] mb-2 line-clamp-2 leading-tight",children:t||"Unknown Art Form"}),e.jsx("p",{className:"text-[#E05264] text-lg font-semibold font-lora italic",children:a||"Unknown Origin"})]})]})}function x(){g();const x=o(),v=l.useRef(null),{scrollYProgress:b}=t({target:v});a(b,[0,1],[0,-100]);const[y,w]=l.useState([]),[N,k]=l.useState(!0),[j,C]=l.useState(null),[M]=n(),A=M.get("state"),z=M.get("category"),D="/explore/art"===window.location.pathname,[F,E]=l.useState(D?"":A||""),[I,S]=l.useState(""),[T,_]=l.useState(D?"all":z||"all"),[H,P]=l.useState("name"),[O,$]=l.useState(null),[B,U]=l.useState(!1),[L,Y]=l.useState(1),[G,X]=l.useState(!1);l.useEffect(()=>{const e=setTimeout(()=>{X(!0)},150);return()=>clearTimeout(e)},[]),l.useEffect(()=>{if(!D){const e=M.get("state");e&&E(e);const t=M.get("category");t&&_(t)}},[M,D]),l.useEffect(()=>{(async()=>{try{k(!0),C(null);const e=await i.get("http://localhost:5050/api/artforms?limit=200");e.data&&e.data.success&&Array.isArray(e.data.data)?w(e.data.data):Array.isArray(e.data)?w(e.data):(C("Invalid data format received"),w([]))}catch(e){C("Failed to load art forms. Please try refreshing the page."),w([])}finally{k(!1)}})()},[]);const Z=y.filter(e=>{var t,a,r,l,o,n,i,s,c,d,m,h;const u=""===I||(null==(t=e.name)?void 0:t.toLowerCase().includes(I.toLowerCase()))||(null==(a=e.title)?void 0:a.toLowerCase().includes(I.toLowerCase()))||(null==(r=e.origin)?void 0:r.toLowerCase().includes(I.toLowerCase())),f=""===F||e.origin===F,g="all"===T||(null==(l=e.category)?void 0:l.toLowerCase())===T.toLowerCase()||"painting"===T&&((null==(o=e.name)?void 0:o.toLowerCase().includes("painting"))||(null==(n=e.title)?void 0:n.toLowerCase().includes("painting")))||"craft"===T&&((null==(i=e.name)?void 0:i.toLowerCase().includes("craft"))||(null==(s=e.name)?void 0:s.toLowerCase().includes("work")))||"sculpture"===T&&(null==(c=e.name)?void 0:c.toLowerCase().includes("carving"))||"textile"===T&&((null==(d=e.name)?void 0:d.toLowerCase().includes("embroidery"))||(null==(m=e.name)?void 0:m.toLowerCase().includes("shawl"))||(null==(h=e.name)?void 0:h.toLowerCase().includes("phulkari")));return u&&f&&g}).sort((e,t)=>{switch(H){case"name":return(e.name||e.title||"").localeCompare(t.name||t.title||"");case"state":return(e.origin||"").localeCompare(t.origin||"");case"newest":return new Date(t.createdAt||0)-new Date(e.createdAt||0);case"oldest":return new Date(e.createdAt||0)-new Date(t.createdAt||0);default:return 0}}),q=Math.ceil(Z.length/12),J=12*(L-1),K=J+12,Q=Z.slice(J,K);l.useEffect(()=>{Y(1)},[I,F,T,H]),l.useEffect(()=>{y.length},[y,Q]),l.useEffect(()=>{const e=e=>{"Escape"===e.key&&($(null),U(!1))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[]);const R=e=>{$(e),U(!1)},V=()=>{const t=Array.from({length:25},(e,t)=>({id:t,size:4*Math.random()+2,color:["rgba(19, 72, 86, 0.6)","rgba(224, 82, 100, 0.6)","rgba(248, 230, 218, 0.8)","rgba(255, 193, 7, 0.6)","rgba(139, 69, 19, 0.5)"][Math.floor(5*Math.random())],initialX:100*Math.random(),initialY:100*Math.random(),animationDelay:5*Math.random(),animationDuration:8+6*Math.random()}));return e.jsx("div",{className:"fixed inset-0 pointer-events-none z-0",children:t.map(t=>e.jsx(r.div,{className:"absolute rounded-full opacity-40",style:{width:t.size+"px",height:t.size+"px",backgroundColor:t.color,left:t.initialX+"%",top:t.initialY+"%",filter:"blur(0.5px)",boxShadow:`0 0 ${2*t.size}px ${t.color}`},animate:{y:[0,-80,0],x:[0,25,-25,0],opacity:[.4,.7,.4],scale:[1,1.3,1]},transition:{duration:t.animationDuration,repeat:1/0,delay:t.animationDelay,ease:"easeInOut"}},t.id))})};return e.jsxs("div",{ref:v,className:"min-h-screen bg-[#F8E6DA] pb-8 overflow-hidden",children:[e.jsx(s,{}),e.jsx(V,{}),e.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[e.jsxs(r.section,{className:"text-center mb-12",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[e.jsx(r.div,{className:"absolute w-96 h-96 bg-gradient-to-r from-[#E05264]/20 to-[#F48C8C]/20 rounded-full blur-3xl opacity-30 top-0 left-0",animate:{scale:[1,1.2,1],rotate:[0,90,0],opacity:[.3,.5,.3]},transition:{duration:10,repeat:1/0,ease:"easeInOut"}}),e.jsx("h1",{className:"inline-block text-6xl pt-10 font-dm-serif font-bold mb-8 pb-2 drop-shadow-lg bg-gradient-to-r from-[#134856] to-[#e05264] bg-clip-text text-transparent",style:{lineHeight:"1.2"},children:"Art Gallery"}),e.jsx("p",{className:"text-lg font-lora font-semibold text-xl text-[#E05264] max-w-3xl mx-auto leading-relaxed mb-10",children:"Discover the magnificent tapestry of Indian traditional arts. From ancient crafts to timeless performances, explore the diverse cultural heritage of our nation."})]}),N&&e.jsx("div",{className:"flex justify-center items-center py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-deep-teal mx-auto mb-4"}),e.jsx("p",{className:"text-lg text-gray-600 font-lora",children:"Loading art forms..."})]})}),j&&e.jsx("div",{className:"flex justify-center items-center py-16",children:e.jsxs("div",{className:"text-center bg-red-50 border border-red-200 rounded-lg p-8 max-w-md",children:[e.jsx("p",{className:"text-red-600 font-lora text-lg mb-4",children:j}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition font-lora",children:"Try Again"})]})}),e.jsx(r.div,{className:"bg-gradient-to-br from-[#1d7c6f] to-[#f58c8c] rounded-3xl shadow-2xl p-2 mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:e.jsx("div",{className:"bg-[#F8E6DA] rounded-2xl p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(c,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search for art forms...",value:I,onChange:e=>S(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{className:"text-gray-600"}),e.jsxs("select",{value:T,onChange:e=>_(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Categories"}),e.jsx("option",{value:"painting",children:"Painting"}),e.jsx("option",{value:"sculpture",children:"Sculpture"}),e.jsx("option",{value:"craft",children:"Craft"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{className:"text-gray-600"}),e.jsxs("select",{value:F,onChange:e=>E(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All States"}),[...new Set(y.map(e=>e.origin))].filter(e=>e).sort().map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(h,{className:"text-gray-600"}),e.jsxs("select",{value:H,onChange:e=>P(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[e.jsx("option",{value:"name",children:"By Name"}),e.jsx("option",{value:"state",children:"By State"}),e.jsx("option",{value:"newest",children:"Newest First"}),e.jsx("option",{value:"oldest",children:"Oldest First"})]})]})]})]})})}),!N&&!j&&e.jsx(e.Fragment,{children:Q.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("p",{className:"text-gray-600 font-lora",children:["Showing ",J+1,"-",Math.min(K,Z.length)," of ",Z.length," art form",1!==Z.length?"s":"",F&&" from "+F]}),q>1&&e.jsxs("p",{className:"text-sm text-gray-500 mt-1 font-lora",children:["Page ",L," of ",q]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 gap-8 auto-rows-auto transition-all duration-1000 delay-500 "+(G?"opacity-100":"opacity-0"),children:Q.map((t,a)=>e.jsx("div",{className:"w-full transition-all duration-700 "+(G?"opacity-100 translate-y-0":"opacity-0 translate-y-12"),style:{transitionDelay:Math.min(100*a,1e3)+"ms"},children:e.jsx(p,{...t,onImageClick:R})},t.t))}),q>1&&e.jsxs("div",{className:"flex justify-center items-center gap-4 mt-12 mb-8",children:[e.jsxs(r.button,{onClick:()=>Y(e=>Math.max(e-1,1)),disabled:1===L,className:"flex items-center gap-2 px-6 py-3 rounded-full font-semibold transition-all duration-300 "+(1===L?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-[#134856] to-[#e05264] hover:from-[#e05264] hover:to-[#134856] text-white shadow-lg hover:shadow-xl transform hover:scale-105"),whileHover:1!==L?{scale:1.05}:{},whileTap:1!==L?{scale:.95}:{},children:[e.jsx(u,{size:14}),"Previous"]}),e.jsx("div",{className:"flex items-center gap-2",children:Array.from({length:Math.min(5,q)},(t,a)=>{const l=Math.max(1,L-2)+a;return l>q?null:e.jsx(r.button,{onClick:()=>Y(l),className:"w-10 h-10 rounded-full font-semibold transition-all duration-300 "+(L===l?"bg-gradient-to-r from-[#134856] to-[#e05264] text-white shadow-lg":"bg-white text-[#134856] border-2 border-[#134856] hover:bg-gradient-to-r hover:from-[#134856] hover:to-[#e05264] hover:text-white"),whileHover:{scale:1.1},whileTap:{scale:.9},children:l},l)})}),e.jsxs(r.button,{onClick:()=>Y(e=>Math.min(e+1,q)),disabled:L===q,className:"flex items-center gap-2 px-6 py-3 rounded-full font-semibold transition-all duration-300 "+(L===q?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-[#134856] to-[#e05264] hover:from-[#e05264] hover:to-[#134856] text-white shadow-lg hover:shadow-xl transform hover:scale-105"),whileHover:L!==q?{scale:1.05}:{},whileTap:L!==q?{scale:.95}:{},children:["Next",e.jsx(f,{size:14})]})]})]}):e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-600 font-lora text-lg",children:F?"No art forms found for "+F:"No art forms available"})})}),O&&e.jsx("div",{onClick:()=>{$(null)},className:"fixed inset-0 bg-white bg-opacity-10 backdrop-blur-md flex flex-col items-center justify-center z-50 cursor-zoom-out p-4",children:e.jsx("div",{className:"w-[600px] h-[400px] flex items-center justify-center bg-white rounded-lg shadow-2xl",children:e.jsx("img",{src:O,alt:"Zoomed art",className:"w-screen h-screen object-cover cursor-zoom-in select-none",onClick:e=>e.stopPropagation(),style:{userSelect:"auto"}})})}),e.jsx("div",{className:"flex justify-center mt-12",children:e.jsx(r.button,{onClick:()=>x("/map"),className:"bg-gradient-to-r from-[#134856] to-[#e05264] hover:from-[#e05264] hover:to-[#134856] text-white px-8 py-3 rounded-full text-lg font-medium transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105",whileHover:{scale:1.05},whileTap:{scale:.95},children:"← Back to India Map"})})]})]})}export{x as default};
