import{r,j as e,m as a,F as P,A}from"./index-LJXkA3a7.js";import{u as F,a as R}from"./use-transform-DTS0UH17.js";function z({name:h,image:g,sound:t,description:y,isPlaying:f,onPlay:x}){const[p,u]=r.useState(!1),n=()=>{u(d=>!d),x(t,h)};return e.jsxs("div",{className:"relative flex flex-col items-center justify-start gap-4 pt-8 pb-8 h-full min-h-[400px]",children:[e.jsxs(a.div,{className:"relative p-1 rounded-full bg-gradient-to-r from-[#1d7c6f] to-[#f58c8c] shadow-2xl",animate:{y:[0,-8,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},whileHover:{scale:1.02,y:-5},whileTap:{scale:.98},children:[e.jsx(a.button,{onClick:n,className:"absolute -top-3 -right-3 w-12 h-12 bg-gradient-to-r from-[#1d7c6f] to-[#f58c8c] rounded-full flex items-center justify-center text-white shadow-lg z-10",whileHover:{scale:1.1},whileTap:{scale:.9},children:f?e.jsx("span",{className:"text-lg",children:"⏸"}):e.jsx("span",{className:"text-lg",children:"▶"})}),e.jsxs(a.div,{className:"relative w-72 h-72 rounded-full bg-[#fdecec] p-8 flex items-center justify-center transition-all duration-300 cursor-pointer",whileTap:{scale:.95},onClick:n,children:[e.jsx("img",{src:g,alt:h,className:"max-h-40 w-auto object-contain"}),f&&e.jsx("div",{className:"absolute bottom-6 flex gap-2",children:[...Array(8)].map((d,c)=>e.jsx(a.span,{className:"w-2 h-8 bg-[#E05264] rounded-sm",animate:{height:["1.5rem","3rem","1.5rem"]},transition:{repeat:1/0,repeatType:"loop",duration:.4,delay:c*.1}},c))})]})]}),p&&e.jsxs(a.div,{className:"relative bg-[#fdecec] border border-[#E05264]/30 text-[#134856] px-6 py-4 rounded-2xl shadow-lg max-w-md text-center text-base font-lora",initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.4},children:[e.jsx("strong",{className:"block mb-2 text-xl font-dm-serif text-[#134856]",children:h}),y,e.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 w-6 h-6 bg-[#fdecec] rotate-45 border-l border-t border-[#E05264]/30"})]})]})}const v="/assets/sitar-s-G4JF3w.mp3",N="/assets/tabla-zVgvh7yb.mp3",I="/assets/flute-DIX0DF0R.mp3",S="/assets/veena-DY8HlCpd.mp3",T="/assets/mridangam-AjTxzzQa.mp3",m=[{sound:v,answer:"Sitar"},{sound:N,answer:"Tabla"},{sound:I,answer:"Bansuri"},{sound:S,answer:"Veena"},{sound:T,answer:"Mridangam"}];function G({instruments:h,onClose:g}){const[t,y]=r.useState(null),[f,x]=r.useState(null),[p,u]=r.useState(!1),[n,d]=r.useState(!1),[c,b]=r.useState(!1),[o,i]=r.useState(null),s=r.useRef(null),k=["Sitar","Tabla","Bansuri","Veena","Mridangam"];r.useEffect(()=>{if(m&&m.length>0){const l=m[Math.floor(Math.random()*m.length)];y(l)}return()=>{s.current&&(s.current.pause(),s.current.currentTime=0)}},[]);const C=(l=!0)=>{if(m&&m.length>0){const w=m[Math.floor(Math.random()*m.length)];y(w),x(null),u(!1),d(!1),l&&c&&setTimeout(()=>{j()},100)}},j=async()=>{if(!(!s.current||!t))try{i(null),s.current.load(),await s.current.play(),d(!0),b(!0),s.current.onended=()=>{d(!1)}}catch{i("Click the play button to hear the sound!"),d(!1)}},D=()=>{c?C(!0):j()},M=()=>{s.current&&(s.current.pause(),s.current.currentTime=0)},E=l=>{M(),x(l),u(!0)};return e.jsx(a.div,{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:g,children:e.jsxs(a.div,{className:"bg-[#fdecec] px-6 py-8 rounded-3xl shadow-xl font-noto text-[#134856] max-w-3xl mx-auto relative",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.3},onClick:l=>l.stopPropagation(),children:[e.jsx("button",{onClick:g,className:"absolute top-4 right-4 w-8 h-8 bg-[#E05264] text-white rounded-full flex items-center justify-center hover:bg-[#d0465a] transition-colors",children:"✕"}),e.jsxs("div",{className:"flex flex-col items-center mb-6",children:[e.jsx("button",{onClick:D,disabled:n,className:`font-semibold font-winky px-6 py-3 rounded-full transition text-white text-base shadow-md ${n?"bg-gray-400 cursor-not-allowed":"bg-[#E05264] hover:bg-[#d0465a]"}`,children:n?"🔊 Playing...":c?"🔊 Play New Sound":"🔊 Start Game"}),o&&e.jsx(a.p,{className:"text-[#E05264] text-sm mt-2 text-center",initial:{opacity:0},animate:{opacity:1},children:o}),!c&&e.jsx("p",{className:"text-[#134856]  font-lora text-sm mt-2 text-center",children:"Click to hear an instrument sound and guess what it is!"})]}),t&&e.jsx("audio",{src:t.sound,ref:s}),e.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-4",children:k.map((l,w)=>e.jsx("button",{onClick:()=>E(l),disabled:p,className:`px-4 py-2 rounded-full border transition text-base font-lora font-medium ${f===l?l===(t==null?void 0:t.answer)?"bg-green-200 border-green-500 text-green-800":"bg-red-200 border-red-500 text-red-800":"bg-white border-gray-300 hover:bg-[#F48C8C]/40"}`,children:l},w))}),p&&e.jsx(a.p,{className:"mt-2 font-lora text-lg font-semibold text-center",initial:{opacity:0},animate:{opacity:1},children:f===(t==null?void 0:t.answer)?"✅ Correct!":`❌ Oops! It was ${t==null?void 0:t.answer}.`})]})})}const O="/assets/sitar-GpeYFOZT.png",B="/assets/tabla-bpbdF4_A.png",H="/assets/flute-B-J2PwmA.png",Y="/assets/veena-j7QdOzPZ.png",$="/assets/mridangam-D6sjYEXl.png";function Q(){const h=r.useRef(null),{scrollYProgress:g}=F({target:h});R(g,[0,1],[0,-100]);const[t,y]=r.useState(!1),[f,x]=r.useState(!1),[p,u]=r.useState(null),n=r.useRef(null);r.useEffect(()=>{const o=setTimeout(()=>{y(!0)},150);return()=>clearTimeout(o)},[]);const d=(o,i)=>{if(p===i){n.current&&(n.current.pause(),n.current.currentTime=0),u(null);return}n.current&&(n.current.pause(),n.current.currentTime=0);const s=new Audio(o);n.current=s,s.play(),u(i),s.onended=()=>{u(null)}};r.useEffect(()=>()=>{n.current&&(n.current.pause(),n.current=null)},[]);const c=[{name:"Sitar",image:O,sound:v,description:"The sitar is a plucked stringed instrument used in Hindustani classical music. 🎵 Did you know? It has been used in pop music by The Beatles!"},{name:"Tabla",image:B,sound:N,description:"Tabla consists of a pair of hand drums and is used in North Indian music. 🎵 Did you know? Each drum has a distinct sound!"},{name:"Bansuri",image:H,sound:I,description:"The bansuri is a bamboo flute associated with Lord Krishna. 🎵 Did you know? It has six to seven finger holes!"},{name:"Veena",image:Y,sound:S,description:"The veena is one of the oldest Indian instruments. 🎵 Did you know? It's often used in Carnatic music performances."},{name:"Mridangam",image:$,sound:T,description:"A classical percussion instrument of South India. 🎵 Did you know? It's the primary rhythmic accompaniment in Carnatic music!"}],b=()=>{const o=Array.from({length:15},(i,s)=>({id:s,size:Math.random()*4+2,color:["rgba(19, 72, 86, 0.6)","rgba(224, 82, 100, 0.6)","rgba(244, 140, 140, 0.6)","rgba(29, 124, 111, 0.6)","rgba(255, 215, 0, 0.6)"][Math.floor(Math.random()*5)],initialX:Math.random()*100,initialY:Math.random()*100,animationDelay:Math.random()*5,animationDuration:8+Math.random()*6,note:["♪","♫","♩","♬","♭","♯"][Math.floor(Math.random()*6)]}));return e.jsx("div",{className:"fixed inset-0 pointer-events-none z-0",children:o.map(i=>e.jsx(a.div,{className:"absolute text-2xl opacity-40",style:{left:`${i.initialX}%`,top:`${i.initialY}%`,color:i.color,filter:"blur(0.5px)"},animate:{y:[0,-80,0],x:[0,25,-25,0],opacity:[.4,.7,.4],scale:[1,1.3,1],rotate:[0,360]},transition:{duration:i.animationDuration,repeat:1/0,delay:i.animationDelay,ease:"easeInOut"},children:i.note},i.id))})};return e.jsxs("div",{ref:h,className:"min-h-screen bg-[#F8E6DA] overflow-hidden",children:[e.jsx(P,{}),e.jsxs("div",{className:"pt-10 pb-8",children:[e.jsx(b,{}),e.jsxs(a.section,{className:"relative overflow-hidden pb-8",initial:{opacity:0},animate:{opacity:t?1:0},transition:{duration:1,delay:.2},children:[e.jsx(a.div,{className:"absolute w-96 h-96 bg-gradient-to-r from-[#E05264]/20 to-[#F48C8C]/20 rounded-full blur-3xl opacity-30 top-0 left-0",animate:{scale:[1,1.2,1],rotate:[0,90,0],opacity:[.3,.5,.3]},transition:{duration:10,repeat:1/0,ease:"easeInOut"}}),e.jsx(a.div,{className:"absolute w-80 h-80 bg-gradient-to-r from-[#1D7C6F]/20 to-[#FFD700]/20 rounded-full blur-3xl opacity-25 bottom-0 right-0",animate:{scale:[1,1.1,1],rotate:[0,-90,0],opacity:[.25,.4,.25]},transition:{duration:8,repeat:1/0,ease:"easeInOut",delay:1}}),e.jsxs("div",{className:"relative container mx-auto px-4 text-center z-10",children:[e.jsx(a.h1,{className:"inline-block text-6xl font-dm-serif mb-8 pb-2 drop-shadow-lg bg-gradient-to-r from-[#134856] to-[#e05264] bg-clip-text text-transparent",style:{lineHeight:"1.2"},initial:{y:50,opacity:0},animate:{y:t?0:50,opacity:t?1:0},transition:{duration:.8,delay:.4},children:"Traditional Music"}),e.jsx(a.p,{className:"text-xl font-lora text-coral-pink font-semibold max-w-3xl mx-auto leading-relaxed mb-6",initial:{y:30,opacity:0},animate:{y:t?0:30,opacity:t?1:0},transition:{duration:.8,delay:.6},children:"Immerse yourself in the soul-stirring melodies of India's classical traditions. Discover the ancient instruments that have echoed through generations, each carrying stories of devotion, celebration, and cultural heritage."})]})]}),e.jsxs("div",{className:"container mx-auto px-2 sm:px-4 relative z-10",children:[e.jsx(a.section,{className:"mb-16",initial:{opacity:0,y:20},animate:{opacity:t?1:0,y:t?0:20},transition:{duration:.8,delay:1},children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-12 justify-items-center max-w-6xl mx-auto",children:c.map((o,i)=>e.jsx(a.div,{initial:{opacity:0,y:20},animate:{opacity:t?1:0,y:t?0:20},transition:{duration:.6,delay:1.2+i*.1},children:e.jsx(z,{name:o.name,image:o.image,sound:o.sound,description:o.description,isPlaying:p===o.name,onPlay:d})},o.name))})}),e.jsx(a.section,{className:"mb-16 text-center",initial:{opacity:0,y:20},animate:{opacity:t?1:0,y:t?0:20},transition:{duration:.8,delay:1.5},children:e.jsx(a.button,{onClick:()=>x(!0),className:"bg-gradient-to-r from-[#134856] to-[#e05264] hover:from-[#e05264] hover:to-[#134856] text-white px-8 py-3 rounded-full text-lg font-medium transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105",whileHover:{scale:1.05},whileTap:{scale:.95},children:"🎵 Test Your Knowledge! 🎵"})})]}),e.jsx(A,{children:f&&e.jsx(G,{instruments:c,onClose:()=>x(!1)})})]})]})}export{Q as default};
